(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Xg={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function eC(){if(p1)return Iu;p1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Iu.Fragment=e,Iu.jsx=t,Iu.jsxs=t,Iu}var g1;function tC(){return g1||(g1=1,Xg.exports=eC()),Xg.exports}var c=tC(),Zg={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function nC(){if(y1)return Me;y1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,T={};function R(z,$,ne){this.props=z,this.context=$,this.refs=T,this.updater=ne||N}R.prototype.isReactComponent={},R.prototype.setState=function(z,$){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,$,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=R.prototype;function k(z,$,ne){this.props=z,this.context=$,this.refs=T,this.updater=ne||N}var q=k.prototype=new M;q.constructor=k,j(q,R.prototype),q.isPureReactComponent=!0;var L=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function O(z,$,ne,ae,ge,Ne){return ne=Ne.ref,{$$typeof:n,type:z,key:$,ref:ne!==void 0?ne:null,props:Ne}}function S(z,$){return O(z.type,$,void 0,void 0,void 0,z.props)}function A(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function B(z){var $={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ne){return $[ne]})}var V=/\/+/g;function U(z,$){return typeof z=="object"&&z!==null&&z.key!=null?B(""+z.key):$.toString(36)}function P(){}function we(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(P,P):(z.status="pending",z.then(function($){z.status==="pending"&&(z.status="fulfilled",z.value=$)},function($){z.status==="pending"&&(z.status="rejected",z.reason=$)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function xe(z,$,ne,ae,ge){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var be=!1;if(z===null)be=!0;else switch(Ne){case"bigint":case"string":case"number":be=!0;break;case"object":switch(z.$$typeof){case n:case e:be=!0;break;case y:return be=z._init,xe(be(z._payload),$,ne,ae,ge)}}if(be)return ge=ge(z),be=ae===""?"."+U(z,0):ae,L(ge)?(ne="",be!=null&&(ne=be.replace(V,"$&/")+"/"),xe(ge,$,ne,"",function(fe){return fe})):ge!=null&&(A(ge)&&(ge=S(ge,ne+(ge.key==null||z&&z.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+be)),$.push(ge)),1;be=0;var de=ae===""?".":ae+":";if(L(z))for(var se=0;se<z.length;se++)ae=z[se],Ne=de+U(ae,se),be+=xe(ae,$,ne,Ne,ge);else if(se=b(z),typeof se=="function")for(z=se.call(z),se=0;!(ae=z.next()).done;)ae=ae.value,Ne=de+U(ae,se++),be+=xe(ae,$,ne,Ne,ge);else if(Ne==="object"){if(typeof z.then=="function")return xe(we(z),$,ne,ae,ge);throw $=String(z),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(z,$,ne){if(z==null)return z;var ae=[],ge=0;return xe(z,ae,"","",function(Ne){return $.call(ne,Ne,ge++)}),ae}function re(z){if(z._status===-1){var $=z._result;$=$(),$.then(function(ne){(z._status===0||z._status===-1)&&(z._status=1,z._result=ne)},function(ne){(z._status===0||z._status===-1)&&(z._status=2,z._result=ne)}),z._status===-1&&(z._status=0,z._result=$)}if(z._status===1)return z._result.default;throw z._result}var he=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function me(){}return Me.Children={map:K,forEach:function(z,$,ne){K(z,function(){$.apply(this,arguments)},ne)},count:function(z){var $=0;return K(z,function(){$++}),$},toArray:function(z){return K(z,function($){return $})||[]},only:function(z){if(!A(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Me.Component=R,Me.Fragment=t,Me.Profiler=a,Me.PureComponent=k,Me.StrictMode=s,Me.Suspense=m,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Me.__COMPILER_RUNTIME={__proto__:null,c:function(z){return H.H.useMemoCache(z)}},Me.cache=function(z){return function(){return z.apply(null,arguments)}},Me.cloneElement=function(z,$,ne){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ae=j({},z.props),ge=z.key,Ne=void 0;if($!=null)for(be in $.ref!==void 0&&(Ne=void 0),$.key!==void 0&&(ge=""+$.key),$)!Q.call($,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&$.ref===void 0||(ae[be]=$[be]);var be=arguments.length-2;if(be===1)ae.children=ne;else if(1<be){for(var de=Array(be),se=0;se<be;se++)de[se]=arguments[se+2];ae.children=de}return O(z.type,ge,void 0,void 0,Ne,ae)},Me.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Me.createElement=function(z,$,ne){var ae,ge={},Ne=null;if($!=null)for(ae in $.key!==void 0&&(Ne=""+$.key),$)Q.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=$[ae]);var be=arguments.length-2;if(be===1)ge.children=ne;else if(1<be){for(var de=Array(be),se=0;se<be;se++)de[se]=arguments[se+2];ge.children=de}if(z&&z.defaultProps)for(ae in be=z.defaultProps,be)ge[ae]===void 0&&(ge[ae]=be[ae]);return O(z,Ne,void 0,void 0,null,ge)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(z){return{$$typeof:h,render:z}},Me.isValidElement=A,Me.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:re}},Me.memo=function(z,$){return{$$typeof:p,type:z,compare:$===void 0?null:$}},Me.startTransition=function(z){var $=H.T,ne={};H.T=ne;try{var ae=z(),ge=H.S;ge!==null&&ge(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(me,he)}catch(Ne){he(Ne)}finally{H.T=$}},Me.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Me.use=function(z){return H.H.use(z)},Me.useActionState=function(z,$,ne){return H.H.useActionState(z,$,ne)},Me.useCallback=function(z,$){return H.H.useCallback(z,$)},Me.useContext=function(z){return H.H.useContext(z)},Me.useDebugValue=function(){},Me.useDeferredValue=function(z,$){return H.H.useDeferredValue(z,$)},Me.useEffect=function(z,$,ne){var ae=H.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(z,$)},Me.useId=function(){return H.H.useId()},Me.useImperativeHandle=function(z,$,ne){return H.H.useImperativeHandle(z,$,ne)},Me.useInsertionEffect=function(z,$){return H.H.useInsertionEffect(z,$)},Me.useLayoutEffect=function(z,$){return H.H.useLayoutEffect(z,$)},Me.useMemo=function(z,$){return H.H.useMemo(z,$)},Me.useOptimistic=function(z,$){return H.H.useOptimistic(z,$)},Me.useReducer=function(z,$,ne){return H.H.useReducer(z,$,ne)},Me.useRef=function(z){return H.H.useRef(z)},Me.useState=function(z){return H.H.useState(z)},Me.useSyncExternalStore=function(z,$,ne){return H.H.useSyncExternalStore(z,$,ne)},Me.useTransition=function(){return H.H.useTransition()},Me.version="19.1.1",Me}var x1;function xy(){return x1||(x1=1,Zg.exports=nC()),Zg.exports}var D=xy(),Jg={exports:{}},Du={},e0={exports:{}},t0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function sC(){return v1||(v1=1,(function(n){function e(K,re){var he=K.length;K.push(re);e:for(;0<he;){var me=he-1>>>1,z=K[me];if(0<a(z,re))K[me]=re,K[he]=z,he=me;else break e}}function t(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var re=K[0],he=K.pop();if(he!==re){K[0]=he;e:for(var me=0,z=K.length,$=z>>>1;me<$;){var ne=2*(me+1)-1,ae=K[ne],ge=ne+1,Ne=K[ge];if(0>a(ae,he))ge<z&&0>a(Ne,ae)?(K[me]=Ne,K[ge]=he,me=ge):(K[me]=ae,K[ne]=he,me=ne);else if(ge<z&&0>a(Ne,he))K[me]=Ne,K[ge]=he,me=ge;else break e}}return re}function a(K,re){var he=K.sortIndex-re.sortIndex;return he!==0?he:K.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,v=null,b=3,N=!1,j=!1,T=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function L(K){for(var re=t(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=K)s(p),re.sortIndex=re.expirationTime,e(m,re);else break;re=t(p)}}function H(K){if(T=!1,L(K),!j)if(t(m)!==null)j=!0,Q||(Q=!0,U());else{var re=t(p);re!==null&&xe(H,re.startTime-K)}}var Q=!1,O=-1,S=5,A=-1;function B(){return R?!0:!(n.unstable_now()-A<S)}function V(){if(R=!1,Q){var K=n.unstable_now();A=K;var re=!0;try{e:{j=!1,T&&(T=!1,k(O),O=-1),N=!0;var he=b;try{t:{for(L(K),v=t(m);v!==null&&!(v.expirationTime>K&&B());){var me=v.callback;if(typeof me=="function"){v.callback=null,b=v.priorityLevel;var z=me(v.expirationTime<=K);if(K=n.unstable_now(),typeof z=="function"){v.callback=z,L(K),re=!0;break t}v===t(m)&&s(m),L(K)}else s(m);v=t(m)}if(v!==null)re=!0;else{var $=t(p);$!==null&&xe(H,$.startTime-K),re=!1}}break e}finally{v=null,b=he,N=!1}re=void 0}}finally{re?U():Q=!1}}}var U;if(typeof q=="function")U=function(){q(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,we=P.port2;P.port1.onmessage=V,U=function(){we.postMessage(null)}}else U=function(){M(V,0)};function xe(K,re){O=M(function(){K(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(K){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var he=b;b=re;try{return K()}finally{b=he}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=b;b=K;try{return re()}finally{b=he}},n.unstable_scheduleCallback=function(K,re,he){var me=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?me+he:me):he=me,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=he+z,K={id:y++,callback:re,priorityLevel:K,startTime:he,expirationTime:z,sortIndex:-1},he>me?(K.sortIndex=he,e(p,K),t(m)===null&&K===t(p)&&(T?(k(O),O=-1):T=!0,xe(H,he-me))):(K.sortIndex=z,e(m,K),j||N||(j=!0,Q||(Q=!0,U()))),K},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(K){var re=b;return function(){var he=b;b=re;try{return K.apply(this,arguments)}finally{b=he}}}})(t0)),t0}var _1;function rC(){return _1||(_1=1,e0.exports=sC()),e0.exports}var n0={exports:{}},Nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function iC(){if(b1)return Nn;b1=1;var n=xy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Nn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},Nn.flushSync=function(m){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=y,s.d.f()}},Nn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Nn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Nn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:N}):y==="script"&&s.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Nn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Nn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Nn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Nn.requestFormReset=function(m){s.d.r(m)},Nn.unstable_batchedUpdates=function(m,p){return m(p)},Nn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},Nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Nn.version="19.1.1",Nn}var w1;function aC(){if(w1)return n0.exports;w1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),n0.exports=iC(),n0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function oC(){if(N1)return Du;N1=1;var n=rC(),e=xy(),t=aC();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,d=i;;){var g=o.return;if(g===null)break;var x=g.alternate;if(x===null){if(d=g.return,d!==null){o=d;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===o)return h(g),r;if(x===d)return h(g),i;x=x.sibling}throw Error(s(188))}if(o.return!==d.return)o=g,d=x;else{for(var E=!1,C=g.child;C;){if(C===o){E=!0,o=g,d=x;break}if(C===d){E=!0,d=g,o=x;break}C=C.sibling}if(!E){for(C=x.child;C;){if(C===o){E=!0,o=x,d=g;break}if(C===d){E=!0,d=x,o=g;break}C=C.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==d)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),q=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function we(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case Q:return"SuspenseList";case A:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case q:return(r.displayName||"Context")+".Provider";case k:return(r._context.displayName||"Context")+".Consumer";case L:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return i=r.displayName||null,i!==null?i:we(r.type)||"Memo";case S:i=r._payload,r=r._init;try{return we(r(i))}catch{}}return null}var xe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},me=[],z=-1;function $(r){return{current:r}}function ne(r){0>z||(r.current=me[z],me[z]=null,z--)}function ae(r,i){z++,me[z]=r.current,r.current=i}var ge=$(null),Ne=$(null),be=$(null),de=$(null);function se(r,i){switch(ae(be,i),ae(Ne,r),ae(ge,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?qb(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=qb(i),r=Hb(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ne(ge),ae(ge,r)}function fe(){ne(ge),ne(Ne),ne(be)}function De(r){r.memoizedState!==null&&ae(de,r);var i=ge.current,o=Hb(i,r.type);i!==o&&(ae(Ne,r),ae(ge,o))}function Oe(r){Ne.current===r&&(ne(ge),ne(Ne)),de.current===r&&(ne(de),Su._currentValue=he)}var Fe=Object.prototype.hasOwnProperty,tt=n.unstable_scheduleCallback,dt=n.unstable_cancelCallback,un=n.unstable_shouldYield,Xs=n.unstable_requestPaint,Rn=n.unstable_now,Tc=n.unstable_getCurrentPriorityLevel,Oa=n.unstable_ImmediatePriority,ys=n.unstable_UserBlockingPriority,_n=n.unstable_NormalPriority,Dr=n.unstable_LowPriority,Si=n.unstable_IdlePriority,kr=n.log,Ai=n.unstable_setDisableYieldValue,_t=null,rt=null;function Wn(r){if(typeof kr=="function"&&Ai(r),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(_t,r)}catch{}}var bn=Math.clz32?Math.clz32:Ma,Bd=Math.log,Jm=Math.LN2;function Ma(r){return r>>>=0,r===0?32:31-(Bd(r)/Jm|0)|0}var Va=256,La=4194304;function Vs(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Fo(r,i,o){var d=r.pendingLanes;if(d===0)return 0;var g=0,x=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var C=d&134217727;return C!==0?(d=C&~x,d!==0?g=Vs(d):(E&=C,E!==0?g=Vs(E):o||(o=C&~r,o!==0&&(g=Vs(o))))):(C=d&~x,C!==0?g=Vs(C):E!==0?g=Vs(E):o||(o=d&~r,o!==0&&(g=Vs(o)))),g===0?0:i!==0&&i!==g&&(i&x)===0&&(x=g&-g,o=i&-i,x>=o||x===32&&(o&4194048)!==0)?i:g}function Ua(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Sc(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(){var r=Va;return Va<<=1,(Va&4194048)===0&&(Va=256),r}function jc(){var r=La;return La<<=1,(La&62914560)===0&&(La=4194304),r}function Pr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Or(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Cc(r,i,o,d,g,x){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var C=r.entanglements,F=r.expirationTimes,Z=r.hiddenUpdates;for(o=E&~o;0<o;){var ie=31-bn(o),ce=1<<ie;C[ie]=0,F[ie]=-1;var J=Z[ie];if(J!==null)for(Z[ie]=null,ie=0;ie<J.length;ie++){var ee=J[ie];ee!==null&&(ee.lane&=-536870913)}o&=~ce}d!==0&&Zs(r,d,0),x!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=x&~(E&~i))}function Zs(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var d=31-bn(i);r.entangledLanes|=i,r.entanglements[d]=r.entanglements[d]|1073741824|o&4194090}function Rc(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var d=31-bn(o),g=1<<d;g&i|r[d]&i&&(r[d]|=i),o&=~g}}function ji(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ci(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:c1(r.type))}function Fd(r,i){var o=re.p;try{return re.p=r,i()}finally{re.p=o}}var bt=Math.random().toString(36).slice(2),Qt="__reactFiber$"+bt,Ut="__reactProps$"+bt,xs="__reactContainer$"+bt,Ic="__reactEvents$"+bt,ep="__reactListeners$"+bt,Ri="__reactHandles$"+bt,qd="__reactResources$"+bt,za="__reactMarker$"+bt;function Ii(r){delete r[Qt],delete r[Ut],delete r[Ic],delete r[ep],delete r[Ri]}function Mr(r){var i=r[Qt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[xs]||o[Qt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=Kb(r);r!==null;){if(o=r[Qt])return o;r=Kb(r)}return i}r=o,o=r.parentNode}return null}function Js(r){if(r=r[Qt]||r[xs]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function er(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function In(r){var i=r[qd];return i||(i=r[qd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(r){r[za]=!0}var Dc=new Set,Ho={};function Ls(r,i){Vr(r,i),Vr(r+"Capture",i)}function Vr(r,i){for(Ho[r]=i,r=0;r<i.length;r++)Dc.add(i[r])}var Hd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gd={},Ba={};function $d(r){return Fe.call(Ba,r)?!0:Fe.call(Gd,r)?!1:Hd.test(r)?Ba[r]=!0:(Gd[r]=!0,!1)}function Di(r,i,o){if($d(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function tr(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function dn(r,i,o,d){if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+d)}}var Fa,Yd;function Lr(r){if(Fa===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Fa=i&&i[1]||"",Yd=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+r+Yd}var Go=!1;function $o(r,i){if(!r||Go)return"";Go=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var J=ee}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ee){J=ee}r.call(ce.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),E=x[0],C=x[1];if(E&&C){var F=E.split(`
`),Z=C.split(`
`);for(g=d=0;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(d===F.length||g===Z.length)for(d=F.length-1,g=Z.length-1;1<=d&&0<=g&&F[d]!==Z[g];)g--;for(;1<=d&&0<=g;d--,g--)if(F[d]!==Z[g]){if(d!==1||g!==1)do if(d--,g--,0>g||F[d]!==Z[g]){var ie=`
`+F[d].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),ie}while(1<=d&&0<=g);break}}}finally{Go=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Lr(o):""}function kc(r){switch(r.tag){case 26:case 27:case 5:return Lr(r.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return $o(r.type,!1);case 11:return $o(r.type.render,!1);case 1:return $o(r.type,!0);case 31:return Lr("Activity");default:return""}}function Yo(r){try{var i="";do i+=kc(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Dn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pc(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tp(r){var i=Pc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,x=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(E){d=""+E,x.call(this,E)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ko(r){r._valueTracker||(r._valueTracker=tp(r))}function Oc(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return r&&(d=Pc(r)?r.checked?"true":"false":r.value),r=d,r!==o?(i.setValue(r),!0):!1}function qa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var np=/[\n"\\]/g;function zt(r){return r.replace(np,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Xn(r,i,o,d,g,x,E,C){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Dn(i)):r.value!==""+Dn(i)&&(r.value=""+Dn(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?ki(r,E,Dn(i)):o!=null?ki(r,E,Dn(o)):d!=null&&r.removeAttribute("value"),g==null&&x!=null&&(r.defaultChecked=!!x),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+Dn(C):r.removeAttribute("name")}function Ha(r,i,o,d,g,x,E,C){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),i!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||i!=null))return;o=o!=null?""+Dn(o):"",i=i!=null?""+Dn(i):o,C||i===r.value||(r.value=i),r.defaultValue=i}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=C?r.checked:!!d,r.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function ki(r,i,o){i==="number"&&qa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ur(r,i,o,d){if(r=r.options,i){i={};for(var g=0;g<o.length;g++)i["$"+o[g]]=!0;for(o=0;o<r.length;o++)g=i.hasOwnProperty("$"+r[o].value),r[o].selected!==g&&(r[o].selected=g),g&&d&&(r[o].defaultSelected=!0)}else{for(o=""+Dn(o),i=null,g=0;g<r.length;g++){if(r[g].value===o){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function ot(r,i,o){if(i!=null&&(i=""+Dn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+Dn(o):""}function Ga(r,i,o,d){if(i==null){if(d!=null){if(o!=null)throw Error(s(92));if(xe(d)){if(1<d.length)throw Error(s(93));d=d[0]}o=d}o==null&&(o=""),i=o}o=Dn(i),r.defaultValue=o,d=r.textContent,d===o&&d!==""&&d!==null&&(r.value=d)}function vs(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var $a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(r,i,o){var d=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":d?r.setProperty(i,o):typeof o!="number"||o===0||$a.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function Mc(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var g in i)d=i[g],i.hasOwnProperty(g)&&o[g]!==d&&Kd(r,g,d)}else for(var x in i)i.hasOwnProperty(x)&&Kd(r,x,i[x])}function Vc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qo(r){return rp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var zr=null;function _s(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Br=null,Fr=null;function Lc(r){var i=Js(r);if(i&&(r=i.stateNode)){var o=r[Ut]||null;e:switch(r=i.stateNode,i.type){case"input":if(Xn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+zt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==r&&d.form===r.form){var g=d[Ut]||null;if(!g)throw Error(s(90));Xn(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<o.length;i++)d=o[i],d.form===r.form&&Oc(d)}break e;case"textarea":ot(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Ur(r,!!o.multiple,i,!1)}}}var nr=!1;function Qd(r,i,o){if(nr)return r(i,o);nr=!0;try{var d=r(i);return d}finally{if(nr=!1,(Br!==null||Fr!==null)&&(Fh(),Br&&(i=Br,r=Fr,Fr=Br=null,Lc(i),r)))for(i=0;i<r.length;i++)Lc(r[i])}}function Ya(r,i){var o=r.stateNode;if(o===null)return null;var d=o[Ut]||null;if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=!1;if(Us)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){bs=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{bs=!1}var sr=null,Pi=null,qr=null;function Uc(){if(qr)return qr;var r,i=Pi,o=i.length,d,g="value"in sr?sr.value:sr.textContent,x=g.length;for(r=0;r<o&&i[r]===g[r];r++);var E=o-r;for(d=1;d<=E&&i[o-d]===g[x-d];d++);return qr=g.slice(r,1<d?1-d:void 0)}function rr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ir(){return!0}function zc(){return!1}function tn(r){function i(o,d,g,x,E){this._reactName=o,this._targetInst=g,this.type=d,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(o=r[C],this[C]=o?o(x):x[C]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ir:zc,this.isPropagationStopped=zc,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),i}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=tn(nt),Qa=y({},nt,{view:0,detail:0}),Wd=tn(Qa),Xo,Zo,ar,Wa=y({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ar&&(ar&&r.type==="mousemove"?(Xo=r.screenX-ar.screenX,Zo=r.screenY-ar.screenY):Zo=Xo=0,ar=r),Xo)},movementY:function(r){return"movementY"in r?r.movementY:Zo}}),ws=tn(Wa),Xd=y({},Wa,{dataTransfer:0}),ip=tn(Xd),Xa=y({},Qa,{relatedTarget:0}),Jo=tn(Xa),Bc=y({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),el=tn(Bc),Zd=y({},nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tl=tn(Zd),ap=y({},nt,{data:0}),Fc=tn(ap),Za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=eh[r])?!!i[r]:!1}function Ja(){return qc}var th=y({},Qa,{key:function(r){if(r.key){var i=Za[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=rr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jd[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(r){return r.type==="keypress"?rr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?rr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),nl=tn(th),nh=y({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=tn(nh),Hr=y({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),sh=tn(Hr),rh=y({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ih=tn(rh),ah=y({},Wa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),sl=tn(ah),kn=y({},nt,{newState:0,oldState:0}),oh=tn(kn),lh=[9,13,27,32],or=Us&&"CompositionEvent"in window,f=null;Us&&"documentMode"in document&&(f=document.documentMode);var _=Us&&"TextEvent"in window&&!f,w=Us&&(!or||f&&8<f&&11>=f),I=" ",W=!1;function te(r,i){switch(r){case"keyup":return lh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ye=!1;function Wt(r,i){switch(r){case"compositionend":return pe(i);case"keypress":return i.which!==32?null:(W=!0,I);case"textInput":return r=i.data,r===I&&W?null:r;default:return null}}function Ke(r,i){if(Ye)return r==="compositionend"||!or&&te(r,i)?(r=Uc(),qr=Pi=sr=null,Ye=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return w&&i.locale!=="ko"?null:i.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!nn[r.type]:i==="textarea"}function Gr(r,i,o,d){Br?Fr?Fr.push(d):Fr=[d]:Br=d,i=Kh(i,"onChange"),0<i.length&&(o=new Wo("onChange","change",null,o,d),r.push({event:o,listeners:i}))}var hn=null,lr=null;function Gc(r){Lb(r,0)}function ch(r){var i=er(r);if(Oc(i))return r}function iv(r,i){if(r==="change")return i}var av=!1;if(Us){var op;if(Us){var lp="oninput"in document;if(!lp){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),lp=typeof ov.oninput=="function"}op=lp}else op=!1;av=op&&(!document.documentMode||9<document.documentMode)}function lv(){hn&&(hn.detachEvent("onpropertychange",cv),lr=hn=null)}function cv(r){if(r.propertyName==="value"&&ch(lr)){var i=[];Gr(i,lr,r,_s(r)),Qd(Gc,i)}}function RA(r,i,o){r==="focusin"?(lv(),hn=i,lr=o,hn.attachEvent("onpropertychange",cv)):r==="focusout"&&lv()}function IA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ch(lr)}function DA(r,i){if(r==="click")return ch(i)}function kA(r,i){if(r==="input"||r==="change")return ch(i)}function PA(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Zn=typeof Object.is=="function"?Object.is:PA;function $c(r,i){if(Zn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var g=o[d];if(!Fe.call(i,g)||!Zn(r[g],i[g]))return!1}return!0}function uv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dv(r,i){var o=uv(r);r=0;for(var d;o;){if(o.nodeType===3){if(d=r+o.textContent.length,r<=i&&d>=i)return{node:o,offset:i-r};r=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uv(o)}}function hv(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?hv(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function fv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=qa(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=qa(r.document)}return i}function cp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var OA=Us&&"documentMode"in document&&11>=document.documentMode,rl=null,up=null,Yc=null,dp=!1;function mv(r,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dp||rl==null||rl!==qa(d)||(d=rl,"selectionStart"in d&&cp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Yc&&$c(Yc,d)||(Yc=d,d=Kh(up,"onSelect"),0<d.length&&(i=new Wo("onSelect","select",null,i,o),r.push({event:i,listeners:d}),i.target=rl)))}function eo(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var il={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionrun:eo("Transition","TransitionRun"),transitionstart:eo("Transition","TransitionStart"),transitioncancel:eo("Transition","TransitionCancel"),transitionend:eo("Transition","TransitionEnd")},hp={},pv={};Us&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function to(r){if(hp[r])return hp[r];if(!il[r])return r;var i=il[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in pv)return hp[r]=i[o];return r}var gv=to("animationend"),yv=to("animationiteration"),xv=to("animationstart"),MA=to("transitionrun"),VA=to("transitionstart"),LA=to("transitioncancel"),vv=to("transitionend"),_v=new Map,fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fp.push("scrollEnd");function zs(r,i){_v.set(r,i),Ls(i,[r])}var bv=new WeakMap;function Ns(r,i){if(typeof r=="object"&&r!==null){var o=bv.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Yo(i)},bv.set(r,i),i)}return{value:r,source:i,stack:Yo(i)}}var Es=[],al=0,mp=0;function uh(){for(var r=al,i=mp=al=0;i<r;){var o=Es[i];Es[i++]=null;var d=Es[i];Es[i++]=null;var g=Es[i];Es[i++]=null;var x=Es[i];if(Es[i++]=null,d!==null&&g!==null){var E=d.pending;E===null?g.next=g:(g.next=E.next,E.next=g),d.pending=g}x!==0&&wv(o,g,x)}}function dh(r,i,o,d){Es[al++]=r,Es[al++]=i,Es[al++]=o,Es[al++]=d,mp|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function pp(r,i,o,d){return dh(r,i,o,d),hh(r)}function ol(r,i){return dh(r,null,null,i),hh(r)}function wv(r,i,o){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o);for(var g=!1,x=r.return;x!==null;)x.childLanes|=o,d=x.alternate,d!==null&&(d.childLanes|=o),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(g=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,g&&i!==null&&(g=31-bn(o),r=x.hiddenUpdates,d=r[g],d===null?r[g]=[i]:d.push(i),i.lane=o|536870912),x):null}function hh(r){if(50<xu)throw xu=0,bg=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var ll={};function UA(r,i,o,d){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(r,i,o,d){return new UA(r,i,o,d)}function gp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $r(r,i){var o=r.alternate;return o===null?(o=Jn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Nv(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function fh(r,i,o,d,g,x){var E=0;if(d=r,typeof r=="function")gp(r)&&(E=1);else if(typeof r=="string")E=Bj(r,o,ge.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case A:return r=Jn(31,o,i,g),r.elementType=A,r.lanes=x,r;case j:return no(o.children,g,x,i);case T:E=8,g|=24;break;case R:return r=Jn(12,o,i,g|2),r.elementType=R,r.lanes=x,r;case H:return r=Jn(13,o,i,g),r.elementType=H,r.lanes=x,r;case Q:return r=Jn(19,o,i,g),r.elementType=Q,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:case q:E=10;break e;case k:E=9;break e;case L:E=11;break e;case O:E=14;break e;case S:E=16,d=null;break e}E=29,o=Error(s(130,r===null?"null":typeof r,"")),d=null}return i=Jn(E,o,i,g),i.elementType=r,i.type=d,i.lanes=x,i}function no(r,i,o,d){return r=Jn(7,r,d,i),r.lanes=o,r}function yp(r,i,o){return r=Jn(6,r,null,i),r.lanes=o,r}function xp(r,i,o){return i=Jn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var cl=[],ul=0,mh=null,ph=0,Ts=[],Ss=0,so=null,Yr=1,Kr="";function ro(r,i){cl[ul++]=ph,cl[ul++]=mh,mh=r,ph=i}function Ev(r,i,o){Ts[Ss++]=Yr,Ts[Ss++]=Kr,Ts[Ss++]=so,so=r;var d=Yr;r=Kr;var g=32-bn(d)-1;d&=~(1<<g),o+=1;var x=32-bn(i)+g;if(30<x){var E=g-g%5;x=(d&(1<<E)-1).toString(32),d>>=E,g-=E,Yr=1<<32-bn(i)+g|o<<g|d,Kr=x+r}else Yr=1<<x|o<<g|d,Kr=r}function vp(r){r.return!==null&&(ro(r,1),Ev(r,1,0))}function _p(r){for(;r===mh;)mh=cl[--ul],cl[ul]=null,ph=cl[--ul],cl[ul]=null;for(;r===so;)so=Ts[--Ss],Ts[Ss]=null,Kr=Ts[--Ss],Ts[Ss]=null,Yr=Ts[--Ss],Ts[Ss]=null}var Pn=null,Rt=null,et=!1,io=null,cr=!1,bp=Error(s(519));function ao(r){var i=Error(s(418,""));throw Wc(Ns(i,r)),bp}function Tv(r){var i=r.stateNode,o=r.type,d=r.memoizedProps;switch(i[Qt]=r,i[Ut]=d,o){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(o=0;o<_u.length;o++)ze(_u[o],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Ha(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ko(i);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),Ga(i,d.value,d.defaultValue,d.children),Ko(i)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||d.suppressHydrationWarning===!0||Fb(i.textContent,o)?(d.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),d.onScroll!=null&&ze("scroll",i),d.onScrollEnd!=null&&ze("scrollend",i),d.onClick!=null&&(i.onclick=Qh),i=!0):i=!1,i||ao(r)}function Sv(r){for(Pn=r.return;Pn;)switch(Pn.tag){case 5:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:Pn=Pn.return}}function Kc(r){if(r!==Pn)return!1;if(!et)return Sv(r),et=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Vg(r.type,r.memoizedProps)),o=!o),o&&Rt&&ao(r),Sv(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){Rt=Fs(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}Rt=null}}else i===27?(i=Rt,Wi(r.type)?(r=Bg,Bg=null,Rt=r):Rt=i):Rt=Pn?Fs(r.stateNode.nextSibling):null;return!0}function Qc(){Rt=Pn=null,et=!1}function Av(){var r=io;return r!==null&&(Bn===null?Bn=r:Bn.push.apply(Bn,r),io=null),r}function Wc(r){io===null?io=[r]:io.push(r)}var wp=$(null),oo=null,Qr=null;function Oi(r,i,o){ae(wp,i._currentValue),i._currentValue=o}function Wr(r){r._currentValue=wp.current,ne(wp)}function Np(r,i,o){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===o)break;r=r.return}}function Ep(r,i,o,d){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var x=g.dependencies;if(x!==null){var E=g.child;x=x.firstContext;e:for(;x!==null;){var C=x;x=g;for(var F=0;F<i.length;F++)if(C.context===i[F]){x.lanes|=o,C=x.alternate,C!==null&&(C.lanes|=o),Np(x.return,o,r),d||(E=null);break e}x=C.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(s(341));E.lanes|=o,x=E.alternate,x!==null&&(x.lanes|=o),Np(E,o,r),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===r){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Xc(r,i,o,d){r=null;for(var g=i,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=g.type;Zn(g.pendingProps.value,E.value)||(r!==null?r.push(C):r=[C])}}else if(g===de.current){if(E=g.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Su):r=[Su])}g=g.return}r!==null&&Ep(i,r,o,d),i.flags|=262144}function gh(r){for(r=r.firstContext;r!==null;){if(!Zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function lo(r){oo=r,Qr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function wn(r){return jv(oo,r)}function yh(r,i){return oo===null&&lo(r),jv(r,i)}function jv(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Qr===null){if(r===null)throw Error(s(308));Qr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Qr=Qr.next=i;return o}var zA=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,d){r.push(d)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},BA=n.unstable_scheduleCallback,FA=n.unstable_NormalPriority,Zt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tp(){return{controller:new zA,data:new Map,refCount:0}}function Zc(r){r.refCount--,r.refCount===0&&BA(FA,function(){r.controller.abort()})}var Jc=null,Sp=0,dl=0,hl=null;function qA(r,i){if(Jc===null){var o=Jc=[];Sp=0,dl=jg(),hl={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Sp++,i.then(Cv,Cv),i}function Cv(){if(--Sp===0&&Jc!==null){hl!==null&&(hl.status="fulfilled");var r=Jc;Jc=null,dl=0,hl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function HA(r,i){var o=[],d={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return r.then(function(){d.status="fulfilled",d.value=i;for(var g=0;g<o.length;g++)(0,o[g])(i)},function(g){for(d.status="rejected",d.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),d}var Rv=K.S;K.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&qA(r,i),Rv!==null&&Rv(r,i)};var co=$(null);function Ap(){var r=co.current;return r!==null?r:pt.pooledCache}function xh(r,i){i===null?ae(co,co.current):ae(co,i.pool)}function Iv(){var r=Ap();return r===null?null:{parent:Zt._currentValue,pool:r}}var eu=Error(s(460)),Dv=Error(s(474)),vh=Error(s(542)),jp={then:function(){}};function kv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function _h(){}function Pv(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(_h,_h),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Mv(r),r;default:if(typeof i.status=="string")i.then(_h,_h);else{if(r=pt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(d){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=d}},function(d){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Mv(r),r}throw tu=i,eu}}var tu=null;function Ov(){if(tu===null)throw Error(s(459));var r=tu;return tu=null,r}function Mv(r){if(r===eu||r===vh)throw Error(s(483))}var Mi=!1;function Cp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Vi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Li(r,i,o){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(it&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,i=hh(r),wv(r,null,o),i}return dh(r,d,i,o),hh(r)}function nu(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,Rc(r,o)}}function Ip(r,i){var o=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var g=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?g=x=E:x=x.next=E,o=o.next}while(o!==null);x===null?g=x=i:x=x.next=i}else g=x=i;o={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Dp=!1;function su(){if(Dp){var r=hl;if(r!==null)throw r}}function ru(r,i,o,d){Dp=!1;var g=r.updateQueue;Mi=!1;var x=g.firstBaseUpdate,E=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var F=C,Z=F.next;F.next=null,E===null?x=Z:E.next=Z,E=F;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,C=ie.lastBaseUpdate,C!==E&&(C===null?ie.firstBaseUpdate=Z:C.next=Z,ie.lastBaseUpdate=F))}if(x!==null){var ce=g.baseState;E=0,ie=Z=F=null,C=x;do{var J=C.lane&-536870913,ee=J!==C.lane;if(ee?(Qe&J)===J:(d&J)===J){J!==0&&J===dl&&(Dp=!0),ie!==null&&(ie=ie.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ie=r,Ae=C;J=i;var ut=o;switch(Ae.tag){case 1:if(Ie=Ae.payload,typeof Ie=="function"){ce=Ie.call(ut,ce,J);break e}ce=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ae.payload,J=typeof Ie=="function"?Ie.call(ut,ce,J):Ie,J==null)break e;ce=y({},ce,J);break e;case 2:Mi=!0}}J=C.callback,J!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=g.callbacks,ee===null?g.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ie===null?(Z=ie=ee,F=ce):ie=ie.next=ee,E|=J;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);ie===null&&(F=ce),g.baseState=F,g.firstBaseUpdate=Z,g.lastBaseUpdate=ie,x===null&&(g.shared.lanes=0),$i|=E,r.lanes=E,r.memoizedState=ce}}function Vv(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Lv(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Vv(o[r],i)}var fl=$(null),bh=$(0);function Uv(r,i){r=si,ae(bh,r),ae(fl,i),si=r|i.baseLanes}function kp(){ae(bh,si),ae(fl,fl.current)}function Pp(){si=bh.current,ne(fl),ne(bh)}var Ui=0,Ve=null,lt=null,Bt=null,wh=!1,ml=!1,uo=!1,Nh=0,iu=0,pl=null,GA=0;function Pt(){throw Error(s(321))}function Op(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Zn(r[o],i[o]))return!1;return!0}function Mp(r,i,o,d,g,x){return Ui=x,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=r===null||r.memoizedState===null?w_:N_,uo=!1,x=o(d,g),uo=!1,ml&&(x=Bv(i,o,d,g)),zv(r),x}function zv(r){K.H=Ch;var i=lt!==null&&lt.next!==null;if(Ui=0,Bt=lt=Ve=null,wh=!1,iu=0,pl=null,i)throw Error(s(300));r===null||sn||(r=r.dependencies,r!==null&&gh(r)&&(sn=!0))}function Bv(r,i,o,d){Ve=r;var g=0;do{if(ml&&(pl=null),iu=0,ml=!1,25<=g)throw Error(s(301));if(g+=1,Bt=lt=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=ZA,x=i(o,d)}while(ml);return x}function $A(){var r=K.H,i=r.useState()[0];return i=typeof i.then=="function"?au(i):i,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(Ve.flags|=1024),i}function Vp(){var r=Nh!==0;return Nh=0,r}function Lp(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Up(r){if(wh){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wh=!1}Ui=0,Bt=lt=Ve=null,ml=!1,iu=Nh=0,pl=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ve.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Ft(){if(lt===null){var r=Ve.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var i=Bt===null?Ve.memoizedState:Bt.next;if(i!==null)Bt=i,lt=r;else{if(r===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Bt===null?Ve.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(r){var i=iu;return iu+=1,pl===null&&(pl=[]),r=Pv(pl,r,i),i=Ve,(Bt===null?i.memoizedState:Bt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?w_:N_),r}function Eh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return au(r);if(r.$$typeof===q)return wn(r)}throw Error(s(438,String(r)))}function Bp(r){var i=null,o=Ve.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var d=Ve.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=zp(),Ve.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),d=0;d<r;d++)o[d]=B;return i.index++,o}function Xr(r,i){return typeof i=="function"?i(r):i}function Th(r){var i=Ft();return Fp(i,lt,r)}function Fp(r,i,o){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var g=r.baseQueue,x=d.pending;if(x!==null){if(g!==null){var E=g.next;g.next=x.next,x.next=E}i.baseQueue=g=x,d.pending=null}if(x=r.baseState,g===null)r.memoizedState=x;else{i=g.next;var C=E=null,F=null,Z=i,ie=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(Qe&ce)===ce:(Ui&ce)===ce){var J=Z.revertLane;if(J===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===dl&&(ie=!0);else if((Ui&J)===J){Z=Z.next,J===dl&&(ie=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(C=F=ce,E=x):F=F.next=ce,Ve.lanes|=J,$i|=J;ce=Z.action,uo&&o(x,ce),x=Z.hasEagerState?Z.eagerState:o(x,ce)}else J={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},F===null?(C=F=J,E=x):F=F.next=J,Ve.lanes|=ce,$i|=ce;Z=Z.next}while(Z!==null&&Z!==i);if(F===null?E=x:F.next=C,!Zn(x,r.memoizedState)&&(sn=!0,ie&&(o=hl,o!==null)))throw o;r.memoizedState=x,r.baseState=E,r.baseQueue=F,d.lastRenderedState=x}return g===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function qp(r){var i=Ft(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var d=o.dispatch,g=o.pending,x=i.memoizedState;if(g!==null){o.pending=null;var E=g=g.next;do x=r(x,E.action),E=E.next;while(E!==g);Zn(x,i.memoizedState)||(sn=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),o.lastRenderedState=x}return[x,d]}function Fv(r,i,o){var d=Ve,g=Ft(),x=et;if(x){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!Zn((lt||g).memoizedState,o);E&&(g.memoizedState=o,sn=!0),g=g.queue;var C=Gv.bind(null,d,g,r);if(ou(2048,8,C,[r]),g.getSnapshot!==i||E||Bt!==null&&Bt.memoizedState.tag&1){if(d.flags|=2048,gl(9,Sh(),Hv.bind(null,d,g,o,i),null),pt===null)throw Error(s(349));x||(Ui&124)!==0||qv(d,i,o)}return o}function qv(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Ve.updateQueue,i===null?(i=zp(),Ve.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Hv(r,i,o,d){i.value=o,i.getSnapshot=d,$v(i)&&Yv(r)}function Gv(r,i,o){return o(function(){$v(i)&&Yv(r)})}function $v(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Zn(r,o)}catch{return!0}}function Yv(r){var i=ol(r,2);i!==null&&rs(i,r,2)}function Hp(r){var i=Un();if(typeof r=="function"){var o=r;if(r=o(),uo){Wn(!0);try{o()}finally{Wn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:r},i}function Kv(r,i,o,d){return r.baseState=o,Fp(r,lt,typeof d=="function"?d:Xr)}function YA(r,i,o,d,g){if(jh(r))throw Error(s(485));if(r=i.action,r!==null){var x={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};K.T!==null?o(!0):x.isTransition=!1,d(x),o=i.pending,o===null?(x.next=i.pending=x,Qv(i,x)):(x.next=o.next,i.pending=o.next=x)}}function Qv(r,i){var o=i.action,d=i.payload,g=r.state;if(i.isTransition){var x=K.T,E={};K.T=E;try{var C=o(g,d),F=K.S;F!==null&&F(E,C),Wv(r,i,C)}catch(Z){Gp(r,i,Z)}finally{K.T=x}}else try{x=o(g,d),Wv(r,i,x)}catch(Z){Gp(r,i,Z)}}function Wv(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){Xv(r,i,d)},function(d){return Gp(r,i,d)}):Xv(r,i,o)}function Xv(r,i,o){i.status="fulfilled",i.value=o,Zv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,Qv(r,o)))}function Gp(r,i,o){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=o,Zv(i),i=i.next;while(i!==d)}r.action=null}function Zv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Jv(r,i){return i}function e_(r,i){if(et){var o=pt.formState;if(o!==null){e:{var d=Ve;if(et){if(Rt){t:{for(var g=Rt,x=cr;g.nodeType!==8;){if(!x){g=null;break t}if(g=Fs(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Rt=Fs(g.nextSibling),d=g.data==="F!";break e}}ao(d)}d=!1}d&&(i=o[0])}}return o=Un(),o.memoizedState=o.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:i},o.queue=d,o=v_.bind(null,Ve,d),d.dispatch=o,d=Hp(!1),x=Wp.bind(null,Ve,!1,d.queue),d=Un(),g={state:i,dispatch:null,action:r,pending:null},d.queue=g,o=YA.bind(null,Ve,g,x,o),g.dispatch=o,d.memoizedState=r,[i,o,!1]}function t_(r){var i=Ft();return n_(i,lt,r)}function n_(r,i,o){if(i=Fp(r,i,Jv)[0],r=Th(Xr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=au(i)}catch(E){throw E===eu?vh:E}else d=i;i=Ft();var g=i.queue,x=g.dispatch;return o!==i.memoizedState&&(Ve.flags|=2048,gl(9,Sh(),KA.bind(null,g,o),null)),[d,x,r]}function KA(r,i){r.action=i}function s_(r){var i=Ft(),o=lt;if(o!==null)return n_(i,o,r);Ft(),i=i.memoizedState,o=Ft();var d=o.queue.dispatch;return o.memoizedState=r,[i,d,!1]}function gl(r,i,o,d){return r={tag:r,create:o,deps:d,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=zp(),Ve.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(d=o.next,o.next=r,r.next=d,i.lastEffect=r),r}function Sh(){return{destroy:void 0,resource:void 0}}function r_(){return Ft().memoizedState}function Ah(r,i,o,d){var g=Un();d=d===void 0?null:d,Ve.flags|=r,g.memoizedState=gl(1|i,Sh(),o,d)}function ou(r,i,o,d){var g=Ft();d=d===void 0?null:d;var x=g.memoizedState.inst;lt!==null&&d!==null&&Op(d,lt.memoizedState.deps)?g.memoizedState=gl(i,x,o,d):(Ve.flags|=r,g.memoizedState=gl(1|i,x,o,d))}function i_(r,i){Ah(8390656,8,r,i)}function a_(r,i){ou(2048,8,r,i)}function o_(r,i){return ou(4,2,r,i)}function l_(r,i){return ou(4,4,r,i)}function c_(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function u_(r,i,o){o=o!=null?o.concat([r]):null,ou(4,4,c_.bind(null,i,r),o)}function $p(){}function d_(r,i){var o=Ft();i=i===void 0?null:i;var d=o.memoizedState;return i!==null&&Op(i,d[1])?d[0]:(o.memoizedState=[r,i],r)}function h_(r,i){var o=Ft();i=i===void 0?null:i;var d=o.memoizedState;if(i!==null&&Op(i,d[1]))return d[0];if(d=r(),uo){Wn(!0);try{r()}finally{Wn(!1)}}return o.memoizedState=[d,i],d}function Yp(r,i,o){return o===void 0||(Ui&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=pb(),Ve.lanes|=r,$i|=r,o)}function f_(r,i,o,d){return Zn(o,i)?o:fl.current!==null?(r=Yp(r,o,d),Zn(r,i)||(sn=!0),r):(Ui&42)===0?(sn=!0,r.memoizedState=o):(r=pb(),Ve.lanes|=r,$i|=r,i)}function m_(r,i,o,d,g){var x=re.p;re.p=x!==0&&8>x?x:8;var E=K.T,C={};K.T=C,Wp(r,!1,i,o);try{var F=g(),Z=K.S;if(Z!==null&&Z(C,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ie=HA(F,d);lu(r,i,ie,ss(r))}else lu(r,i,d,ss(r))}catch(ce){lu(r,i,{then:function(){},status:"rejected",reason:ce},ss())}finally{re.p=x,K.T=E}}function QA(){}function Kp(r,i,o,d){if(r.tag!==5)throw Error(s(476));var g=p_(r).queue;m_(r,g,i,he,o===null?QA:function(){return g_(r),o(d)})}function p_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:he},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function g_(r){var i=p_(r).next.queue;lu(r,i,{},ss())}function Qp(){return wn(Su)}function y_(){return Ft().memoizedState}function x_(){return Ft().memoizedState}function WA(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=ss();r=Vi(o);var d=Li(i,r,o);d!==null&&(rs(d,i,o),nu(d,i,o)),i={cache:Tp()},r.payload=i;return}i=i.return}}function XA(r,i,o){var d=ss();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},jh(r)?__(i,o):(o=pp(r,i,o,d),o!==null&&(rs(o,r,d),b_(o,i,d)))}function v_(r,i,o){var d=ss();lu(r,i,o,d)}function lu(r,i,o,d){var g={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(jh(r))__(i,g);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var E=i.lastRenderedState,C=x(E,o);if(g.hasEagerState=!0,g.eagerState=C,Zn(C,E))return dh(r,i,g,0),pt===null&&uh(),!1}catch{}finally{}if(o=pp(r,i,g,d),o!==null)return rs(o,r,d),b_(o,i,d),!0}return!1}function Wp(r,i,o,d){if(d={lane:2,revertLane:jg(),action:d,hasEagerState:!1,eagerState:null,next:null},jh(r)){if(i)throw Error(s(479))}else i=pp(r,o,d,2),i!==null&&rs(i,r,2)}function jh(r){var i=r.alternate;return r===Ve||i!==null&&i===Ve}function __(r,i){ml=wh=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function b_(r,i,o){if((o&4194048)!==0){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,Rc(r,o)}}var Ch={readContext:wn,use:Eh,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},w_={readContext:wn,use:Eh,useCallback:function(r,i){return Un().memoizedState=[r,i===void 0?null:i],r},useContext:wn,useEffect:i_,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Ah(4194308,4,c_.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Ah(4194308,4,r,i)},useInsertionEffect:function(r,i){Ah(4,2,r,i)},useMemo:function(r,i){var o=Un();i=i===void 0?null:i;var d=r();if(uo){Wn(!0);try{r()}finally{Wn(!1)}}return o.memoizedState=[d,i],d},useReducer:function(r,i,o){var d=Un();if(o!==void 0){var g=o(i);if(uo){Wn(!0);try{o(i)}finally{Wn(!1)}}}else g=i;return d.memoizedState=d.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},d.queue=r,r=r.dispatch=XA.bind(null,Ve,r),[d.memoizedState,r]},useRef:function(r){var i=Un();return r={current:r},i.memoizedState=r},useState:function(r){r=Hp(r);var i=r.queue,o=v_.bind(null,Ve,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:$p,useDeferredValue:function(r,i){var o=Un();return Yp(o,r,i)},useTransition:function(){var r=Hp(!1);return r=m_.bind(null,Ve,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var d=Ve,g=Un();if(et){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),pt===null)throw Error(s(349));(Qe&124)!==0||qv(d,i,o)}g.memoizedState=o;var x={value:o,getSnapshot:i};return g.queue=x,i_(Gv.bind(null,d,x,r),[r]),d.flags|=2048,gl(9,Sh(),Hv.bind(null,d,x,o,i),null),o},useId:function(){var r=Un(),i=pt.identifierPrefix;if(et){var o=Kr,d=Yr;o=(d&~(1<<32-bn(d)-1)).toString(32)+o,i=""+i+"R"+o,o=Nh++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=GA++,i=""+i+"r"+o.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:Qp,useFormState:e_,useActionState:e_,useOptimistic:function(r){var i=Un();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Wp.bind(null,Ve,!0,o),o.dispatch=i,[r,i]},useMemoCache:Bp,useCacheRefresh:function(){return Un().memoizedState=WA.bind(null,Ve)}},N_={readContext:wn,use:Eh,useCallback:d_,useContext:wn,useEffect:a_,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:h_,useReducer:Th,useRef:r_,useState:function(){return Th(Xr)},useDebugValue:$p,useDeferredValue:function(r,i){var o=Ft();return f_(o,lt.memoizedState,r,i)},useTransition:function(){var r=Th(Xr)[0],i=Ft().memoizedState;return[typeof r=="boolean"?r:au(r),i]},useSyncExternalStore:Fv,useId:y_,useHostTransitionStatus:Qp,useFormState:t_,useActionState:t_,useOptimistic:function(r,i){var o=Ft();return Kv(o,lt,r,i)},useMemoCache:Bp,useCacheRefresh:x_},ZA={readContext:wn,use:Eh,useCallback:d_,useContext:wn,useEffect:a_,useImperativeHandle:u_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:h_,useReducer:qp,useRef:r_,useState:function(){return qp(Xr)},useDebugValue:$p,useDeferredValue:function(r,i){var o=Ft();return lt===null?Yp(o,r,i):f_(o,lt.memoizedState,r,i)},useTransition:function(){var r=qp(Xr)[0],i=Ft().memoizedState;return[typeof r=="boolean"?r:au(r),i]},useSyncExternalStore:Fv,useId:y_,useHostTransitionStatus:Qp,useFormState:s_,useActionState:s_,useOptimistic:function(r,i){var o=Ft();return lt!==null?Kv(o,lt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Bp,useCacheRefresh:x_},yl=null,cu=0;function Rh(r){var i=cu;return cu+=1,yl===null&&(yl=[]),Pv(yl,r,i)}function uu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ih(r,i){throw i.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function E_(r){var i=r._init;return i(r._payload)}function T_(r){function i(Y,G){if(r){var X=Y.deletions;X===null?(Y.deletions=[G],Y.flags|=16):X.push(G)}}function o(Y,G){if(!r)return null;for(;G!==null;)i(Y,G),G=G.sibling;return null}function d(Y){for(var G=new Map;Y!==null;)Y.key!==null?G.set(Y.key,Y):G.set(Y.index,Y),Y=Y.sibling;return G}function g(Y,G){return Y=$r(Y,G),Y.index=0,Y.sibling=null,Y}function x(Y,G,X){return Y.index=X,r?(X=Y.alternate,X!==null?(X=X.index,X<G?(Y.flags|=67108866,G):X):(Y.flags|=67108866,G)):(Y.flags|=1048576,G)}function E(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function C(Y,G,X,oe){return G===null||G.tag!==6?(G=yp(X,Y.mode,oe),G.return=Y,G):(G=g(G,X),G.return=Y,G)}function F(Y,G,X,oe){var _e=X.type;return _e===j?ie(Y,G,X.props.children,oe,X.key):G!==null&&(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&E_(_e)===G.type)?(G=g(G,X.props),uu(G,X),G.return=Y,G):(G=fh(X.type,X.key,X.props,null,Y.mode,oe),uu(G,X),G.return=Y,G)}function Z(Y,G,X,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=xp(X,Y.mode,oe),G.return=Y,G):(G=g(G,X.children||[]),G.return=Y,G)}function ie(Y,G,X,oe,_e){return G===null||G.tag!==7?(G=no(X,Y.mode,oe,_e),G.return=Y,G):(G=g(G,X),G.return=Y,G)}function ce(Y,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=yp(""+G,Y.mode,X),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return X=fh(G.type,G.key,G.props,null,Y.mode,X),uu(X,G),X.return=Y,X;case N:return G=xp(G,Y.mode,X),G.return=Y,G;case S:var oe=G._init;return G=oe(G._payload),ce(Y,G,X)}if(xe(G)||U(G))return G=no(G,Y.mode,X,null),G.return=Y,G;if(typeof G.then=="function")return ce(Y,Rh(G),X);if(G.$$typeof===q)return ce(Y,yh(Y,G),X);Ih(Y,G)}return null}function J(Y,G,X,oe){var _e=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return _e!==null?null:C(Y,G,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===_e?F(Y,G,X,oe):null;case N:return X.key===_e?Z(Y,G,X,oe):null;case S:return _e=X._init,X=_e(X._payload),J(Y,G,X,oe)}if(xe(X)||U(X))return _e!==null?null:ie(Y,G,X,oe,null);if(typeof X.then=="function")return J(Y,G,Rh(X),oe);if(X.$$typeof===q)return J(Y,G,yh(Y,X),oe);Ih(Y,X)}return null}function ee(Y,G,X,oe,_e){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(X)||null,C(G,Y,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return Y=Y.get(oe.key===null?X:oe.key)||null,F(G,Y,oe,_e);case N:return Y=Y.get(oe.key===null?X:oe.key)||null,Z(G,Y,oe,_e);case S:var Le=oe._init;return oe=Le(oe._payload),ee(Y,G,X,oe,_e)}if(xe(oe)||U(oe))return Y=Y.get(X)||null,ie(G,Y,oe,_e,null);if(typeof oe.then=="function")return ee(Y,G,X,Rh(oe),_e);if(oe.$$typeof===q)return ee(Y,G,X,yh(G,oe),_e);Ih(G,oe)}return null}function Ie(Y,G,X,oe){for(var _e=null,Le=null,Ee=G,je=G=0,an=null;Ee!==null&&je<X.length;je++){Ee.index>je?(an=Ee,Ee=null):an=Ee.sibling;var Xe=J(Y,Ee,X[je],oe);if(Xe===null){Ee===null&&(Ee=an);break}r&&Ee&&Xe.alternate===null&&i(Y,Ee),G=x(Xe,G,je),Le===null?_e=Xe:Le.sibling=Xe,Le=Xe,Ee=an}if(je===X.length)return o(Y,Ee),et&&ro(Y,je),_e;if(Ee===null){for(;je<X.length;je++)Ee=ce(Y,X[je],oe),Ee!==null&&(G=x(Ee,G,je),Le===null?_e=Ee:Le.sibling=Ee,Le=Ee);return et&&ro(Y,je),_e}for(Ee=d(Ee);je<X.length;je++)an=ee(Ee,Y,je,X[je],oe),an!==null&&(r&&an.alternate!==null&&Ee.delete(an.key===null?je:an.key),G=x(an,G,je),Le===null?_e=an:Le.sibling=an,Le=an);return r&&Ee.forEach(function(ta){return i(Y,ta)}),et&&ro(Y,je),_e}function Ae(Y,G,X,oe){if(X==null)throw Error(s(151));for(var _e=null,Le=null,Ee=G,je=G=0,an=null,Xe=X.next();Ee!==null&&!Xe.done;je++,Xe=X.next()){Ee.index>je?(an=Ee,Ee=null):an=Ee.sibling;var ta=J(Y,Ee,Xe.value,oe);if(ta===null){Ee===null&&(Ee=an);break}r&&Ee&&ta.alternate===null&&i(Y,Ee),G=x(ta,G,je),Le===null?_e=ta:Le.sibling=ta,Le=ta,Ee=an}if(Xe.done)return o(Y,Ee),et&&ro(Y,je),_e;if(Ee===null){for(;!Xe.done;je++,Xe=X.next())Xe=ce(Y,Xe.value,oe),Xe!==null&&(G=x(Xe,G,je),Le===null?_e=Xe:Le.sibling=Xe,Le=Xe);return et&&ro(Y,je),_e}for(Ee=d(Ee);!Xe.done;je++,Xe=X.next())Xe=ee(Ee,Y,je,Xe.value,oe),Xe!==null&&(r&&Xe.alternate!==null&&Ee.delete(Xe.key===null?je:Xe.key),G=x(Xe,G,je),Le===null?_e=Xe:Le.sibling=Xe,Le=Xe);return r&&Ee.forEach(function(Jj){return i(Y,Jj)}),et&&ro(Y,je),_e}function ut(Y,G,X,oe){if(typeof X=="object"&&X!==null&&X.type===j&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var _e=X.key;G!==null;){if(G.key===_e){if(_e=X.type,_e===j){if(G.tag===7){o(Y,G.sibling),oe=g(G,X.props.children),oe.return=Y,Y=oe;break e}}else if(G.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&E_(_e)===G.type){o(Y,G.sibling),oe=g(G,X.props),uu(oe,X),oe.return=Y,Y=oe;break e}o(Y,G);break}else i(Y,G);G=G.sibling}X.type===j?(oe=no(X.props.children,Y.mode,oe,X.key),oe.return=Y,Y=oe):(oe=fh(X.type,X.key,X.props,null,Y.mode,oe),uu(oe,X),oe.return=Y,Y=oe)}return E(Y);case N:e:{for(_e=X.key;G!==null;){if(G.key===_e)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){o(Y,G.sibling),oe=g(G,X.children||[]),oe.return=Y,Y=oe;break e}else{o(Y,G);break}else i(Y,G);G=G.sibling}oe=xp(X,Y.mode,oe),oe.return=Y,Y=oe}return E(Y);case S:return _e=X._init,X=_e(X._payload),ut(Y,G,X,oe)}if(xe(X))return Ie(Y,G,X,oe);if(U(X)){if(_e=U(X),typeof _e!="function")throw Error(s(150));return X=_e.call(X),Ae(Y,G,X,oe)}if(typeof X.then=="function")return ut(Y,G,Rh(X),oe);if(X.$$typeof===q)return ut(Y,G,yh(Y,X),oe);Ih(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(o(Y,G.sibling),oe=g(G,X),oe.return=Y,Y=oe):(o(Y,G),oe=yp(X,Y.mode,oe),oe.return=Y,Y=oe),E(Y)):o(Y,G)}return function(Y,G,X,oe){try{cu=0;var _e=ut(Y,G,X,oe);return yl=null,_e}catch(Ee){if(Ee===eu||Ee===vh)throw Ee;var Le=Jn(29,Ee,null,Y.mode);return Le.lanes=oe,Le.return=Y,Le}finally{}}}var xl=T_(!0),S_=T_(!1),As=$(null),ur=null;function zi(r){var i=r.alternate;ae(Jt,Jt.current&1),ae(As,r),ur===null&&(i===null||fl.current!==null||i.memoizedState!==null)&&(ur=r)}function A_(r){if(r.tag===22){if(ae(Jt,Jt.current),ae(As,r),ur===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(ur=r)}}else Bi()}function Bi(){ae(Jt,Jt.current),ae(As,As.current)}function Zr(r){ne(As),ur===r&&(ur=null),ne(Jt)}var Jt=$(0);function Dh(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||zg(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Xp(r,i,o,d){i=r.memoizedState,o=o(d,i),o=o==null?i:y({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Zp={enqueueSetState:function(r,i,o){r=r._reactInternals;var d=ss(),g=Vi(d);g.payload=i,o!=null&&(g.callback=o),i=Li(r,g,d),i!==null&&(rs(i,r,d),nu(i,r,d))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var d=ss(),g=Vi(d);g.tag=1,g.payload=i,o!=null&&(g.callback=o),i=Li(r,g,d),i!==null&&(rs(i,r,d),nu(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=ss(),d=Vi(o);d.tag=2,i!=null&&(d.callback=i),i=Li(r,d,o),i!==null&&(rs(i,r,o),nu(i,r,o))}};function j_(r,i,o,d,g,x,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,E):i.prototype&&i.prototype.isPureReactComponent?!$c(o,d)||!$c(g,x):!0}function C_(r,i,o,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==r&&Zp.enqueueReplaceState(i,i.state,null)}function ho(r,i){var o=i;if("ref"in i){o={};for(var d in i)d!=="ref"&&(o[d]=i[d])}if(r=r.defaultProps){o===i&&(o=y({},o));for(var g in r)o[g]===void 0&&(o[g]=r[g])}return o}var kh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function R_(r){kh(r)}function I_(r){console.error(r)}function D_(r){kh(r)}function Ph(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function k_(r,i,o){try{var d=r.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Jp(r,i,o){return o=Vi(o),o.tag=3,o.payload={element:null},o.callback=function(){Ph(r,i)},o}function P_(r){return r=Vi(r),r.tag=3,r}function O_(r,i,o,d){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var x=d.value;r.payload=function(){return g(x)},r.callback=function(){k_(i,o,d)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){k_(i,o,d),typeof g!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function JA(r,i,o,d,g){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=o.alternate,i!==null&&Xc(i,o,g,!0),o=As.current,o!==null){switch(o.tag){case 13:return ur===null?Ng():o.alternate===null&&It===0&&(It=3),o.flags&=-257,o.flags|=65536,o.lanes=g,d===jp?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([d]):i.add(d),Tg(r,d,g)),!1;case 22:return o.flags|=65536,d===jp?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([d]):o.add(d)),Tg(r,d,g)),!1}throw Error(s(435,o.tag))}return Tg(r,d,g),Ng(),!1}if(et)return i=As.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,d!==bp&&(r=Error(s(422),{cause:d}),Wc(Ns(r,o)))):(d!==bp&&(i=Error(s(423),{cause:d}),Wc(Ns(i,o))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,d=Ns(d,o),g=Jp(r.stateNode,d,g),Ip(r,g),It!==4&&(It=2)),!1;var x=Error(s(520),{cause:d});if(x=Ns(x,o),yu===null?yu=[x]:yu.push(x),It!==4&&(It=2),i===null)return!0;d=Ns(d,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=g&-g,o.lanes|=r,r=Jp(o.stateNode,d,r),Ip(o,r),!1;case 1:if(i=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yi===null||!Yi.has(x))))return o.flags|=65536,g&=-g,o.lanes|=g,g=P_(g),O_(g,r,o,d),Ip(o,g),!1}o=o.return}while(o!==null);return!1}var M_=Error(s(461)),sn=!1;function fn(r,i,o,d){i.child=r===null?S_(i,null,o,d):xl(i,r.child,o,d)}function V_(r,i,o,d,g){o=o.render;var x=i.ref;if("ref"in d){var E={};for(var C in d)C!=="ref"&&(E[C]=d[C])}else E=d;return lo(i),d=Mp(r,i,o,E,x,g),C=Vp(),r!==null&&!sn?(Lp(r,i,g),Jr(r,i,g)):(et&&C&&vp(i),i.flags|=1,fn(r,i,d,g),i.child)}function L_(r,i,o,d,g){if(r===null){var x=o.type;return typeof x=="function"&&!gp(x)&&x.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=x,U_(r,i,x,d,g)):(r=fh(o.type,null,d,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(x=r.child,!og(r,g)){var E=x.memoizedProps;if(o=o.compare,o=o!==null?o:$c,o(E,d)&&r.ref===i.ref)return Jr(r,i,g)}return i.flags|=1,r=$r(x,d),r.ref=i.ref,r.return=i,i.child=r}function U_(r,i,o,d,g){if(r!==null){var x=r.memoizedProps;if($c(x,d)&&r.ref===i.ref)if(sn=!1,i.pendingProps=d=x,og(r,g))(r.flags&131072)!==0&&(sn=!0);else return i.lanes=r.lanes,Jr(r,i,g)}return eg(r,i,o,d,g)}function z_(r,i,o){var d=i.pendingProps,g=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=x!==null?x.baseLanes|o:o,r!==null){for(g=i.child=r.child,x=0;g!==null;)x=x|g.lanes|g.childLanes,g=g.sibling;i.childLanes=x&~d}else i.childLanes=0,i.child=null;return B_(r,i,d,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&xh(i,x!==null?x.cachePool:null),x!==null?Uv(i,x):kp(),A_(i);else return i.lanes=i.childLanes=536870912,B_(r,i,x!==null?x.baseLanes|o:o,o)}else x!==null?(xh(i,x.cachePool),Uv(i,x),Bi(),i.memoizedState=null):(r!==null&&xh(i,null),kp(),Bi());return fn(r,i,g,o),i.child}function B_(r,i,o,d){var g=Ap();return g=g===null?null:{parent:Zt._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},r!==null&&xh(i,null),kp(),A_(i),r!==null&&Xc(r,i,d,!0),null}function Oh(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function eg(r,i,o,d,g){return lo(i),o=Mp(r,i,o,d,void 0,g),d=Vp(),r!==null&&!sn?(Lp(r,i,g),Jr(r,i,g)):(et&&d&&vp(i),i.flags|=1,fn(r,i,o,g),i.child)}function F_(r,i,o,d,g,x){return lo(i),i.updateQueue=null,o=Bv(i,d,o,g),zv(r),d=Vp(),r!==null&&!sn?(Lp(r,i,x),Jr(r,i,x)):(et&&d&&vp(i),i.flags|=1,fn(r,i,o,x),i.child)}function q_(r,i,o,d,g){if(lo(i),i.stateNode===null){var x=ll,E=o.contextType;typeof E=="object"&&E!==null&&(x=wn(E)),x=new o(d,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Zp,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=d,x.state=i.memoizedState,x.refs={},Cp(i),E=o.contextType,x.context=typeof E=="object"&&E!==null?wn(E):ll,x.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Xp(i,o,E,d),x.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&Zp.enqueueReplaceState(x,x.state,null),ru(i,d,x,g),su(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(r===null){x=i.stateNode;var C=i.memoizedProps,F=ho(o,C);x.props=F;var Z=x.context,ie=o.contextType;E=ll,typeof ie=="object"&&ie!==null&&(E=wn(ie));var ce=o.getDerivedStateFromProps;ie=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C||Z!==E)&&C_(i,x,d,E),Mi=!1;var J=i.memoizedState;x.state=J,ru(i,d,x,g),su(),Z=i.memoizedState,C||J!==Z||Mi?(typeof ce=="function"&&(Xp(i,o,ce,d),Z=i.memoizedState),(F=Mi||j_(i,o,F,d,J,Z,E))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=Z),x.props=d,x.state=Z,x.context=E,d=F):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{x=i.stateNode,Rp(r,i),E=i.memoizedProps,ie=ho(o,E),x.props=ie,ce=i.pendingProps,J=x.context,Z=o.contextType,F=ll,typeof Z=="object"&&Z!==null&&(F=wn(Z)),C=o.getDerivedStateFromProps,(Z=typeof C=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==ce||J!==F)&&C_(i,x,d,F),Mi=!1,J=i.memoizedState,x.state=J,ru(i,d,x,g),su();var ee=i.memoizedState;E!==ce||J!==ee||Mi||r!==null&&r.dependencies!==null&&gh(r.dependencies)?(typeof C=="function"&&(Xp(i,o,C,d),ee=i.memoizedState),(ie=Mi||j_(i,o,ie,d,J,ee,F)||r!==null&&r.dependencies!==null&&gh(r.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,ee,F),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,ee,F)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=ee),x.props=d,x.state=ee,x.context=F,d=ie):(typeof x.componentDidUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),d=!1)}return x=d,Oh(r,i),d=(i.flags&128)!==0,x||d?(x=i.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,r!==null&&d?(i.child=xl(i,r.child,null,g),i.child=xl(i,null,o,g)):fn(r,i,o,g),i.memoizedState=x.state,r=i.child):r=Jr(r,i,g),r}function H_(r,i,o,d){return Qc(),i.flags|=256,fn(r,i,o,d),i.child}var tg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ng(r){return{baseLanes:r,cachePool:Iv()}}function sg(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=js),r}function G_(r,i,o){var d=i.pendingProps,g=!1,x=(i.flags&128)!==0,E;if((E=x)||(E=r!==null&&r.memoizedState===null?!1:(Jt.current&2)!==0),E&&(g=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(et){if(g?zi(i):Bi(),et){var C=Rt,F;if(F=C){e:{for(F=C,C=cr;F.nodeType!==8;){if(!C){C=null;break e}if(F=Fs(F.nextSibling),F===null){C=null;break e}}C=F}C!==null?(i.memoizedState={dehydrated:C,treeContext:so!==null?{id:Yr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},F=Jn(18,null,null,0),F.stateNode=C,F.return=i,i.child=F,Pn=i,Rt=null,F=!0):F=!1}F||ao(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return zg(C)?i.lanes=32:i.lanes=536870912,null;Zr(i)}return C=d.children,d=d.fallback,g?(Bi(),g=i.mode,C=Mh({mode:"hidden",children:C},g),d=no(d,g,o,null),C.return=i,d.return=i,C.sibling=d,i.child=C,g=i.child,g.memoizedState=ng(o),g.childLanes=sg(r,E,o),i.memoizedState=tg,d):(zi(i),rg(i,C))}if(F=r.memoizedState,F!==null&&(C=F.dehydrated,C!==null)){if(x)i.flags&256?(zi(i),i.flags&=-257,i=ig(r,i,o)):i.memoizedState!==null?(Bi(),i.child=r.child,i.flags|=128,i=null):(Bi(),g=d.fallback,C=i.mode,d=Mh({mode:"visible",children:d.children},C),g=no(g,C,o,null),g.flags|=2,d.return=i,g.return=i,d.sibling=g,i.child=d,xl(i,r.child,null,o),d=i.child,d.memoizedState=ng(o),d.childLanes=sg(r,E,o),i.memoizedState=tg,i=g);else if(zi(i),zg(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var Z=E.dgst;E=Z,d=Error(s(419)),d.stack="",d.digest=E,Wc({value:d,source:null,stack:null}),i=ig(r,i,o)}else if(sn||Xc(r,i,o,!1),E=(o&r.childLanes)!==0,sn||E){if(E=pt,E!==null&&(d=o&-o,d=(d&42)!==0?1:ji(d),d=(d&(E.suspendedLanes|o))!==0?0:d,d!==0&&d!==F.retryLane))throw F.retryLane=d,ol(r,d),rs(E,r,d),M_;C.data==="$?"||Ng(),i=ig(r,i,o)}else C.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=F.treeContext,Rt=Fs(C.nextSibling),Pn=i,et=!0,io=null,cr=!1,r!==null&&(Ts[Ss++]=Yr,Ts[Ss++]=Kr,Ts[Ss++]=so,Yr=r.id,Kr=r.overflow,so=i),i=rg(i,d.children),i.flags|=4096);return i}return g?(Bi(),g=d.fallback,C=i.mode,F=r.child,Z=F.sibling,d=$r(F,{mode:"hidden",children:d.children}),d.subtreeFlags=F.subtreeFlags&65011712,Z!==null?g=$r(Z,g):(g=no(g,C,o,null),g.flags|=2),g.return=i,d.return=i,d.sibling=g,i.child=d,d=g,g=i.child,C=r.child.memoizedState,C===null?C=ng(o):(F=C.cachePool,F!==null?(Z=Zt._currentValue,F=F.parent!==Z?{parent:Z,pool:Z}:F):F=Iv(),C={baseLanes:C.baseLanes|o,cachePool:F}),g.memoizedState=C,g.childLanes=sg(r,E,o),i.memoizedState=tg,d):(zi(i),o=r.child,r=o.sibling,o=$r(o,{mode:"visible",children:d.children}),o.return=i,o.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=o,i.memoizedState=null,o)}function rg(r,i){return i=Mh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Mh(r,i){return r=Jn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function ig(r,i,o){return xl(i,r.child,null,o),r=rg(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function $_(r,i,o){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),Np(r.return,i,o)}function ag(r,i,o,d,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=o,x.tailMode=g)}function Y_(r,i,o){var d=i.pendingProps,g=d.revealOrder,x=d.tail;if(fn(r,i,d.children,o),d=Jt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&$_(r,o,i);else if(r.tag===19)$_(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(ae(Jt,d),g){case"forwards":for(o=i.child,g=null;o!==null;)r=o.alternate,r!==null&&Dh(r)===null&&(g=o),o=o.sibling;o=g,o===null?(g=i.child,i.child=null):(g=o.sibling,o.sibling=null),ag(i,!1,g,o,x);break;case"backwards":for(o=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Dh(r)===null){i.child=g;break}r=g.sibling,g.sibling=o,o=g,g=r}ag(i,!0,o,null,x);break;case"together":ag(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Jr(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),$i|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Xc(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=$r(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=$r(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function og(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&gh(r)))}function ej(r,i,o){switch(i.tag){case 3:se(i,i.stateNode.containerInfo),Oi(i,Zt,r.memoizedState.cache),Qc();break;case 27:case 5:De(i);break;case 4:se(i,i.stateNode.containerInfo);break;case 10:Oi(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(zi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?G_(r,i,o):(zi(i),r=Jr(r,i,o),r!==null?r.sibling:null);zi(i);break;case 19:var g=(r.flags&128)!==0;if(d=(o&i.childLanes)!==0,d||(Xc(r,i,o,!1),d=(o&i.childLanes)!==0),g){if(d)return Y_(r,i,o);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ae(Jt,Jt.current),d)break;return null;case 22:case 23:return i.lanes=0,z_(r,i,o);case 24:Oi(i,Zt,r.memoizedState.cache)}return Jr(r,i,o)}function K_(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)sn=!0;else{if(!og(r,o)&&(i.flags&128)===0)return sn=!1,ej(r,i,o);sn=(r.flags&131072)!==0}else sn=!1,et&&(i.flags&1048576)!==0&&Ev(i,ph,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var d=i.elementType,g=d._init;if(d=g(d._payload),i.type=d,typeof d=="function")gp(d)?(r=ho(d,r),i.tag=1,i=q_(null,i,d,r,o)):(i.tag=0,i=eg(null,i,d,r,o));else{if(d!=null){if(g=d.$$typeof,g===L){i.tag=11,i=V_(null,i,d,r,o);break e}else if(g===O){i.tag=14,i=L_(null,i,d,r,o);break e}}throw i=we(d)||d,Error(s(306,i,""))}}return i;case 0:return eg(r,i,i.type,i.pendingProps,o);case 1:return d=i.type,g=ho(d,i.pendingProps),q_(r,i,d,g,o);case 3:e:{if(se(i,i.stateNode.containerInfo),r===null)throw Error(s(387));d=i.pendingProps;var x=i.memoizedState;g=x.element,Rp(r,i),ru(i,d,null,o);var E=i.memoizedState;if(d=E.cache,Oi(i,Zt,d),d!==x.cache&&Ep(i,[Zt],o,!0),su(),d=E.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=H_(r,i,d,o);break e}else if(d!==g){g=Ns(Error(s(424)),i),Wc(g),i=H_(r,i,d,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Rt=Fs(r.firstChild),Pn=i,et=!0,io=null,cr=!0,o=S_(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Qc(),d===g){i=Jr(r,i,o);break e}fn(r,i,d,o)}i=i.child}return i;case 26:return Oh(r,i),r===null?(o=Zb(i.type,null,i.pendingProps,null))?i.memoizedState=o:et||(o=i.type,r=i.pendingProps,d=Wh(be.current).createElement(o),d[Qt]=i,d[Ut]=r,pn(d,o,r),kt(d),i.stateNode=d):i.memoizedState=Zb(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return De(i),r===null&&et&&(d=i.stateNode=Qb(i.type,i.pendingProps,be.current),Pn=i,cr=!0,g=Rt,Wi(i.type)?(Bg=g,Rt=Fs(d.firstChild)):Rt=g),fn(r,i,i.pendingProps.children,o),Oh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&et&&((g=d=Rt)&&(d=jj(d,i.type,i.pendingProps,cr),d!==null?(i.stateNode=d,Pn=i,Rt=Fs(d.firstChild),cr=!1,g=!0):g=!1),g||ao(i)),De(i),g=i.type,x=i.pendingProps,E=r!==null?r.memoizedProps:null,d=x.children,Vg(g,x)?d=null:E!==null&&Vg(g,E)&&(i.flags|=32),i.memoizedState!==null&&(g=Mp(r,i,$A,null,null,o),Su._currentValue=g),Oh(r,i),fn(r,i,d,o),i.child;case 6:return r===null&&et&&((r=o=Rt)&&(o=Cj(o,i.pendingProps,cr),o!==null?(i.stateNode=o,Pn=i,Rt=null,r=!0):r=!1),r||ao(i)),null;case 13:return G_(r,i,o);case 4:return se(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=xl(i,null,d,o):fn(r,i,d,o),i.child;case 11:return V_(r,i,i.type,i.pendingProps,o);case 7:return fn(r,i,i.pendingProps,o),i.child;case 8:return fn(r,i,i.pendingProps.children,o),i.child;case 12:return fn(r,i,i.pendingProps.children,o),i.child;case 10:return d=i.pendingProps,Oi(i,i.type,d.value),fn(r,i,d.children,o),i.child;case 9:return g=i.type._context,d=i.pendingProps.children,lo(i),g=wn(g),d=d(g),i.flags|=1,fn(r,i,d,o),i.child;case 14:return L_(r,i,i.type,i.pendingProps,o);case 15:return U_(r,i,i.type,i.pendingProps,o);case 19:return Y_(r,i,o);case 31:return d=i.pendingProps,o=i.mode,d={mode:d.mode,children:d.children},r===null?(o=Mh(d,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=$r(r.child,d),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return z_(r,i,o);case 24:return lo(i),d=wn(Zt),r===null?(g=Ap(),g===null&&(g=pt,x=Tp(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=o),g=x),i.memoizedState={parent:d,cache:g},Cp(i),Oi(i,Zt,g)):((r.lanes&o)!==0&&(Rp(r,i),ru(i,null,null,o),su()),g=r.memoizedState,x=i.memoizedState,g.parent!==d?(g={parent:d,cache:d},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Oi(i,Zt,d)):(d=x.cache,Oi(i,Zt,d),d!==g.cache&&Ep(i,[Zt],o,!0))),fn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ei(r){r.flags|=4}function Q_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!s1(i)){if(i=As.current,i!==null&&((Qe&4194048)===Qe?ur!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||i!==ur))throw tu=jp,Dv;r.flags|=8192}}function Vh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?jc():536870912,r.lanes|=i,wl|=i)}function du(r,i){if(!et)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Tt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,d=0;if(i)for(var g=r.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=o,i}function tj(r,i,o){var d=i.pendingProps;switch(_p(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return Tt(i),null;case 3:return o=i.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Wr(Zt),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Kc(i)?ei(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Av())),Tt(i),null;case 26:return o=i.memoizedState,r===null?(ei(i),o!==null?(Tt(i),Q_(i,o)):(Tt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(ei(i),Tt(i),Q_(i,o)):(Tt(i),i.flags&=-16777217):(r.memoizedProps!==d&&ei(i),Tt(i),i.flags&=-16777217),null;case 27:Oe(i),o=be.current;var g=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==d&&ei(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}r=ge.current,Kc(i)?Tv(i):(r=Qb(g,d,o),i.stateNode=r,ei(i))}return Tt(i),null;case 5:if(Oe(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==d&&ei(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}if(r=ge.current,Kc(i))Tv(i);else{switch(g=Wh(be.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?g.createElement(o,{is:d.is}):g.createElement(o)}}r[Qt]=i,r[Ut]=d;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=r;e:switch(pn(r,o,d),o){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ei(i)}}return Tt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==d&&ei(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(s(166));if(r=be.current,Kc(i)){if(r=i.stateNode,o=i.memoizedProps,d=null,g=Pn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}r[Qt]=i,r=!!(r.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||Fb(r.nodeValue,o)),r||ao(i)}else r=Wh(r).createTextNode(d),r[Qt]=i,i.stateNode=r}return Tt(i),null;case 13:if(d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Kc(i),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Qt]=i}else Qc(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),g=!1}else g=Av(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Zr(i),i):(Zr(i),null)}if(Zr(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=d!==null,r=r!==null&&r.memoizedState!==null,o){d=i.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==g&&(d.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),Vh(i,i.updateQueue),Tt(i),null;case 4:return fe(),r===null&&Dg(i.stateNode.containerInfo),Tt(i),null;case 10:return Wr(i.type),Tt(i),null;case 19:if(ne(Jt),g=i.memoizedState,g===null)return Tt(i),null;if(d=(i.flags&128)!==0,x=g.rendering,x===null)if(d)du(g,!1);else{if(It!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=Dh(r),x!==null){for(i.flags|=128,du(g,!1),r=x.updateQueue,i.updateQueue=r,Vh(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Nv(o,r),o=o.sibling;return ae(Jt,Jt.current&1|2),i.child}r=r.sibling}g.tail!==null&&Rn()>zh&&(i.flags|=128,d=!0,du(g,!1),i.lanes=4194304)}else{if(!d)if(r=Dh(x),r!==null){if(i.flags|=128,d=!0,r=r.updateQueue,i.updateQueue=r,Vh(i,r),du(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!et)return Tt(i),null}else 2*Rn()-g.renderingStartTime>zh&&o!==536870912&&(i.flags|=128,d=!0,du(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(r=g.last,r!==null?r.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Rn(),i.sibling=null,r=Jt.current,ae(Jt,d?r&1|2:r&1),i):(Tt(i),null);case 22:case 23:return Zr(i),Pp(),d=i.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(o&536870912)!==0&&(i.flags&128)===0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),o=i.updateQueue,o!==null&&Vh(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048),r!==null&&ne(co),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Wr(Zt),Tt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function nj(r,i){switch(_p(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Wr(Zt),fe(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Oe(i),null;case 13:if(Zr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Qc()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ne(Jt),null;case 4:return fe(),null;case 10:return Wr(i.type),null;case 22:case 23:return Zr(i),Pp(),r!==null&&ne(co),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Wr(Zt),null;case 25:return null;default:return null}}function W_(r,i){switch(_p(i),i.tag){case 3:Wr(Zt),fe();break;case 26:case 27:case 5:Oe(i);break;case 4:fe();break;case 13:Zr(i);break;case 19:ne(Jt);break;case 10:Wr(i.type);break;case 22:case 23:Zr(i),Pp(),r!==null&&ne(co);break;case 24:Wr(Zt)}}function hu(r,i){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&r)===r){d=void 0;var x=o.create,E=o.inst;d=x(),E.destroy=d}o=o.next}while(o!==g)}}catch(C){ht(i,i.return,C)}}function Fi(r,i,o){try{var d=i.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var x=g.next;d=x;do{if((d.tag&r)===r){var E=d.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,g=i;var F=o,Z=C;try{Z()}catch(ie){ht(g,F,ie)}}}d=d.next}while(d!==x)}}catch(ie){ht(i,i.return,ie)}}function X_(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Lv(i,o)}catch(d){ht(r,r.return,d)}}}function Z_(r,i,o){o.props=ho(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(d){ht(r,i,d)}}function fu(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(g){ht(r,i,g)}}function dr(r,i){var o=r.ref,d=r.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(g){ht(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){ht(r,i,g)}else o.current=null}function J_(r){var i=r.type,o=r.memoizedProps,d=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(g){ht(r,r.return,g)}}function lg(r,i,o){try{var d=r.stateNode;Nj(d,r.type,o,i),d[Ut]=i}catch(g){ht(r,r.return,g)}}function eb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wi(r.type)||r.tag===4}function cg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||eb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ug(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Qh));else if(d!==4&&(d===27&&Wi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(ug(r,i,o),r=r.sibling;r!==null;)ug(r,i,o),r=r.sibling}function Lh(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(d!==4&&(d===27&&Wi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Lh(r,i,o),r=r.sibling;r!==null;)Lh(r,i,o),r=r.sibling}function tb(r){var i=r.stateNode,o=r.memoizedProps;try{for(var d=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);pn(i,d,o),i[Qt]=r,i[Ut]=o}catch(x){ht(r,r.return,x)}}var ti=!1,Ot=!1,dg=!1,nb=typeof WeakSet=="function"?WeakSet:Set,rn=null;function sj(r,i){if(r=r.containerInfo,Og=nf,r=fv(r),cp(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var g=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var E=0,C=-1,F=-1,Z=0,ie=0,ce=r,J=null;t:for(;;){for(var ee;ce!==o||g!==0&&ce.nodeType!==3||(C=E+g),ce!==x||d!==0&&ce.nodeType!==3||(F=E+d),ce.nodeType===3&&(E+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)J=ce,ce=ee;for(;;){if(ce===r)break t;if(J===o&&++Z===g&&(C=E),J===x&&++ie===d&&(F=E),(ee=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=ee}o=C===-1||F===-1?null:{start:C,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(Mg={focusedElem:r,selectionRange:o},nf=!1,rn=i;rn!==null;)if(i=rn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,rn=r;else for(;rn!==null;){switch(i=rn,x=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,o=i,g=x.memoizedProps,x=x.memoizedState,d=o.stateNode;try{var Ie=ho(o.type,g,o.elementType===o.type);r=d.getSnapshotBeforeUpdate(Ie,x),d.__reactInternalSnapshotBeforeUpdate=r}catch(Ae){ht(o,o.return,Ae)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Ug(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ug(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,rn=r;break}rn=i.return}}function sb(r,i,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:qi(r,o),d&4&&hu(5,o);break;case 1:if(qi(r,o),d&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(E){ht(o,o.return,E)}else{var g=ho(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ht(o,o.return,E)}}d&64&&X_(o),d&512&&fu(o,o.return);break;case 3:if(qi(r,o),d&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Lv(r,i)}catch(E){ht(o,o.return,E)}}break;case 27:i===null&&d&4&&tb(o);case 26:case 5:qi(r,o),i===null&&d&4&&J_(o),d&512&&fu(o,o.return);break;case 12:qi(r,o);break;case 13:qi(r,o),d&4&&ab(r,o),d&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=hj.bind(null,o),Rj(r,o))));break;case 22:if(d=o.memoizedState!==null||ti,!d){i=i!==null&&i.memoizedState!==null||Ot,g=ti;var x=Ot;ti=d,(Ot=i)&&!x?Hi(r,o,(o.subtreeFlags&8772)!==0):qi(r,o),ti=g,Ot=x}break;case 30:break;default:qi(r,o)}}function rb(r){var i=r.alternate;i!==null&&(r.alternate=null,rb(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ii(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var wt=null,zn=!1;function ni(r,i,o){for(o=o.child;o!==null;)ib(r,i,o),o=o.sibling}function ib(r,i,o){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(_t,o)}catch{}switch(o.tag){case 26:Ot||dr(o,i),ni(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||dr(o,i);var d=wt,g=zn;Wi(o.type)&&(wt=o.stateNode,zn=!1),ni(r,i,o),wu(o.stateNode),wt=d,zn=g;break;case 5:Ot||dr(o,i);case 6:if(d=wt,g=zn,wt=null,ni(r,i,o),wt=d,zn=g,wt!==null)if(zn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(o.stateNode)}catch(x){ht(o,i,x)}else try{wt.removeChild(o.stateNode)}catch(x){ht(o,i,x)}break;case 18:wt!==null&&(zn?(r=wt,Yb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ru(r)):Yb(wt,o.stateNode));break;case 4:d=wt,g=zn,wt=o.stateNode.containerInfo,zn=!0,ni(r,i,o),wt=d,zn=g;break;case 0:case 11:case 14:case 15:Ot||Fi(2,o,i),Ot||Fi(4,o,i),ni(r,i,o);break;case 1:Ot||(dr(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"&&Z_(o,i,d)),ni(r,i,o);break;case 21:ni(r,i,o);break;case 22:Ot=(d=Ot)||o.memoizedState!==null,ni(r,i,o),Ot=d;break;default:ni(r,i,o)}}function ab(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ru(r)}catch(o){ht(i,i.return,o)}}function rj(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new nb),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new nb),i;default:throw Error(s(435,r.tag))}}function hg(r,i){var o=rj(r);i.forEach(function(d){var g=fj.bind(null,r,d);o.has(d)||(o.add(d),d.then(g,g))})}function es(r,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var g=o[d],x=r,E=i,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Wi(C.type)){wt=C.stateNode,zn=!1;break e}break;case 5:wt=C.stateNode,zn=!1;break e;case 3:case 4:wt=C.stateNode.containerInfo,zn=!0;break e}C=C.return}if(wt===null)throw Error(s(160));ib(x,E,g),wt=null,zn=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ob(i,r),i=i.sibling}var Bs=null;function ob(r,i){var o=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:es(i,r),ts(r),d&4&&(Fi(3,r,r.return),hu(3,r),Fi(5,r,r.return));break;case 1:es(i,r),ts(r),d&512&&(Ot||o===null||dr(o,o.return)),d&64&&ti&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var g=Bs;if(es(i,r),ts(r),d&512&&(Ot||o===null||dr(o,o.return)),d&4){var x=o!==null?o.memoizedState:null;if(d=r.memoizedState,o===null)if(d===null)if(r.stateNode===null){e:{d=r.type,o=r.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":x=g.getElementsByTagName("title")[0],(!x||x[za]||x[Qt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(d),g.head.insertBefore(x,g.querySelector("head > title"))),pn(x,d,o),x[Qt]=r,kt(x),d=x;break e;case"link":var E=t1("link","href",g).get(d+(o.href||""));if(E){for(var C=0;C<E.length;C++)if(x=E[C],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(C,1);break t}}x=g.createElement(d),pn(x,d,o),g.head.appendChild(x);break;case"meta":if(E=t1("meta","content",g).get(d+(o.content||""))){for(C=0;C<E.length;C++)if(x=E[C],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(C,1);break t}}x=g.createElement(d),pn(x,d,o),g.head.appendChild(x);break;default:throw Error(s(468,d))}x[Qt]=r,kt(x),d=x}r.stateNode=d}else n1(g,r.type,r.stateNode);else r.stateNode=e1(g,d,r.memoizedProps);else x!==d?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,d===null?n1(g,r.type,r.stateNode):e1(g,d,r.memoizedProps)):d===null&&r.stateNode!==null&&lg(r,r.memoizedProps,o.memoizedProps)}break;case 27:es(i,r),ts(r),d&512&&(Ot||o===null||dr(o,o.return)),o!==null&&d&4&&lg(r,r.memoizedProps,o.memoizedProps);break;case 5:if(es(i,r),ts(r),d&512&&(Ot||o===null||dr(o,o.return)),r.flags&32){g=r.stateNode;try{vs(g,"")}catch(ee){ht(r,r.return,ee)}}d&4&&r.stateNode!=null&&(g=r.memoizedProps,lg(r,g,o!==null?o.memoizedProps:g)),d&1024&&(dg=!0);break;case 6:if(es(i,r),ts(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,o=r.stateNode;try{o.nodeValue=d}catch(ee){ht(r,r.return,ee)}}break;case 3:if(Jh=null,g=Bs,Bs=Xh(i.containerInfo),es(i,r),Bs=g,ts(r),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Ru(i.containerInfo)}catch(ee){ht(r,r.return,ee)}dg&&(dg=!1,lb(r));break;case 4:d=Bs,Bs=Xh(r.stateNode.containerInfo),es(i,r),ts(r),Bs=d;break;case 12:es(i,r),ts(r);break;case 13:es(i,r),ts(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(xg=Rn()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,hg(r,d)));break;case 22:g=r.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,Z=ti,ie=Ot;if(ti=Z||g,Ot=ie||F,es(i,r),Ot=ie,ti=Z,ts(r),d&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(o===null||F||ti||Ot||fo(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){F=o=i;try{if(x=F.stateNode,g)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=F.stateNode;var ce=F.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){ht(F,F.return,ee)}}}else if(i.tag===6){if(o===null){F=i;try{F.stateNode.nodeValue=g?"":F.memoizedProps}catch(ee){ht(F,F.return,ee)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=r.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,hg(r,o))));break;case 19:es(i,r),ts(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,hg(r,d)));break;case 30:break;case 21:break;default:es(i,r),ts(r)}}function ts(r){var i=r.flags;if(i&2){try{for(var o,d=r.return;d!==null;){if(eb(d)){o=d;break}d=d.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var g=o.stateNode,x=cg(r);Lh(r,x,g);break;case 5:var E=o.stateNode;o.flags&32&&(vs(E,""),o.flags&=-33);var C=cg(r);Lh(r,C,E);break;case 3:case 4:var F=o.stateNode.containerInfo,Z=cg(r);ug(r,Z,F);break;default:throw Error(s(161))}}catch(ie){ht(r,r.return,ie)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function lb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;lb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function qi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sb(r,i.alternate,i),i=i.sibling}function fo(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),fo(i);break;case 1:dr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Z_(i,i.return,o),fo(i);break;case 27:wu(i.stateNode);case 26:case 5:dr(i,i.return),fo(i);break;case 22:i.memoizedState===null&&fo(i);break;case 30:fo(i);break;default:fo(i)}r=r.sibling}}function Hi(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,g=r,x=i,E=x.flags;switch(x.tag){case 0:case 11:case 15:Hi(g,x,o),hu(4,x);break;case 1:if(Hi(g,x,o),d=x,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){ht(d,d.return,Z)}if(d=x,g=d.updateQueue,g!==null){var C=d.stateNode;try{var F=g.shared.hiddenCallbacks;if(F!==null)for(g.shared.hiddenCallbacks=null,g=0;g<F.length;g++)Vv(F[g],C)}catch(Z){ht(d,d.return,Z)}}o&&E&64&&X_(x),fu(x,x.return);break;case 27:tb(x);case 26:case 5:Hi(g,x,o),o&&d===null&&E&4&&J_(x),fu(x,x.return);break;case 12:Hi(g,x,o);break;case 13:Hi(g,x,o),o&&E&4&&ab(g,x);break;case 22:x.memoizedState===null&&Hi(g,x,o),fu(x,x.return);break;case 30:break;default:Hi(g,x,o)}i=i.sibling}}function fg(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Zc(o))}function mg(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Zc(r))}function hr(r,i,o,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cb(r,i,o,d),i=i.sibling}function cb(r,i,o,d){var g=i.flags;switch(i.tag){case 0:case 11:case 15:hr(r,i,o,d),g&2048&&hu(9,i);break;case 1:hr(r,i,o,d);break;case 3:hr(r,i,o,d),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Zc(r)));break;case 12:if(g&2048){hr(r,i,o,d),r=i.stateNode;try{var x=i.memoizedProps,E=x.id,C=x.onPostCommit;typeof C=="function"&&C(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){ht(i,i.return,F)}}else hr(r,i,o,d);break;case 13:hr(r,i,o,d);break;case 23:break;case 22:x=i.stateNode,E=i.alternate,i.memoizedState!==null?x._visibility&2?hr(r,i,o,d):mu(r,i):x._visibility&2?hr(r,i,o,d):(x._visibility|=2,vl(r,i,o,d,(i.subtreeFlags&10256)!==0)),g&2048&&fg(E,i);break;case 24:hr(r,i,o,d),g&2048&&mg(i.alternate,i);break;default:hr(r,i,o,d)}}function vl(r,i,o,d,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var x=r,E=i,C=o,F=d,Z=E.flags;switch(E.tag){case 0:case 11:case 15:vl(x,E,C,F,g),hu(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?vl(x,E,C,F,g):mu(x,E):(ie._visibility|=2,vl(x,E,C,F,g)),g&&Z&2048&&fg(E.alternate,E);break;case 24:vl(x,E,C,F,g),g&&Z&2048&&mg(E.alternate,E);break;default:vl(x,E,C,F,g)}i=i.sibling}}function mu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,d=i,g=d.flags;switch(d.tag){case 22:mu(o,d),g&2048&&fg(d.alternate,d);break;case 24:mu(o,d),g&2048&&mg(d.alternate,d);break;default:mu(o,d)}i=i.sibling}}var pu=8192;function _l(r){if(r.subtreeFlags&pu)for(r=r.child;r!==null;)ub(r),r=r.sibling}function ub(r){switch(r.tag){case 26:_l(r),r.flags&pu&&r.memoizedState!==null&&qj(Bs,r.memoizedState,r.memoizedProps);break;case 5:_l(r);break;case 3:case 4:var i=Bs;Bs=Xh(r.stateNode.containerInfo),_l(r),Bs=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=pu,pu=16777216,_l(r),pu=i):_l(r));break;default:_l(r)}}function db(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function gu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];rn=d,fb(d,r)}db(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hb(r),r=r.sibling}function hb(r){switch(r.tag){case 0:case 11:case 15:gu(r),r.flags&2048&&Fi(9,r,r.return);break;case 3:gu(r);break;case 12:gu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Uh(r)):gu(r);break;default:gu(r)}}function Uh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];rn=d,fb(d,r)}db(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),Uh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Uh(i));break;default:Uh(i)}r=r.sibling}}function fb(r,i){for(;rn!==null;){var o=rn;switch(o.tag){case 0:case 11:case 15:Fi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Zc(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,rn=d;else e:for(o=r;rn!==null;){d=rn;var g=d.sibling,x=d.return;if(rb(d),d===o){rn=null;break e}if(g!==null){g.return=x,rn=g;break e}rn=x}}}var ij={getCacheForType:function(r){var i=wn(Zt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},aj=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,Ue=null,Qe=0,at=0,ns=null,Gi=!1,bl=!1,pg=!1,si=0,It=0,$i=0,mo=0,gg=0,js=0,wl=0,yu=null,Bn=null,yg=!1,xg=0,zh=1/0,Bh=null,Yi=null,mn=0,Ki=null,Nl=null,El=0,vg=0,_g=null,mb=null,xu=0,bg=null;function ss(){if((it&2)!==0&&Qe!==0)return Qe&-Qe;if(K.T!==null){var r=dl;return r!==0?r:jg()}return Ci()}function pb(){js===0&&(js=(Qe&536870912)===0||et?Ac():536870912);var r=As.current;return r!==null&&(r.flags|=32),js}function rs(r,i,o){(r===pt&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(Tl(r,0),Qi(r,Qe,js,!1)),Or(r,o),((it&2)===0||r!==pt)&&(r===pt&&((it&2)===0&&(mo|=o),It===4&&Qi(r,Qe,js,!1)),fr(r))}function gb(r,i,o){if((it&6)!==0)throw Error(s(327));var d=!o&&(i&124)===0&&(i&r.expiredLanes)===0||Ua(r,i),g=d?cj(r,i):Eg(r,i,!0),x=d;do{if(g===0){bl&&!d&&Qi(r,i,0,!1);break}else{if(o=r.current.alternate,x&&!oj(o)){g=Eg(r,i,!1),x=!1;continue}if(g===2){if(x=i,r.errorRecoveryDisabledLanes&x)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var C=r;g=yu;var F=C.current.memoizedState.isDehydrated;if(F&&(Tl(C,E).flags|=256),E=Eg(C,E,!1),E!==2){if(pg&&!F){C.errorRecoveryDisabledLanes|=x,mo|=x,g=4;break e}x=Bn,Bn=g,x!==null&&(Bn===null?Bn=x:Bn.push.apply(Bn,x))}g=E}if(x=!1,g!==2)continue}}if(g===1){Tl(r,0),Qi(r,i,0,!0);break}e:{switch(d=r,x=g,x){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qi(d,i,js,!Gi);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=xg+300-Rn(),10<g)){if(Qi(d,i,js,!Gi),Fo(d,0,!0)!==0)break e;d.timeoutHandle=Gb(yb.bind(null,d,o,Bn,Bh,yg,i,js,mo,wl,Gi,x,2,-0,0),g);break e}yb(d,o,Bn,Bh,yg,i,js,mo,wl,Gi,x,0,-0,0)}}break}while(!0);fr(r)}function yb(r,i,o,d,g,x,E,C,F,Z,ie,ce,J,ee){if(r.timeoutHandle=-1,ce=i.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Tu={stylesheets:null,count:0,unsuspend:Fj},ub(i),ce=Hj(),ce!==null)){r.cancelPendingCommit=ce(Eb.bind(null,r,i,x,o,d,g,E,C,F,ie,1,J,ee)),Qi(r,x,E,!Z);return}Eb(r,i,x,o,d,g,E,C,F)}function oj(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var g=o[d],x=g.getSnapshot;g=g.value;try{if(!Zn(x(),g))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(r,i,o,d){i&=~gg,i&=~mo,r.suspendedLanes|=i,r.pingedLanes&=~i,d&&(r.warmLanes|=i),d=r.expirationTimes;for(var g=i;0<g;){var x=31-bn(g),E=1<<x;d[x]=-1,g&=~E}o!==0&&Zs(r,o,i)}function Fh(){return(it&6)===0?(vu(0),!1):!0}function wg(){if(Ue!==null){if(at===0)var r=Ue.return;else r=Ue,Qr=oo=null,Up(r),yl=null,cu=0,r=Ue;for(;r!==null;)W_(r.alternate,r),r=r.return;Ue=null}}function Tl(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Tj(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),wg(),pt=r,Ue=o=$r(r.current,null),Qe=i,at=0,ns=null,Gi=!1,bl=Ua(r,i),pg=!1,wl=js=gg=mo=$i=It=0,Bn=yu=null,yg=!1,(i&8)!==0&&(i|=i&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=i;0<d;){var g=31-bn(d),x=1<<g;i|=r[g],d&=~x}return si=i,uh(),o}function xb(r,i){Ve=null,K.H=Ch,i===eu||i===vh?(i=Ov(),at=3):i===Dv?(i=Ov(),at=4):at=i===M_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ns=i,Ue===null&&(It=1,Ph(r,Ns(i,r.current)))}function vb(){var r=K.H;return K.H=Ch,r===null?Ch:r}function _b(){var r=K.A;return K.A=ij,r}function Ng(){It=4,Gi||(Qe&4194048)!==Qe&&As.current!==null||(bl=!0),($i&134217727)===0&&(mo&134217727)===0||pt===null||Qi(pt,Qe,js,!1)}function Eg(r,i,o){var d=it;it|=2;var g=vb(),x=_b();(pt!==r||Qe!==i)&&(Bh=null,Tl(r,i)),i=!1;var E=It;e:do try{if(at!==0&&Ue!==null){var C=Ue,F=ns;switch(at){case 8:wg(),E=6;break e;case 3:case 2:case 9:case 6:As.current===null&&(i=!0);var Z=at;if(at=0,ns=null,Sl(r,C,F,Z),o&&bl){E=0;break e}break;default:Z=at,at=0,ns=null,Sl(r,C,F,Z)}}lj(),E=It;break}catch(ie){xb(r,ie)}while(!0);return i&&r.shellSuspendCounter++,Qr=oo=null,it=d,K.H=g,K.A=x,Ue===null&&(pt=null,Qe=0,uh()),E}function lj(){for(;Ue!==null;)bb(Ue)}function cj(r,i){var o=it;it|=2;var d=vb(),g=_b();pt!==r||Qe!==i?(Bh=null,zh=Rn()+500,Tl(r,i)):bl=Ua(r,i);e:do try{if(at!==0&&Ue!==null){i=Ue;var x=ns;t:switch(at){case 1:at=0,ns=null,Sl(r,i,x,1);break;case 2:case 9:if(kv(x)){at=0,ns=null,wb(i);break}i=function(){at!==2&&at!==9||pt!==r||(at=7),fr(r)},x.then(i,i);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:kv(x)?(at=0,ns=null,wb(i)):(at=0,ns=null,Sl(r,i,x,7));break;case 5:var E=null;switch(Ue.tag){case 26:E=Ue.memoizedState;case 5:case 27:var C=Ue;if(!E||s1(E)){at=0,ns=null;var F=C.sibling;if(F!==null)Ue=F;else{var Z=C.return;Z!==null?(Ue=Z,qh(Z)):Ue=null}break t}}at=0,ns=null,Sl(r,i,x,5);break;case 6:at=0,ns=null,Sl(r,i,x,6);break;case 8:wg(),It=6;break e;default:throw Error(s(462))}}uj();break}catch(ie){xb(r,ie)}while(!0);return Qr=oo=null,K.H=d,K.A=g,it=o,Ue!==null?0:(pt=null,Qe=0,uh(),It)}function uj(){for(;Ue!==null&&!un();)bb(Ue)}function bb(r){var i=K_(r.alternate,r,si);r.memoizedProps=r.pendingProps,i===null?qh(r):Ue=i}function wb(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=F_(o,i,i.pendingProps,i.type,void 0,Qe);break;case 11:i=F_(o,i,i.pendingProps,i.type.render,i.ref,Qe);break;case 5:Up(i);default:W_(o,i),i=Ue=Nv(i,si),i=K_(o,i,si)}r.memoizedProps=r.pendingProps,i===null?qh(r):Ue=i}function Sl(r,i,o,d){Qr=oo=null,Up(i),yl=null,cu=0;var g=i.return;try{if(JA(r,g,i,o,Qe)){It=1,Ph(r,Ns(o,r.current)),Ue=null;return}}catch(x){if(g!==null)throw Ue=g,x;It=1,Ph(r,Ns(o,r.current)),Ue=null;return}i.flags&32768?(et||d===1?r=!0:bl||(Qe&536870912)!==0?r=!1:(Gi=r=!0,(d===2||d===9||d===3||d===6)&&(d=As.current,d!==null&&d.tag===13&&(d.flags|=16384))),Nb(i,r)):qh(i)}function qh(r){var i=r;do{if((i.flags&32768)!==0){Nb(i,Gi);return}r=i.return;var o=tj(i.alternate,i,si);if(o!==null){Ue=o;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=r}while(i!==null);It===0&&(It=5)}function Nb(r,i){do{var o=nj(r.alternate,r);if(o!==null){o.flags&=32767,Ue=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Ue=r;return}Ue=r=o}while(r!==null);It=6,Ue=null}function Eb(r,i,o,d,g,x,E,C,F){r.cancelPendingCommit=null;do Hh();while(mn!==0);if((it&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(x=i.lanes|i.childLanes,x|=mp,Cc(r,o,x,E,C,F),r===pt&&(Ue=pt=null,Qe=0),Nl=i,Ki=r,El=o,vg=x,_g=g,mb=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,mj(_n,function(){return Cb(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=K.T,K.T=null,g=re.p,re.p=2,E=it,it|=4;try{sj(r,i,o)}finally{it=E,re.p=g,K.T=d}}mn=1,Tb(),Sb(),Ab()}}function Tb(){if(mn===1){mn=0;var r=Ki,i=Nl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var d=re.p;re.p=2;var g=it;it|=4;try{ob(i,r);var x=Mg,E=fv(r.containerInfo),C=x.focusedElem,F=x.selectionRange;if(E!==C&&C&&C.ownerDocument&&hv(C.ownerDocument.documentElement,C)){if(F!==null&&cp(C)){var Z=F.start,ie=F.end;if(ie===void 0&&(ie=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(ie,C.value.length);else{var ce=C.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ie=C.textContent.length,Ae=Math.min(F.start,Ie),ut=F.end===void 0?Ae:Math.min(F.end,Ie);!ee.extend&&Ae>ut&&(E=ut,ut=Ae,Ae=E);var Y=dv(C,Ae),G=dv(C,ut);if(Y&&G&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==G.node||ee.focusOffset!==G.offset)){var X=ce.createRange();X.setStart(Y.node,Y.offset),ee.removeAllRanges(),Ae>ut?(ee.addRange(X),ee.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),ee.addRange(X))}}}}for(ce=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ce.length;C++){var oe=ce[C];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}nf=!!Og,Mg=Og=null}finally{it=g,re.p=d,K.T=o}}r.current=i,mn=2}}function Sb(){if(mn===2){mn=0;var r=Ki,i=Nl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var d=re.p;re.p=2;var g=it;it|=4;try{sb(r,i.alternate,i)}finally{it=g,re.p=d,K.T=o}}mn=3}}function Ab(){if(mn===4||mn===3){mn=0,Xs();var r=Ki,i=Nl,o=El,d=mb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?mn=5:(mn=0,Nl=Ki=null,jb(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Yi=null),qo(o),i=i.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(_t,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=K.T,g=re.p,re.p=2,K.T=null;try{for(var x=r.onRecoverableError,E=0;E<d.length;E++){var C=d[E];x(C.value,{componentStack:C.stack})}}finally{K.T=i,re.p=g}}(El&3)!==0&&Hh(),fr(r),g=r.pendingLanes,(o&4194090)!==0&&(g&42)!==0?r===bg?xu++:(xu=0,bg=r):xu=0,vu(0)}}function jb(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Zc(i)))}function Hh(r){return Tb(),Sb(),Ab(),Cb()}function Cb(){if(mn!==5)return!1;var r=Ki,i=vg;vg=0;var o=qo(El),d=K.T,g=re.p;try{re.p=32>o?32:o,K.T=null,o=_g,_g=null;var x=Ki,E=El;if(mn=0,Nl=Ki=null,El=0,(it&6)!==0)throw Error(s(331));var C=it;if(it|=4,hb(x.current),cb(x,x.current,E,o),it=C,vu(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(_t,x)}catch{}return!0}finally{re.p=g,K.T=d,jb(r,i)}}function Rb(r,i,o){i=Ns(o,i),i=Jp(r.stateNode,i,2),r=Li(r,i,2),r!==null&&(Or(r,2),fr(r))}function ht(r,i,o){if(r.tag===3)Rb(r,r,o);else for(;i!==null;){if(i.tag===3){Rb(i,r,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Yi===null||!Yi.has(d))){r=Ns(o,r),o=P_(2),d=Li(i,o,2),d!==null&&(O_(o,d,i,r),Or(d,2),fr(d));break}}i=i.return}}function Tg(r,i,o){var d=r.pingCache;if(d===null){d=r.pingCache=new aj;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(o)||(pg=!0,g.add(o),r=dj.bind(null,r,i,o),i.then(r,r))}function dj(r,i,o){var d=r.pingCache;d!==null&&d.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,pt===r&&(Qe&o)===o&&(It===4||It===3&&(Qe&62914560)===Qe&&300>Rn()-xg?(it&2)===0&&Tl(r,0):gg|=o,wl===Qe&&(wl=0)),fr(r)}function Ib(r,i){i===0&&(i=jc()),r=ol(r,i),r!==null&&(Or(r,i),fr(r))}function hj(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Ib(r,o)}function fj(r,i){var o=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(o=g.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(i),Ib(r,o)}function mj(r,i){return tt(r,i)}var Gh=null,Al=null,Sg=!1,$h=!1,Ag=!1,po=0;function fr(r){r!==Al&&r.next===null&&(Al===null?Gh=Al=r:Al=Al.next=r),$h=!0,Sg||(Sg=!0,gj())}function vu(r,i){if(!Ag&&$h){Ag=!0;do for(var o=!1,d=Gh;d!==null;){if(r!==0){var g=d.pendingLanes;if(g===0)var x=0;else{var E=d.suspendedLanes,C=d.pingedLanes;x=(1<<31-bn(42|r)+1)-1,x&=g&~(E&~C),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,Ob(d,x))}else x=Qe,x=Fo(d,d===pt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Ua(d,x)||(o=!0,Ob(d,x));d=d.next}while(o);Ag=!1}}function pj(){Db()}function Db(){$h=Sg=!1;var r=0;po!==0&&(Ej()&&(r=po),po=0);for(var i=Rn(),o=null,d=Gh;d!==null;){var g=d.next,x=kb(d,i);x===0?(d.next=null,o===null?Gh=g:o.next=g,g===null&&(Al=o)):(o=d,(r!==0||(x&3)!==0)&&($h=!0)),d=g}vu(r)}function kb(r,i){for(var o=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var E=31-bn(x),C=1<<E,F=g[E];F===-1?((C&o)===0||(C&d)!==0)&&(g[E]=Sc(C,i)):F<=i&&(r.expiredLanes|=C),x&=~C}if(i=pt,o=Qe,o=Fo(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,o===0||r===i&&(at===2||at===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&dt(d),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ua(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(d!==null&&dt(d),qo(o)){case 2:case 8:o=ys;break;case 32:o=_n;break;case 268435456:o=Si;break;default:o=_n}return d=Pb.bind(null,r),o=tt(o,d),r.callbackPriority=i,r.callbackNode=o,i}return d!==null&&d!==null&&dt(d),r.callbackPriority=2,r.callbackNode=null,2}function Pb(r,i){if(mn!==0&&mn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Hh()&&r.callbackNode!==o)return null;var d=Qe;return d=Fo(r,r===pt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(gb(r,d,i),kb(r,Rn()),r.callbackNode!=null&&r.callbackNode===o?Pb.bind(null,r):null)}function Ob(r,i){if(Hh())return null;gb(r,i,!0)}function gj(){Sj(function(){(it&6)!==0?tt(Oa,pj):Db()})}function jg(){return po===0&&(po=Ac()),po}function Mb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Qo(""+r)}function Vb(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function yj(r,i,o,d,g){if(i==="submit"&&o&&o.stateNode===g){var x=Mb((g[Ut]||null).action),E=d.submitter;E&&(i=(i=E[Ut]||null)?Mb(i.formAction):E.getAttribute("formAction"),i!==null&&(x=i,E=null));var C=new Wo("action","action",null,d,g);r.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(po!==0){var F=E?Vb(g,E):new FormData(g);Kp(o,{pending:!0,data:F,method:g.method,action:x},null,F)}}else typeof x=="function"&&(C.preventDefault(),F=E?Vb(g,E):new FormData(g),Kp(o,{pending:!0,data:F,method:g.method,action:x},x,F))},currentTarget:g}]})}}for(var Cg=0;Cg<fp.length;Cg++){var Rg=fp[Cg],xj=Rg.toLowerCase(),vj=Rg[0].toUpperCase()+Rg.slice(1);zs(xj,"on"+vj)}zs(gv,"onAnimationEnd"),zs(yv,"onAnimationIteration"),zs(xv,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(MA,"onTransitionRun"),zs(VA,"onTransitionStart"),zs(LA,"onTransitionCancel"),zs(vv,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_j=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function Lb(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var d=r[o],g=d.event;d=d.listeners;e:{var x=void 0;if(i)for(var E=d.length-1;0<=E;E--){var C=d[E],F=C.instance,Z=C.currentTarget;if(C=C.listener,F!==x&&g.isPropagationStopped())break e;x=C,g.currentTarget=Z;try{x(g)}catch(ie){kh(ie)}g.currentTarget=null,x=F}else for(E=0;E<d.length;E++){if(C=d[E],F=C.instance,Z=C.currentTarget,C=C.listener,F!==x&&g.isPropagationStopped())break e;x=C,g.currentTarget=Z;try{x(g)}catch(ie){kh(ie)}g.currentTarget=null,x=F}}}}function ze(r,i){var o=i[Ic];o===void 0&&(o=i[Ic]=new Set);var d=r+"__bubble";o.has(d)||(Ub(i,r,2,!1),o.add(d))}function Ig(r,i,o){var d=0;i&&(d|=4),Ub(o,r,d,i)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function Dg(r){if(!r[Yh]){r[Yh]=!0,Dc.forEach(function(o){o!=="selectionchange"&&(_j.has(o)||Ig(o,!1,r),Ig(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Yh]||(i[Yh]=!0,Ig("selectionchange",!1,i))}}function Ub(r,i,o,d){switch(c1(i)){case 2:var g=Yj;break;case 8:g=Kj;break;default:g=$g}o=g.bind(null,i,o,r),g=void 0,!bs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(i,o,{capture:!0,passive:g}):r.addEventListener(i,o,!0):g!==void 0?r.addEventListener(i,o,{passive:g}):r.addEventListener(i,o,!1)}function kg(r,i,o,d,g){var x=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var C=d.stateNode.containerInfo;if(C===g)break;if(E===4)for(E=d.return;E!==null;){var F=E.tag;if((F===3||F===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;C!==null;){if(E=Mr(C),E===null)return;if(F=E.tag,F===5||F===6||F===26||F===27){d=x=E;continue e}C=C.parentNode}}d=d.return}Qd(function(){var Z=x,ie=_s(o),ce=[];e:{var J=_v.get(r);if(J!==void 0){var ee=Wo,Ie=r;switch(r){case"keypress":if(rr(o)===0)break e;case"keydown":case"keyup":ee=nl;break;case"focusin":Ie="focus",ee=Jo;break;case"focusout":Ie="blur",ee=Jo;break;case"beforeblur":case"afterblur":ee=Jo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=sh;break;case gv:case yv:case xv:ee=el;break;case vv:ee=ih;break;case"scroll":case"scrollend":ee=Wd;break;case"wheel":ee=sl;break;case"copy":case"cut":case"paste":ee=tl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Hc;break;case"toggle":case"beforetoggle":ee=oh}var Ae=(i&4)!==0,ut=!Ae&&(r==="scroll"||r==="scrollend"),Y=Ae?J!==null?J+"Capture":null:J;Ae=[];for(var G=Z,X;G!==null;){var oe=G;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||Y===null||(oe=Ya(G,Y),oe!=null&&Ae.push(bu(G,oe,X))),ut)break;G=G.return}0<Ae.length&&(J=new ee(J,Ie,null,o,ie),ce.push({event:J,listeners:Ae}))}}if((i&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",J&&o!==zr&&(Ie=o.relatedTarget||o.fromElement)&&(Mr(Ie)||Ie[xs]))break e;if((ee||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ie=o.relatedTarget||o.toElement,ee=Z,Ie=Ie?Mr(Ie):null,Ie!==null&&(ut=l(Ie),Ae=Ie.tag,Ie!==ut||Ae!==5&&Ae!==27&&Ae!==6)&&(Ie=null)):(ee=null,Ie=Z),ee!==Ie)){if(Ae=ws,oe="onMouseLeave",Y="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=Hc,oe="onPointerLeave",Y="onPointerEnter",G="pointer"),ut=ee==null?J:er(ee),X=Ie==null?J:er(Ie),J=new Ae(oe,G+"leave",ee,o,ie),J.target=ut,J.relatedTarget=X,oe=null,Mr(ie)===Z&&(Ae=new Ae(Y,G+"enter",Ie,o,ie),Ae.target=X,Ae.relatedTarget=ut,oe=Ae),ut=oe,ee&&Ie)t:{for(Ae=ee,Y=Ie,G=0,X=Ae;X;X=jl(X))G++;for(X=0,oe=Y;oe;oe=jl(oe))X++;for(;0<G-X;)Ae=jl(Ae),G--;for(;0<X-G;)Y=jl(Y),X--;for(;G--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=jl(Ae),Y=jl(Y)}Ae=null}else Ae=null;ee!==null&&zb(ce,J,ee,Ae,!1),Ie!==null&&ut!==null&&zb(ce,ut,Ie,Ae,!0)}}e:{if(J=Z?er(Z):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var _e=iv;else if(Xt(J))if(av)_e=kA;else{_e=IA;var Le=RA}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Vc(Z.elementType)&&(_e=iv):_e=DA;if(_e&&(_e=_e(r,Z))){Gr(ce,_e,o,ie);break e}Le&&Le(r,J,Z),r==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&ki(J,"number",J.value)}switch(Le=Z?er(Z):window,r){case"focusin":(Xt(Le)||Le.contentEditable==="true")&&(rl=Le,up=Z,Yc=null);break;case"focusout":Yc=up=rl=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,mv(ce,o,ie);break;case"selectionchange":if(OA)break;case"keydown":case"keyup":mv(ce,o,ie)}var Ee;if(or)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ye?te(r,o)&&(je="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(w&&o.locale!=="ko"&&(Ye||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ye&&(Ee=Uc()):(sr=ie,Pi="value"in sr?sr.value:sr.textContent,Ye=!0)),Le=Kh(Z,je),0<Le.length&&(je=new Fc(je,r,null,o,ie),ce.push({event:je,listeners:Le}),Ee?je.data=Ee:(Ee=pe(o),Ee!==null&&(je.data=Ee)))),(Ee=_?Wt(r,o):Ke(r,o))&&(je=Kh(Z,"onBeforeInput"),0<je.length&&(Le=new Fc("onBeforeInput","beforeinput",null,o,ie),ce.push({event:Le,listeners:je}),Le.data=Ee)),yj(ce,r,Z,o,ie)}Lb(ce,i)})}function bu(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Kh(r,i){for(var o=i+"Capture",d=[];r!==null;){var g=r,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Ya(r,o),g!=null&&d.unshift(bu(r,g,x)),g=Ya(r,i),g!=null&&d.push(bu(r,g,x))),r.tag===3)return d;r=r.return}return[]}function jl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function zb(r,i,o,d,g){for(var x=i._reactName,E=[];o!==null&&o!==d;){var C=o,F=C.alternate,Z=C.stateNode;if(C=C.tag,F!==null&&F===d)break;C!==5&&C!==26&&C!==27||Z===null||(F=Z,g?(Z=Ya(o,x),Z!=null&&E.unshift(bu(o,Z,F))):g||(Z=Ya(o,x),Z!=null&&E.push(bu(o,Z,F)))),o=o.return}E.length!==0&&r.push({event:i,listeners:E})}var bj=/\r\n?/g,wj=/\u0000|\uFFFD/g;function Bb(r){return(typeof r=="string"?r:""+r).replace(bj,`
`).replace(wj,"")}function Fb(r,i){return i=Bb(i),Bb(r)===i}function Qh(){}function ct(r,i,o,d,g,x){switch(o){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||vs(r,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&vs(r,""+d);break;case"className":tr(r,"class",d);break;case"tabIndex":tr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(r,o,d);break;case"style":Mc(r,d,x);break;case"data":if(i!=="object"){tr(r,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=Qo(""+d),r.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(i!=="input"&&ct(r,i,"name",g.name,g,null),ct(r,i,"formEncType",g.formEncType,g,null),ct(r,i,"formMethod",g.formMethod,g,null),ct(r,i,"formTarget",g.formTarget,g,null)):(ct(r,i,"encType",g.encType,g,null),ct(r,i,"method",g.method,g,null),ct(r,i,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=Qo(""+d),r.setAttribute(o,d);break;case"onClick":d!=null&&(r.onclick=Qh);break;case"onScroll":d!=null&&ze("scroll",r);break;case"onScrollEnd":d!=null&&ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}o=Qo(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""+d):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":d===!0?r.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,d):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(o,d):r.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(o):r.setAttribute(o,d);break;case"popover":ze("beforetoggle",r),ze("toggle",r),Di(r,"popover",d);break;case"xlinkActuate":dn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":dn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":dn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":dn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":dn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":dn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":dn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":dn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":dn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Di(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sp.get(o)||o,Di(r,o,d))}}function Pg(r,i,o,d,g,x){switch(o){case"style":Mc(r,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof d=="string"?vs(r,d):(typeof d=="number"||typeof d=="bigint")&&vs(r,""+d);break;case"onScroll":d!=null&&ze("scroll",r);break;case"onScrollEnd":d!=null&&ze("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Qh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),i=o.slice(2,g?o.length-7:void 0),x=r[Ut]||null,x=x!=null?x[o]:null,typeof x=="function"&&r.removeEventListener(i,x,g),typeof d=="function")){typeof x!="function"&&x!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,d,g);break e}o in r?r[o]=d:d===!0?r.setAttribute(o,""):Di(r,o,d)}}}function pn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",r),ze("load",r);var d=!1,g=!1,x;for(x in o)if(o.hasOwnProperty(x)){var E=o[x];if(E!=null)switch(x){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(r,i,x,E,o,null)}}g&&ct(r,i,"srcSet",o.srcSet,o,null),d&&ct(r,i,"src",o.src,o,null);return;case"input":ze("invalid",r);var C=x=E=g=null,F=null,Z=null;for(d in o)if(o.hasOwnProperty(d)){var ie=o[d];if(ie!=null)switch(d){case"name":g=ie;break;case"type":E=ie;break;case"checked":F=ie;break;case"defaultChecked":Z=ie;break;case"value":x=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,i));break;default:ct(r,i,d,ie,o,null)}}Ha(r,x,C,F,Z,E,g,!1),Ko(r);return;case"select":ze("invalid",r),d=E=x=null;for(g in o)if(o.hasOwnProperty(g)&&(C=o[g],C!=null))switch(g){case"value":x=C;break;case"defaultValue":E=C;break;case"multiple":d=C;default:ct(r,i,g,C,o,null)}i=x,o=E,r.multiple=!!d,i!=null?Ur(r,!!d,i,!1):o!=null&&Ur(r,!!d,o,!0);return;case"textarea":ze("invalid",r),x=g=d=null;for(E in o)if(o.hasOwnProperty(E)&&(C=o[E],C!=null))switch(E){case"value":d=C;break;case"defaultValue":g=C;break;case"children":x=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:ct(r,i,E,C,o,null)}Ga(r,d,g,x),Ko(r);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(d=o[F],d!=null))switch(F){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ct(r,i,F,d,o,null)}return;case"dialog":ze("beforetoggle",r),ze("toggle",r),ze("cancel",r),ze("close",r);break;case"iframe":case"object":ze("load",r);break;case"video":case"audio":for(d=0;d<_u.length;d++)ze(_u[d],r);break;case"image":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"embed":case"source":case"link":ze("error",r),ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(d=o[Z],d!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(r,i,Z,d,o,null)}return;default:if(Vc(i)){for(ie in o)o.hasOwnProperty(ie)&&(d=o[ie],d!==void 0&&Pg(r,i,ie,d,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(d=o[C],d!=null&&ct(r,i,C,d,o,null))}function Nj(r,i,o,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,E=null,C=null,F=null,Z=null,ie=null;for(ee in o){var ce=o[ee];if(o.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":F=ce;default:d.hasOwnProperty(ee)||ct(r,i,ee,null,d,ce)}}for(var J in d){var ee=d[J];if(ce=o[J],d.hasOwnProperty(J)&&(ee!=null||ce!=null))switch(J){case"type":x=ee;break;case"name":g=ee;break;case"checked":Z=ee;break;case"defaultChecked":ie=ee;break;case"value":E=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:ee!==ce&&ct(r,i,J,ee,d,ce)}}Xn(r,E,C,F,Z,ie,x,g);return;case"select":ee=E=C=J=null;for(x in o)if(F=o[x],o.hasOwnProperty(x)&&F!=null)switch(x){case"value":break;case"multiple":ee=F;default:d.hasOwnProperty(x)||ct(r,i,x,null,d,F)}for(g in d)if(x=d[g],F=o[g],d.hasOwnProperty(g)&&(x!=null||F!=null))switch(g){case"value":J=x;break;case"defaultValue":C=x;break;case"multiple":E=x;default:x!==F&&ct(r,i,g,x,d,F)}i=C,o=E,d=ee,J!=null?Ur(r,!!o,J,!1):!!d!=!!o&&(i!=null?Ur(r,!!o,i,!0):Ur(r,!!o,o?[]:"",!1));return;case"textarea":ee=J=null;for(C in o)if(g=o[C],o.hasOwnProperty(C)&&g!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ct(r,i,C,null,d,g)}for(E in d)if(g=d[E],x=o[E],d.hasOwnProperty(E)&&(g!=null||x!=null))switch(E){case"value":J=g;break;case"defaultValue":ee=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==x&&ct(r,i,E,g,d,x)}ot(r,J,ee);return;case"option":for(var Ie in o)if(J=o[Ie],o.hasOwnProperty(Ie)&&J!=null&&!d.hasOwnProperty(Ie))switch(Ie){case"selected":r.selected=!1;break;default:ct(r,i,Ie,null,d,J)}for(F in d)if(J=d[F],ee=o[F],d.hasOwnProperty(F)&&J!==ee&&(J!=null||ee!=null))switch(F){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ct(r,i,F,J,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)J=o[Ae],o.hasOwnProperty(Ae)&&J!=null&&!d.hasOwnProperty(Ae)&&ct(r,i,Ae,null,d,J);for(Z in d)if(J=d[Z],ee=o[Z],d.hasOwnProperty(Z)&&J!==ee&&(J!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:ct(r,i,Z,J,d,ee)}return;default:if(Vc(i)){for(var ut in o)J=o[ut],o.hasOwnProperty(ut)&&J!==void 0&&!d.hasOwnProperty(ut)&&Pg(r,i,ut,void 0,d,J);for(ie in d)J=d[ie],ee=o[ie],!d.hasOwnProperty(ie)||J===ee||J===void 0&&ee===void 0||Pg(r,i,ie,J,d,ee);return}}for(var Y in o)J=o[Y],o.hasOwnProperty(Y)&&J!=null&&!d.hasOwnProperty(Y)&&ct(r,i,Y,null,d,J);for(ce in d)J=d[ce],ee=o[ce],!d.hasOwnProperty(ce)||J===ee||J==null&&ee==null||ct(r,i,ce,J,d,ee)}var Og=null,Mg=null;function Wh(r){return r.nodeType===9?r:r.ownerDocument}function qb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hb(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Vg(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lg=null;function Ej(){var r=window.event;return r&&r.type==="popstate"?r===Lg?!1:(Lg=r,!0):(Lg=null,!1)}var Gb=typeof setTimeout=="function"?setTimeout:void 0,Tj=typeof clearTimeout=="function"?clearTimeout:void 0,$b=typeof Promise=="function"?Promise:void 0,Sj=typeof queueMicrotask=="function"?queueMicrotask:typeof $b<"u"?function(r){return $b.resolve(null).then(r).catch(Aj)}:Gb;function Aj(r){setTimeout(function(){throw r})}function Wi(r){return r==="head"}function Yb(r,i){var o=i,d=0,g=0;do{var x=o.nextSibling;if(r.removeChild(o),x&&x.nodeType===8)if(o=x.data,o==="/$"){if(0<d&&8>d){o=d;var E=r.ownerDocument;if(o&1&&wu(E.documentElement),o&2&&wu(E.body),o&4)for(o=E.head,wu(o),E=o.firstChild;E;){var C=E.nextSibling,F=E.nodeName;E[za]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=C}}if(g===0){r.removeChild(x),Ru(i);return}g--}else o==="$"||o==="$?"||o==="$!"?g++:d=o.charCodeAt(0)-48;else d=0;o=x}while(o);Ru(i)}function Ug(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ug(o),Ii(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function jj(r,i,o,d){for(;r.nodeType===1;){var g=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[za])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=Fs(r.nextSibling),r===null)break}return null}function Cj(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Fs(r.nextSibling),r===null))return null;return r}function zg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Rj(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var d=function(){i(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Fs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Bg=null;function Kb(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function Qb(r,i,o){switch(i=Wh(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function wu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ii(r)}var Cs=new Map,Wb=new Set;function Xh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ri=re.d;re.d={f:Ij,r:Dj,D:kj,C:Pj,L:Oj,m:Mj,X:Lj,S:Vj,M:Uj};function Ij(){var r=ri.f(),i=Fh();return r||i}function Dj(r){var i=Js(r);i!==null&&i.tag===5&&i.type==="form"?g_(i):ri.r(r)}var Cl=typeof document>"u"?null:document;function Xb(r,i,o){var d=Cl;if(d&&typeof i=="string"&&i){var g=zt(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),Wb.has(g)||(Wb.add(g),r={rel:r,crossOrigin:o,href:i},d.querySelector(g)===null&&(i=d.createElement("link"),pn(i,"link",r),kt(i),d.head.appendChild(i)))}}function kj(r){ri.D(r),Xb("dns-prefetch",r,null)}function Pj(r,i){ri.C(r,i),Xb("preconnect",r,i)}function Oj(r,i,o){ri.L(r,i,o);var d=Cl;if(d&&r&&i){var g='link[rel="preload"][as="'+zt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+zt(o.imageSizes)+'"]')):g+='[href="'+zt(r)+'"]';var x=g;switch(i){case"style":x=Rl(r);break;case"script":x=Il(r)}Cs.has(x)||(r=y({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Cs.set(x,r),d.querySelector(g)!==null||i==="style"&&d.querySelector(Nu(x))||i==="script"&&d.querySelector(Eu(x))||(i=d.createElement("link"),pn(i,"link",r),kt(i),d.head.appendChild(i)))}}function Mj(r,i){ri.m(r,i);var o=Cl;if(o&&r){var d=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+zt(d)+'"][href="'+zt(r)+'"]',x=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Il(r)}if(!Cs.has(x)&&(r=y({rel:"modulepreload",href:r},i),Cs.set(x,r),o.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Eu(x)))return}d=o.createElement("link"),pn(d,"link",r),kt(d),o.head.appendChild(d)}}}function Vj(r,i,o){ri.S(r,i,o);var d=Cl;if(d&&r){var g=In(d).hoistableStyles,x=Rl(r);i=i||"default";var E=g.get(x);if(!E){var C={loading:0,preload:null};if(E=d.querySelector(Nu(x)))C.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Cs.get(x))&&Fg(r,o);var F=E=d.createElement("link");kt(F),pn(F,"link",r),F._p=new Promise(function(Z,ie){F.onload=Z,F.onerror=ie}),F.addEventListener("load",function(){C.loading|=1}),F.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Zh(E,i,d)}E={type:"stylesheet",instance:E,count:1,state:C},g.set(x,E)}}}function Lj(r,i){ri.X(r,i);var o=Cl;if(o&&r){var d=In(o).hoistableScripts,g=Il(r),x=d.get(g);x||(x=o.querySelector(Eu(g)),x||(r=y({src:r,async:!0},i),(i=Cs.get(g))&&qg(r,i),x=o.createElement("script"),kt(x),pn(x,"link",r),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function Uj(r,i){ri.M(r,i);var o=Cl;if(o&&r){var d=In(o).hoistableScripts,g=Il(r),x=d.get(g);x||(x=o.querySelector(Eu(g)),x||(r=y({src:r,async:!0,type:"module"},i),(i=Cs.get(g))&&qg(r,i),x=o.createElement("script"),kt(x),pn(x,"link",r),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(g,x))}}function Zb(r,i,o,d){var g=(g=be.current)?Xh(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Rl(o.href),o=In(g).hoistableStyles,d=o.get(i),d||(d={type:"style",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Rl(o.href);var x=In(g).hoistableStyles,E=x.get(r);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,E),(x=g.querySelector(Nu(r)))&&!x._p&&(E.instance=x,E.state.loading=5),Cs.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Cs.set(r,o),x||zj(g,r,o,E.state))),i&&d===null)throw Error(s(528,""));return E}if(i&&d!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Il(o),o=In(g).hoistableScripts,d=o.get(i),d||(d={type:"script",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Rl(r){return'href="'+zt(r)+'"'}function Nu(r){return'link[rel="stylesheet"]['+r+"]"}function Jb(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function zj(r,i,o,d){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=r.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),pn(i,"link",o),kt(i),r.head.appendChild(i))}function Il(r){return'[src="'+zt(r)+'"]'}function Eu(r){return"script[async]"+r}function e1(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var d=r.querySelector('style[data-href~="'+zt(o.href)+'"]');if(d)return i.instance=d,kt(d),d;var g=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),kt(d),pn(d,"style",g),Zh(d,o.precedence,r),i.instance=d;case"stylesheet":g=Rl(o.href);var x=r.querySelector(Nu(g));if(x)return i.state.loading|=4,i.instance=x,kt(x),x;d=Jb(o),(g=Cs.get(g))&&Fg(d,g),x=(r.ownerDocument||r).createElement("link"),kt(x);var E=x;return E._p=new Promise(function(C,F){E.onload=C,E.onerror=F}),pn(x,"link",d),i.state.loading|=4,Zh(x,o.precedence,r),i.instance=x;case"script":return x=Il(o.src),(g=r.querySelector(Eu(x)))?(i.instance=g,kt(g),g):(d=o,(g=Cs.get(x))&&(d=y({},o),qg(d,g)),r=r.ownerDocument||r,g=r.createElement("script"),kt(g),pn(g,"link",d),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Zh(d,o.precedence,r));return i.instance}function Zh(r,i,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,x=g,E=0;E<d.length;E++){var C=d[E];if(C.dataset.precedence===i)x=C;else if(x!==g)break}x?x.parentNode.insertBefore(r,x.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Fg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function qg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Jh=null;function t1(r,i,o){if(Jh===null){var d=new Map,g=Jh=new Map;g.set(o,d)}else g=Jh,d=g.get(o),d||(d=new Map,g.set(o,d));if(d.has(r))return d;for(d.set(r,null),o=o.getElementsByTagName(r),g=0;g<o.length;g++){var x=o[g];if(!(x[za]||x[Qt]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(i)||"";E=r+E;var C=d.get(E);C?C.push(x):d.set(E,[x])}}return d}function n1(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function Bj(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function s1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Tu=null;function Fj(){}function qj(r,i,o){if(Tu===null)throw Error(s(475));var d=Tu;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Rl(o.href),x=r.querySelector(Nu(g));if(x){r=x._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=ef.bind(d),r.then(d,d)),i.state.loading|=4,i.instance=x,kt(x);return}x=r.ownerDocument||r,o=Jb(o),(g=Cs.get(g))&&Fg(o,g),x=x.createElement("link"),kt(x);var E=x;E._p=new Promise(function(C,F){E.onload=C,E.onerror=F}),pn(x,"link",o),i.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=ef.bind(d),r.addEventListener("load",i),r.addEventListener("error",i))}}function Hj(){if(Tu===null)throw Error(s(475));var r=Tu;return r.stylesheets&&r.count===0&&Hg(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Hg(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function ef(){if(this.count--,this.count===0){if(this.stylesheets)Hg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var tf=null;function Hg(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,tf=new Map,i.forEach(Gj,r),tf=null,ef.call(r))}function Gj(r,i){if(!(i.state.loading&4)){var o=tf.get(r);if(o)var d=o.get(null);else{o=new Map,tf.set(r,o);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var E=g[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),d=E)}d&&o.set(null,d)}g=i.instance,E=g.getAttribute("data-precedence"),x=o.get(E)||d,x===d&&o.set(null,g),o.set(E,g),this.count++,d=ef.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),x?x.parentNode.insertBefore(g,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var Su={$$typeof:q,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function $j(r,i,o,d,g,x,E,C){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function r1(r,i,o,d,g,x,E,C,F,Z,ie,ce){return r=new $j(r,i,o,E,C,F,Z,ce),i=1,x===!0&&(i|=24),x=Jn(3,null,null,i),r.current=x,x.stateNode=r,i=Tp(),i.refCount++,r.pooledCache=i,i.refCount++,x.memoizedState={element:d,isDehydrated:o,cache:i},Cp(x),r}function i1(r){return r?(r=ll,r):ll}function a1(r,i,o,d,g,x){g=i1(g),d.context===null?d.context=g:d.pendingContext=g,d=Vi(i),d.payload={element:o},x=x===void 0?null:x,x!==null&&(d.callback=x),o=Li(r,d,i),o!==null&&(rs(o,r,i),nu(o,r,i))}function o1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Gg(r,i){o1(r,i),(r=r.alternate)&&o1(r,i)}function l1(r){if(r.tag===13){var i=ol(r,67108864);i!==null&&rs(i,r,67108864),Gg(r,67108864)}}var nf=!0;function Yj(r,i,o,d){var g=K.T;K.T=null;var x=re.p;try{re.p=2,$g(r,i,o,d)}finally{re.p=x,K.T=g}}function Kj(r,i,o,d){var g=K.T;K.T=null;var x=re.p;try{re.p=8,$g(r,i,o,d)}finally{re.p=x,K.T=g}}function $g(r,i,o,d){if(nf){var g=Yg(d);if(g===null)kg(r,i,d,sf,o),u1(r,d);else if(Wj(g,r,i,o,d))d.stopPropagation();else if(u1(r,d),i&4&&-1<Qj.indexOf(r)){for(;g!==null;){var x=Js(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=Vs(x.pendingLanes);if(E!==0){var C=x;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var F=1<<31-bn(E);C.entanglements[1]|=F,E&=~F}fr(x),(it&6)===0&&(zh=Rn()+500,vu(0))}}break;case 13:C=ol(x,2),C!==null&&rs(C,x,2),Fh(),Gg(x,2)}if(x=Yg(d),x===null&&kg(r,i,d,sf,o),x===g)break;g=x}g!==null&&d.stopPropagation()}else kg(r,i,d,null,o)}}function Yg(r){return r=_s(r),Kg(r)}var sf=null;function Kg(r){if(sf=null,r=Mr(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return sf=r,null}function c1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tc()){case Oa:return 2;case ys:return 8;case _n:case Dr:return 32;case Si:return 268435456;default:return 32}default:return 32}}var Qg=!1,Xi=null,Zi=null,Ji=null,Au=new Map,ju=new Map,ea=[],Qj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u1(r,i){switch(r){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Au.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(i.pointerId)}}function Cu(r,i,o,d,g,x){return r===null||r.nativeEvent!==x?(r={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:x,targetContainers:[g]},i!==null&&(i=Js(i),i!==null&&l1(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function Wj(r,i,o,d,g){switch(i){case"focusin":return Xi=Cu(Xi,r,i,o,d,g),!0;case"dragenter":return Zi=Cu(Zi,r,i,o,d,g),!0;case"mouseover":return Ji=Cu(Ji,r,i,o,d,g),!0;case"pointerover":var x=g.pointerId;return Au.set(x,Cu(Au.get(x)||null,r,i,o,d,g)),!0;case"gotpointercapture":return x=g.pointerId,ju.set(x,Cu(ju.get(x)||null,r,i,o,d,g)),!0}return!1}function d1(r){var i=Mr(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,Fd(r.priority,function(){if(o.tag===13){var d=ss();d=ji(d);var g=ol(o,d);g!==null&&rs(g,o,d),Gg(o,d)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Yg(r.nativeEvent);if(o===null){o=r.nativeEvent;var d=new o.constructor(o.type,o);zr=d,o.target.dispatchEvent(d),zr=null}else return i=Js(o),i!==null&&l1(i),r.blockedOn=o,!1;i.shift()}return!0}function h1(r,i,o){rf(r)&&o.delete(i)}function Xj(){Qg=!1,Xi!==null&&rf(Xi)&&(Xi=null),Zi!==null&&rf(Zi)&&(Zi=null),Ji!==null&&rf(Ji)&&(Ji=null),Au.forEach(h1),ju.forEach(h1)}function af(r,i){r.blockedOn===i&&(r.blockedOn=null,Qg||(Qg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Xj)))}var of=null;function f1(r){of!==r&&(of=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){of===r&&(of=null);for(var i=0;i<r.length;i+=3){var o=r[i],d=r[i+1],g=r[i+2];if(typeof d!="function"){if(Kg(d||o)===null)continue;break}var x=Js(o);x!==null&&(r.splice(i,3),i-=3,Kp(x,{pending:!0,data:g,method:o.method,action:d},d,g))}}))}function Ru(r){function i(F){return af(F,r)}Xi!==null&&af(Xi,r),Zi!==null&&af(Zi,r),Ji!==null&&af(Ji,r),Au.forEach(i),ju.forEach(i);for(var o=0;o<ea.length;o++){var d=ea[o];d.blockedOn===r&&(d.blockedOn=null)}for(;0<ea.length&&(o=ea[0],o.blockedOn===null);)d1(o),o.blockedOn===null&&ea.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var g=o[d],x=o[d+1],E=g[Ut]||null;if(typeof x=="function")E||f1(o);else if(E){var C=null;if(x&&x.hasAttribute("formAction")){if(g=x,E=x[Ut]||null)C=E.formAction;else if(Kg(g)!==null)continue}else C=E.action;typeof C=="function"?o[d+1]=C:(o.splice(d,3),d-=3),f1(o)}}}function Wg(r){this._internalRoot=r}lf.prototype.render=Wg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,d=ss();a1(o,d,r,i,null,null)},lf.prototype.unmount=Wg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;a1(r.current,2,null,r,null,null),Fh(),i[xs]=null}};function lf(r){this._internalRoot=r}lf.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ci();r={blockedOn:null,target:r,priority:i};for(var o=0;o<ea.length&&i!==0&&i<ea[o].priority;o++);ea.splice(o,0,r),o===0&&d1(r)}};var m1=e.version;if(m1!=="19.1.1")throw Error(s(527,m1,"19.1.1"));re.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var Zj={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{_t=cf.inject(Zj),rt=cf}catch{}}return Du.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,d="",g=R_,x=I_,E=D_,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=r1(r,1,!1,null,null,o,d,g,x,E,C,null),r[xs]=i.current,Dg(r),new Wg(i)},Du.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var d=!1,g="",x=R_,E=I_,C=D_,F=null,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(Z=o.formState)),i=r1(r,1,!0,i,o??null,d,g,x,E,C,F,Z),i.context=i1(null),o=i.current,d=ss(),d=ji(d),g=Vi(d),g.callback=null,Li(o,g,d),o=d,i.current.lanes=o,Or(i,o),fr(i),r[xs]=i.current,Dg(r),new lf(i)},Du.version="19.1.1",Du}var E1;function lC(){if(E1)return Jg.exports;E1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jg.exports=oC(),Jg.exports}var cC=lC();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T1="popstate";function uC(n={}){function e(s,a){let{pathname:l,search:u,hash:h}=s.location;return C0("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:nd(a)}return hC(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ks(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dC(){return Math.random().toString(36).substring(2,10)}function S1(n,e){return{usr:n.state,key:n.key,idx:e}}function C0(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?mc(e):e,state:t,key:e&&e.key||s||dC()}}function nd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function mc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function hC(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let R=y(),M=R==null?null:R-p;p=R,m&&m({action:h,location:T.location,delta:M})}function b(R,M){h="PUSH";let k=C0(T.location,R,M);p=y()+1;let q=S1(k,p),L=T.createHref(k);try{u.pushState(q,"",L)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(L)}l&&m&&m({action:h,location:T.location,delta:1})}function N(R,M){h="REPLACE";let k=C0(T.location,R,M);p=y();let q=S1(k,p),L=T.createHref(k);u.replaceState(q,"",L),l&&m&&m({action:h,location:T.location,delta:0})}function j(R){return fC(R)}let T={get action(){return h},get location(){return n(a,u)},listen(R){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(T1,v),m=R,()=>{a.removeEventListener(T1,v),m=null}},createHref(R){return e(a,R)},createURL:j,encodeLocation(R){let M=j(R);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:N,go(R){return u.go(R)}};return T}function fC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Et(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:nd(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function H2(n,e,t="/"){return mC(n,e,t,!1)}function mC(n,e,t,s){let a=typeof e=="string"?mc(e):e,l=fi(a.pathname||"/",t);if(l==null)return null;let u=G2(n);pC(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let p=SC(l);h=EC(u[m],p,s)}return h}function G2(n,e=[],t=[],s="",a=!1){let l=(u,h,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;Et(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=ui([s,y.relativePath]),b=t.concat(y);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),G2(u.children,e,b,v,m)),!(u.path==null&&!u.index)&&e.push({path:v,score:wC(v,u.index),routesMeta:b})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let m of $2(u.path))l(u,h,!0,m)}),e}function $2(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=$2(s.join("/")),h=[];return h.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&h.push(...u),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function pC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NC(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var gC=/^:[\w-]+$/,yC=3,xC=2,vC=1,_C=10,bC=-2,A1=n=>n==="*";function wC(n,e){let t=n.split("/"),s=t.length;return t.some(A1)&&(s+=bC),e&&(s+=xC),t.filter(a=>!A1(a)).reduce((a,l)=>a+(gC.test(l)?yC:l===""?vC:_C),s)}function NC(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function EC(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",u=[];for(let h=0;h<s.length;++h){let m=s[h],p=h===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),b=m.route;if(!v&&p&&t&&!s[s.length-1].route.index&&(v=Pf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:ui([l,v.pathname]),pathnameBase:RC(ui([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=ui([l,v.pathnameBase]))}return u}function Pf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=TC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},b)=>{if(y==="*"){let j=h[b]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const N=h[b];return v&&!N?p[y]=void 0:p[y]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:n}}function TC(n,e=!1,t=!0){Ks(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function SC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ks(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function fi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function AC(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?mc(n):n;return{pathname:t?t.startsWith("/")?t:jC(t,e):e,search:IC(s),hash:DC(a)}}function jC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function s0(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vy(n){let e=CC(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function _y(n,e,t,s=!1){let a;typeof n=="string"?a=mc(n):(a={...n},Et(!a.pathname||!a.pathname.includes("?"),s0("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),s0("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),s0("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}h=v>=0?e[v]:"/"}let m=AC(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ui=n=>n.join("/").replace(/\/\/+/g,"/"),RC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Y2=["POST","PUT","PATCH","DELETE"];new Set(Y2);var PC=["GET",...Y2];new Set(PC);var pc=D.createContext(null);pc.displayName="DataRouter";var ym=D.createContext(null);ym.displayName="DataRouterState";D.createContext(!1);var K2=D.createContext({isTransitioning:!1});K2.displayName="ViewTransition";var OC=D.createContext(new Map);OC.displayName="Fetchers";var MC=D.createContext(null);MC.displayName="Await";var Ws=D.createContext(null);Ws.displayName="Navigation";var wd=D.createContext(null);wd.displayName="Location";var Ms=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ms.displayName="Route";var by=D.createContext(null);by.displayName="RouteError";function VC(n,{relative:e}={}){Et(gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=D.useContext(Ws),{hash:a,pathname:l,search:u}=Nd(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:ui([t,l])),s.createHref({pathname:h,search:u,hash:a})}function gc(){return D.useContext(wd)!=null}function jr(){return Et(gc(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(wd).location}var Q2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W2(n){D.useContext(Ws).static||D.useLayoutEffect(n)}function Vo(){let{isDataRoute:n}=D.useContext(Ms);return n?JC():LC()}function LC(){Et(gc(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(pc),{basename:e,navigator:t}=D.useContext(Ws),{matches:s}=D.useContext(Ms),{pathname:a}=jr(),l=JSON.stringify(vy(s)),u=D.useRef(!1);return W2(()=>{u.current=!0}),D.useCallback((m,p={})=>{if(Ks(u.current,Q2),!u.current)return;if(typeof m=="number"){t.go(m);return}let y=_y(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ui([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,a,n])}var UC=D.createContext(null);function zC(n){let e=D.useContext(Ms).outlet;return e&&D.createElement(UC.Provider,{value:n},e)}function BC(){let{matches:n}=D.useContext(Ms),e=n[n.length-1];return e?e.params:{}}function Nd(n,{relative:e}={}){let{matches:t}=D.useContext(Ms),{pathname:s}=jr(),a=JSON.stringify(vy(t));return D.useMemo(()=>_y(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function FC(n,e){return X2(n,e)}function X2(n,e,t,s,a){Et(gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(Ws),{matches:u}=D.useContext(Ms),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let k=v&&v.path||"";Z2(p,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=jr(),N;if(e){let k=typeof e=="string"?mc(e):e;Et(y==="/"||k.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${k.pathname}" was given in the \`location\` prop.`),N=k}else N=b;let j=N.pathname||"/",T=j;if(y!=="/"){let k=y.replace(/^\//,"").split("/");T="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let R=H2(n,{pathname:T});Ks(v||R!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Ks(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=YC(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},m,k.params),pathname:ui([y,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:ui([y,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,t,s,a);return e&&M?D.createElement(wd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},M):M}function qC(){let n=ZC(),e=kC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:a},t):null,u)}var HC=D.createElement(qC,null),GC=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?D.createElement(Ms.Provider,{value:this.props.routeContext},D.createElement(by.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $C({routeContext:n,match:e,children:t}){let s=D.useContext(pc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Ms.Provider,{value:n},t)}function YC(n,e=[],t=null,s=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t?.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:v,errors:b}=t,N=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||N){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,v)=>{let b,N=!1,j=null,T=null;t&&(b=u&&y.route.id?u[y.route.id]:void 0,j=y.route.errorElement||HC,h&&(m<0&&v===0?(Z2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,T=null):m===v&&(N=!0,T=y.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,v+1)),M=()=>{let k;return b?k=j:N?k=T:y.route.Component?k=D.createElement(y.route.Component,null):y.route.element?k=y.route.element:k=p,D.createElement($C,{match:y,routeContext:{outlet:p,matches:R,isDataRoute:t!=null},children:k})};return t&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?D.createElement(GC,{location:t.location,revalidation:t.revalidation,component:j,error:b,children:M(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:s}):M()},null)}function wy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(n){let e=D.useContext(pc);return Et(e,wy(n)),e}function QC(n){let e=D.useContext(ym);return Et(e,wy(n)),e}function WC(n){let e=D.useContext(Ms);return Et(e,wy(n)),e}function Ny(n){let e=WC(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function XC(){return Ny("useRouteId")}function ZC(){let n=D.useContext(by),e=QC("useRouteError"),t=Ny("useRouteError");return n!==void 0?n:e.errors?.[t]}function JC(){let{router:n}=KC("useNavigate"),e=Ny("useNavigate"),t=D.useRef(!1);return W2(()=>{t.current=!0}),D.useCallback(async(a,l={})=>{Ks(t.current,Q2),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var j1={};function Z2(n,e,t){!e&&!j1[n]&&(j1[n]=!0,Ks(!1,t))}D.memo(e4);function e4({routes:n,future:e,state:t,unstable_onError:s}){return X2(n,void 0,t,s,e)}function Of({to:n,replace:e,state:t,relative:s}){Et(gc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext(Ws);Ks(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(Ms),{pathname:u}=jr(),h=Vo(),m=_y(n,vy(l),u,s==="path"),p=JSON.stringify(m);return D.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:s})},[h,p,s,e,t]),null}function t4(n){return zC(n.context)}function gt(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n4({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){Et(!gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof t=="string"&&(t=mc(t));let{pathname:m="/",search:p="",hash:y="",state:v=null,key:b="default"}=t,N=D.useMemo(()=>{let j=fi(m,u);return j==null?null:{location:{pathname:j,search:p,hash:y,state:v,key:b},navigationType:s}},[u,m,p,y,v,b,s]);return Ks(N!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:D.createElement(Ws.Provider,{value:h},D.createElement(wd.Provider,{children:e,value:N}))}function J2({children:n,location:e}){return FC(R0(n),e)}function R0(n,e=[]){let t=[];return D.Children.forEach(n,(s,a)=>{if(!D.isValidElement(s))return;let l=[...e,a];if(s.type===D.Fragment){t.push.apply(t,R0(s.props.children,l));return}Et(s.type===gt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=R0(s.props.children,l)),t.push(u)}),t}var vf="get",_f="application/x-www-form-urlencoded";function xm(n){return n!=null&&typeof n.tagName=="string"}function s4(n){return xm(n)&&n.tagName.toLowerCase()==="button"}function r4(n){return xm(n)&&n.tagName.toLowerCase()==="form"}function i4(n){return xm(n)&&n.tagName.toLowerCase()==="input"}function a4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function o4(n,e){return n.button===0&&(!e||e==="_self")&&!a4(n)}var uf=null;function l4(){if(uf===null)try{new FormData(document.createElement("form"),0),uf=!1}catch{uf=!0}return uf}var c4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function r0(n){return n!=null&&!c4.has(n)?(Ks(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_f}"`),null):n}function u4(n,e){let t,s,a,l,u;if(r4(n)){let h=n.getAttribute("action");s=h?fi(h,e):null,t=n.getAttribute("method")||vf,a=r0(n.getAttribute("enctype"))||_f,l=new FormData(n)}else if(s4(n)||i4(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(s=m?fi(m,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||vf,a=r0(n.getAttribute("formenctype"))||r0(h.getAttribute("enctype"))||_f,l=new FormData(h,n),!l4()){let{name:p,type:y,value:v}=n;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,v)}}else{if(xm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vf,s=null,a=_f,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ey(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function d4(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&fi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function h4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function m4(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await h4(l,t);return u.links?u.links():[]}return[]}));return x4(s.flat(1).filter(f4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function C1(n,e,t,s,a,l){let u=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,h=(m,p)=>t[p].pathname!==m.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>u(m,p)||h(m,p)):l==="data"?e.filter((m,p)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function p4(n,e,{includeHydrateFallback:t}={}){return g4(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function g4(n){return[...new Set(n)]}function y4(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function x4(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(y4(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function eN(){let n=D.useContext(pc);return Ey(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function v4(){let n=D.useContext(ym);return Ey(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ty=D.createContext(void 0);Ty.displayName="FrameworkContext";function tN(){let n=D.useContext(Ty);return Ey(n,"You must render this element inside a <HydratedRouter> element"),n}function _4(n,e){let t=D.useContext(Ty),[s,a]=D.useState(!1),[l,u]=D.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,b=D.useRef(null);D.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let T=M=>{M.forEach(k=>{u(k.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[n]),D.useEffect(()=>{if(s){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[s]);let N=()=>{a(!0)},j=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:ku(h,N),onBlur:ku(m,j),onMouseEnter:ku(p,N),onMouseLeave:ku(y,j),onTouchStart:ku(v,N)}]:[!1,b,{}]}function ku(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function b4({page:n,...e}){let{router:t}=eN(),s=D.useMemo(()=>H2(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?D.createElement(N4,{page:n,matches:s,...e}):null}function w4(n){let{manifest:e,routeModules:t}=tN(),[s,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return m4(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),s}function N4({page:n,matches:e,...t}){let s=jr(),{manifest:a,routeModules:l}=tN(),{basename:u}=eN(),{loaderData:h,matches:m}=v4(),p=D.useMemo(()=>C1(n,e,m,a,s,"data"),[n,e,m,a,s]),y=D.useMemo(()=>C1(n,e,m,a,s,"assets"),[n,e,m,a,s]),v=D.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let j=new Set,T=!1;if(e.forEach(M=>{let k=a.routes[M.route.id];!k||!k.hasLoader||(!p.some(q=>q.route.id===M.route.id)&&M.route.id in h&&l[M.route.id]?.shouldRevalidate||k.hasClientLoader?T=!0:j.add(M.route.id))}),j.size===0)return[];let R=d4(n,u,"data");return T&&j.size>0&&R.searchParams.set("_routes",e.filter(M=>j.has(M.route.id)).map(M=>M.route.id).join(",")),[R.pathname+R.search]},[u,h,s,a,p,e,n,l]),b=D.useMemo(()=>p4(y,a),[y,a]),N=w4(y);return D.createElement(D.Fragment,null,v.map(j=>D.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),b.map(j=>D.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),N.map(({key:j,link:T})=>D.createElement("link",{key:j,nonce:t.nonce,...T})))}function E4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nN&&(window.__reactRouterVersion="7.8.2")}catch{}function T4({basename:n,children:e,window:t}){let s=D.useRef();s.current==null&&(s.current=uC({window:t,v5Compat:!0}));let a=s.current,[l,u]=D.useState({action:a.action,location:a.location}),h=D.useCallback(m=>{D.startTransition(()=>u(m))},[u]);return D.useLayoutEffect(()=>a.listen(h),[a,h]),D.createElement(n4,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var sN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=D.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:m,to:p,preventScrollReset:y,viewTransition:v,...b},N){let{basename:j}=D.useContext(Ws),T=typeof p=="string"&&sN.test(p),R,M=!1;if(typeof p=="string"&&T&&(R=p,nN))try{let A=new URL(window.location.href),B=p.startsWith("//")?new URL(A.protocol+p):new URL(p),V=fi(B.pathname,j);B.origin===A.origin&&V!=null?p=V+B.search+B.hash:M=!0}catch{Ks(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=VC(p,{relative:a}),[q,L,H]=_4(s,b),Q=j4(p,{replace:u,state:h,target:m,preventScrollReset:y,relative:a,viewTransition:v});function O(A){e&&e(A),A.defaultPrevented||Q(A)}let S=D.createElement("a",{...b,...H,href:R||k,onClick:M||l?e:O,ref:E4(N,L),target:m,"data-discover":!T&&t==="render"?"true":void 0});return q&&!T?D.createElement(D.Fragment,null,S,D.createElement(b4,{page:k})):S});Ze.displayName="Link";var sa=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:m,...p},y){let v=Nd(u,{relative:p.relative}),b=jr(),N=D.useContext(ym),{navigator:j,basename:T}=D.useContext(Ws),R=N!=null&&k4(v)&&h===!0,M=j.encodeLocation?j.encodeLocation(v).pathname:v.pathname,k=b.pathname,q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(k=k.toLowerCase(),q=q?q.toLowerCase():null,M=M.toLowerCase()),q&&T&&(q=fi(q,T)||q);const L=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let H=k===M||!a&&k.startsWith(M)&&k.charAt(L)==="/",Q=q!=null&&(q===M||!a&&q.startsWith(M)&&q.charAt(M.length)==="/"),O={isActive:H,isPending:Q,isTransitioning:R},S=H?e:void 0,A;typeof s=="function"?A=s(O):A=[s,H?"active":null,Q?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let B=typeof l=="function"?l(O):l;return D.createElement(Ze,{...p,"aria-current":S,className:A,ref:y,style:B,to:u,viewTransition:h},typeof m=="function"?m(O):m)});sa.displayName="NavLink";var S4=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:u=vf,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,...b},N)=>{let j=I4(),T=D4(h,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",M=typeof h=="string"&&sN.test(h),k=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let L=q.nativeEvent.submitter,H=L?.getAttribute("formmethod")||u;j(L||q.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return D.createElement("form",{ref:N,method:R,action:T,onSubmit:s?m:k,...b,"data-discover":!M&&n==="render"?"true":void 0})});S4.displayName="Form";function A4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rN(n){let e=D.useContext(pc);return Et(e,A4(n)),e}function j4(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Vo(),m=jr(),p=Nd(n,{relative:l});return D.useCallback(y=>{if(o4(y,e)){y.preventDefault();let v=t!==void 0?t:nd(m)===nd(p);h(n,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[m,h,p,t,s,e,n,a,l,u])}var C4=0,R4=()=>`__${String(++C4)}__`;function I4(){let{router:n}=rN("useSubmit"),{basename:e}=D.useContext(Ws),t=XC();return D.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:m,body:p}=u4(s,e);if(a.navigate===!1){let y=a.fetcherKey||R4();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function D4(n,{relative:e}={}){let{basename:t}=D.useContext(Ws),s=D.useContext(Ms);Et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Nd(n||".",{relative:e})},u=jr();if(n==null){l.search=u.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ui([t,l.pathname])),nd(l)}function k4(n,{relative:e}={}){let t=D.useContext(K2);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rN("useViewTransitionState"),a=Nd(n,{relative:e});if(!t.isTransitioning)return!1;let l=fi(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=fi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Pf(a.pathname,u)!=null||Pf(a.pathname,l)!=null}const P4=()=>{};var R1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},O4=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],h=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},aN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let b=(h&15)<<2|p>>6,N=p&63;m||(N=64,u||(b=64)),s.push(t[y],t[v],t[b],t[N])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):O4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new M4;const b=l<<2|h>>4;if(s.push(b),p!==64){const N=h<<4&240|p>>2;if(s.push(N),v!==64){const j=p<<6&192|v;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class M4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V4=function(n){const e=iN(n);return aN.encodeByteArray(e,!0)},Mf=function(n){return V4(n).replace(/\./g,"")},Sy=function(n){try{return aN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Vf(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!L4(t)||(n[t]=Vf(n[t],e[t]));return n}function L4(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=()=>oN().__FIREBASE_DEFAULTS__,z4=()=>{if(typeof process>"u"||typeof R1>"u")return;const n=R1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},B4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Sy(n[1]);return e&&JSON.parse(e)},vm=()=>{try{return P4()||U4()||z4()||B4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lN=n=>vm()?.emulatorHosts?.[n],cN=n=>{const e=lN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Ay=()=>vm()?.config,uN=n=>vm()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Mf(JSON.stringify(t)),Mf(JSON.stringify(u)),""].join(".")}const Hu={};function q4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Hu))Hu[e]?n.emulator.push(e):n.prod.push(e);return n}function H4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let I1=!1;function Cy(n,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||Hu[n]===e||Hu[n]||I1)return;Hu[n]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",l=q4().prod.length>0;function u(){const b=document.getElementById(s);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,N){b.setAttribute("width","24"),b.setAttribute("id",N),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{I1=!0,u()},b}function y(b,N){b.setAttribute("id",N),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=H4(s),N=t("text"),j=document.getElementById(N)||document.createElement("span"),T=t("learnmore"),R=document.getElementById(T)||document.createElement("a"),M=t("preprendIcon"),k=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;h(q),y(R,T);const L=p();m(k,M),q.append(k,j,R,L),document.body.appendChild(q)}l?(j.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function $4(){const n=vm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y4(){return typeof window<"u"||hN()}function hN(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function K4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Q4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W4(){const n=Cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function X4(){return!$4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mN(){try{return typeof indexedDB=="object"}catch{return!1}}function pN(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function Z4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="FirebaseError";class gs extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=J4,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wi.prototype.create)}}class wi{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?eR(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new gs(a,h,s)}}function eR(n,e){return n.replace(tR,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const tR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function nR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mi(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],u=e[a];if(k1(l)&&k1(u)){if(!mi(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function k1(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ou(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gN(n,e){const t=new sR(n,e);return t.subscribe.bind(t)}class sR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");rR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=i0),a.error===void 0&&(a.error=i0),a.complete===void 0&&(a.complete=i0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function i0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=1e3,aR=2,oR=14400*1e3,lR=.5;function P1(n,e=iR,t=aR){const s=e*Math.pow(t,n),a=Math.round(lR*s*(Math.random()-.5)*2);return Math.min(oR,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class hs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new F4;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dR(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(n){return n===xo?void 0:n}function dR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=[];var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const xN={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},hR=Be.INFO,fR={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},mR=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=fR[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Td{constructor(e){this.name=e,this._logLevel=hR,this._logHandler=mR,this._userLogHandler=null,Ry.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function pR(n){Ry.forEach(e=>{e.setLogLevel(n)})}function gR(n,e){for(const t of Ry){let s=null;e&&e.level&&(s=xN[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(a,l,...u)=>{const h=u.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");l>=(s??a.logLevel)&&n({level:Be[l].toLowerCase(),message:h,args:u,type:a.name})}}}const yR=(n,e)=>e.some(t=>n instanceof t);let O1,M1;function xR(){return O1||(O1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return M1||(M1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vN=new WeakMap,I0=new WeakMap,_N=new WeakMap,a0=new WeakMap,Iy=new WeakMap;function _R(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(fa(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&vN.set(t,n)}).catch(()=>{}),Iy.set(e,n),e}function bR(n){if(I0.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});I0.set(n,e)}let D0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return I0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_N.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wR(n){D0=n(D0)}function NR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(o0(this),e,...t);return _N.set(s,e.sort?e.sort():[e]),fa(s)}:vR().includes(n)?function(...e){return n.apply(o0(this),e),fa(vN.get(this))}:function(...e){return fa(n.apply(o0(this),e))}}function ER(n){return typeof n=="function"?NR(n):(n instanceof IDBTransaction&&bR(n),yR(n,xR())?new Proxy(n,D0):n)}function fa(n){if(n instanceof IDBRequest)return _R(n);if(a0.has(n))return a0.get(n);const e=ER(n);return e!==n&&(a0.set(n,e),Iy.set(e,n)),e}const o0=n=>Iy.get(n);function bN(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),h=fa(u);return s&&u.addEventListener("upgradeneeded",m=>{s(fa(u.result),m.oldVersion,m.newVersion,fa(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const TR=["get","getKey","getAll","getAllKeys","count"],SR=["put","add","delete","clear"],l0=new Map;function V1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(l0.get(e))return l0.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=SR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||TR.includes(t)))return;const l=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),a&&m.done]))[0]};return l0.set(e,l),l}wR(n=>({...n,get:(e,t,s)=>V1(e,t)||n.get(e,t,s),has:(e,t)=>!!V1(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function jR(n){return n.getComponent()?.type==="VERSION"}const Lf="@firebase/app",k0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Td("@firebase/app"),CR="@firebase/app-compat",RR="@firebase/analytics-compat",IR="@firebase/analytics",DR="@firebase/app-check-compat",kR="@firebase/app-check",PR="@firebase/auth",OR="@firebase/auth-compat",MR="@firebase/database",VR="@firebase/data-connect",LR="@firebase/database-compat",UR="@firebase/functions",zR="@firebase/functions-compat",BR="@firebase/installations",FR="@firebase/installations-compat",qR="@firebase/messaging",HR="@firebase/messaging-compat",GR="@firebase/performance",$R="@firebase/performance-compat",YR="@firebase/remote-config",KR="@firebase/remote-config-compat",QR="@firebase/storage",WR="@firebase/storage-compat",XR="@firebase/firestore",ZR="@firebase/ai",JR="@firebase/firestore-compat",eI="firebase",tI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]",nI={[Lf]:"fire-core",[CR]:"fire-core-compat",[IR]:"fire-analytics",[RR]:"fire-analytics-compat",[kR]:"fire-app-check",[DR]:"fire-app-check-compat",[PR]:"fire-auth",[OR]:"fire-auth-compat",[MR]:"fire-rtdb",[VR]:"fire-data-connect",[LR]:"fire-rtdb-compat",[UR]:"fire-fn",[zR]:"fire-fn-compat",[BR]:"fire-iid",[FR]:"fire-iid-compat",[qR]:"fire-fcm",[HR]:"fire-fcm-compat",[GR]:"fire-perf",[$R]:"fire-perf-compat",[YR]:"fire-rc",[KR]:"fire-rc-compat",[QR]:"fire-gcs",[WR]:"fire-gcs-compat",[XR]:"fire-fst",[JR]:"fire-fst-compat",[ZR]:"fire-vertex","fire-js":"fire-js",[eI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Map,Wl=new Map,Xl=new Map;function sd(n,e){try{n.container.addComponent(e)}catch(t){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wN(n,e){n.container.addOrOverwriteComponent(e)}function fs(n){const e=n.name;if(Xl.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Xl.set(e,n);for(const t of _a.values())sd(t,n);for(const t of Wl.values())sd(t,n);return!0}function Cr(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sI(n,e,t=va){Cr(n,e).clearInstance(t)}function Dy(n){return n.options!==void 0}function NN(n){return Dy(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Vn(n){return n==null?!1:n.settings!==void 0}function rI(){Xl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new wi("app","Firebase",iI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EN=class{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(n,e){const t=Sy(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(t).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class aI extends EN{constructor(e,t,s,a){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:s,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,u,a);else{const h=e;super(h.options,u,a)}this._serverConfig={automaticDataCollectionEnabled:l,...t},this._serverConfig.authIdToken&&L1(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&L1(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ln(Lf,k0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ky(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw cs.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=tI;function _m(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:va,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw cs.create("bad-app-name",{appName:String(a)});if(t||(t=Ay()),!t)throw cs.create("no-options");const l=_a.get(a);if(l){if(mi(t,l.options)&&mi(s,l.config))return l;throw cs.create("duplicate-app",{appName:a})}const u=new yN(a);for(const m of Xl.values())u.addComponent(m);const h=new EN(t,s,u);return _a.set(a,h),h}function oI(n,e={}){if(Y4()&&!hN())throw cs.create("invalid-server-app-environment");let t,s=e||{};if(n&&(Dy(n)?t=n.options:NN(n)?s=n:t=n),s.automaticDataCollectionEnabled===void 0&&(s.automaticDataCollectionEnabled=!0),t||(t=Ay()),!t)throw cs.create("no-options");const a={...s,...t};a.releaseOnDeref!==void 0&&delete a.releaseOnDeref;const l=y=>[...y].reduce((v,b)=>Math.imul(31,v)+b.charCodeAt(0)|0,0);if(s.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw cs.create("finalization-registry-not-supported",{});const u=""+l(JSON.stringify(a)),h=Wl.get(u);if(h)return h.incRefCount(s.releaseOnDeref),h;const m=new yN(u);for(const y of Xl.values())m.addComponent(y);const p=new aI(t,s,u,m);return Wl.set(u,p),p}function Sd(n=va){const e=_a.get(n);if(!e&&n===va&&Ay())return _m();if(!e)throw cs.create("no-app",{appName:n});return e}function lI(){return Array.from(_a.values())}async function ky(n){let e=!1;const t=n.name;_a.has(t)?(e=!0,_a.delete(t)):Wl.has(t)&&n.decRefCount()<=0&&(Wl.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(s=>s.delete())),n.isDeleted=!0)}function ln(n,e,t){let s=nI[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(u.join(" "));return}fs(new hs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function TN(n,e){if(n!==null&&typeof n!="function")throw cs.create("invalid-log-argument");gR(n,e)}function SN(n){pR(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebase-heartbeat-database",uI=1,rd="firebase-heartbeat-store";let c0=null;function AN(){return c0||(c0=bN(cI,uI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rd)}catch(t){console.warn(t)}}}}).catch(n=>{throw cs.create("idb-open",{originalErrorMessage:n.message})})),c0}async function dI(n){try{const t=(await AN()).transaction(rd),s=await t.objectStore(rd).get(jN(n));return await t.done,s}catch(e){if(e instanceof gs)pi.warn(e.message);else{const t=cs.create("idb-get",{originalErrorMessage:e?.message});pi.warn(t.message)}}}async function U1(n,e){try{const s=(await AN()).transaction(rd,"readwrite");await s.objectStore(rd).put(e,jN(n)),await s.done}catch(t){if(t instanceof gs)pi.warn(t.message);else{const s=cs.create("idb-set",{originalErrorMessage:t?.message});pi.warn(s.message)}}}function jN(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=1024,fI=30;class mI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=z1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>fI){const a=yI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z1(),{heartbeatsToSend:t,unsentEntries:s}=pI(this._heartbeatsCache.heartbeats),a=Mf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return pi.warn(e),""}}}function z1(){return new Date().toISOString().substring(0,10)}function pI(n,e=hI){const t=[];let s=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),B1(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),B1(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class gI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mN()?pN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return U1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return U1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function B1(n){return Mf(JSON.stringify({version:2,heartbeats:n})).length}function yI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n){fs(new hs("platform-logger",e=>new AR(e),"PRIVATE")),fs(new hs("heartbeat",e=>new mI(e),"PRIVATE")),ln(Lf,k0,n),ln(Lf,k0,"esm2020"),ln("fire-js","")}xI("");const vI=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:gs,SDK_VERSION:Ni,_DEFAULT_ENTRY_NAME:va,_addComponent:sd,_addOrOverwriteComponent:wN,_apps:_a,_clearComponents:rI,_components:Xl,_getProvider:Cr,_isFirebaseApp:Dy,_isFirebaseServerApp:Vn,_isFirebaseServerAppSettings:NN,_registerComponent:fs,_removeServiceInstance:sI,_serverApps:Wl,deleteApp:ky,getApp:Sd,getApps:lI,initializeApp:_m,initializeServerApp:oI,onLog:TN,registerVersion:ln,setLogLevel:SN},Symbol.toStringTag,{value:"Module"}));var _I="firebase",bI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln(_I,bI,"app");const CN="@firebase/installations",Py="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=1e4,IN=`w:${Py}`,DN="FIS_v2",wI="https://firebaseinstallations.googleapis.com/v1",NI=3600*1e3,EI="installations",TI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ro=new wi(EI,TI,SI);function kN(n){return n instanceof gs&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN({projectId:n}){return`${wI}/projects/${n}/installations`}function ON(n){return{token:n.token,requestStatus:2,expiresIn:jI(n.expiresIn),creationTime:Date.now()}}async function MN(n,e){const s=(await e.json()).error;return Ro.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function VN({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function AI(n,{refreshToken:e}){const t=VN(n);return t.append("Authorization",CI(e)),t}async function LN(n){const e=await n();return e.status>=500&&e.status<600?n():e}function jI(n){return Number(n.replace("s","000"))}function CI(n){return`${DN} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=PN(n),a=VN(n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:t,authVersion:DN,appId:n.appId,sdkVersion:IN},h={method:"POST",headers:a,body:JSON.stringify(u)},m=await LN(()=>fetch(s,h));if(m.ok){const p=await m.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:ON(p.authToken)}}else throw await MN("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=/^[cdef][\w-]{21}$/,P0="";function kI(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=PI(n);return DI.test(t)?t:P0}catch{return P0}}function PI(n){return II(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Map;function BN(n,e){const t=bm(n);FN(t,e),OI(t,e)}function FN(n,e){const t=zN.get(n);if(t)for(const s of t)s(e)}function OI(n,e){const t=MI();t&&t.postMessage({key:n,fid:e}),VI()}let _o=null;function MI(){return!_o&&"BroadcastChannel"in self&&(_o=new BroadcastChannel("[Firebase] FID Change"),_o.onmessage=n=>{FN(n.data.key,n.data.fid)}),_o}function VI(){zN.size===0&&_o&&(_o.close(),_o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="firebase-installations-database",UI=1,Io="firebase-installations-store";let u0=null;function Oy(){return u0||(u0=bN(LI,UI,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Io)}}})),u0}async function Uf(n,e){const t=bm(n),a=(await Oy()).transaction(Io,"readwrite"),l=a.objectStore(Io),u=await l.get(t);return await l.put(e,t),await a.done,(!u||u.fid!==e.fid)&&BN(n,e.fid),e}async function qN(n){const e=bm(n),s=(await Oy()).transaction(Io,"readwrite");await s.objectStore(Io).delete(e),await s.done}async function wm(n,e){const t=bm(n),a=(await Oy()).transaction(Io,"readwrite"),l=a.objectStore(Io),u=await l.get(t),h=e(u);return h===void 0?await l.delete(t):await l.put(h,t),await a.done,h&&(!u||u.fid!==h.fid)&&BN(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(n){let e;const t=await wm(n.appConfig,s=>{const a=zI(s),l=BI(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===P0?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function zI(n){const e=n||{fid:kI(),registrationStatus:0};return HN(e)}function BI(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ro.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=FI(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qI(n)}:{installationEntry:e}}async function FI(n,e){try{const t=await RI(n,e);return Uf(n.appConfig,t)}catch(t){throw kN(t)&&t.customData.serverCode===409?await qN(n.appConfig):await Uf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function qI(n){let e=await F1(n.appConfig);for(;e.registrationStatus===1;)await UN(100),e=await F1(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await My(n);return s||t}return e}function F1(n){return wm(n,e=>{if(!e)throw Ro.create("installation-not-found");return HN(e)})}function HN(n){return HI(n)?{fid:n.fid,registrationStatus:0}:n}function HI(n){return n.registrationStatus===1&&n.registrationTime+RN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI({appConfig:n,heartbeatServiceProvider:e},t){const s=$I(n,t),a=AI(n,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:IN,appId:n.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},m=await LN(()=>fetch(s,h));if(m.ok){const p=await m.json();return ON(p)}else throw await MN("Generate Auth Token",m)}function $I(n,{fid:e}){return`${PN(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(n,e=!1){let t;const s=await wm(n.appConfig,l=>{if(!GN(l))throw Ro.create("not-registered");const u=l.authToken;if(!e&&QI(u))return l;if(u.requestStatus===1)return t=YI(n,e),l;{if(!navigator.onLine)throw Ro.create("app-offline");const h=XI(l);return t=KI(n,h),h}});return t?await t:s.authToken}async function YI(n,e){let t=await q1(n.appConfig);for(;t.authToken.requestStatus===1;)await UN(100),t=await q1(n.appConfig);const s=t.authToken;return s.requestStatus===0?Vy(n,e):s}function q1(n){return wm(n,e=>{if(!GN(e))throw Ro.create("not-registered");const t=e.authToken;return ZI(t)?{...e,authToken:{requestStatus:0}}:e})}async function KI(n,e){try{const t=await GI(n,e),s={...e,authToken:t};return await Uf(n.appConfig,s),t}catch(t){if(kN(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await qN(n.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Uf(n.appConfig,s)}throw t}}function GN(n){return n!==void 0&&n.registrationStatus===2}function QI(n){return n.requestStatus===2&&!WI(n)}function WI(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+NI}function XI(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function ZI(n){return n.requestStatus===1&&n.requestTime+RN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(n){const e=n,{installationEntry:t,registrationPromise:s}=await My(e);return s?s.catch(console.error):Vy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(n,e=!1){const t=n;return await t6(t),(await Vy(t,e)).token}async function t6(n){const{registrationPromise:e}=await My(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n){if(!n||!n.options)throw d0("App Configuration");if(!n.name)throw d0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw d0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function d0(n){return Ro.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="installations",s6="installations-internal",r6=n=>{const e=n.getProvider("app").getImmediate(),t=n6(e),s=Cr(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},i6=n=>{const e=n.getProvider("app").getImmediate(),t=Cr(e,$N).getImmediate();return{getId:()=>JI(t),getToken:a=>e6(t,a)}};function a6(){fs(new hs($N,r6,"PUBLIC")),fs(new hs(s6,i6,"PRIVATE"))}a6();ln(CN,Py);ln(CN,Py,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="analytics",o6="firebase_id",l6="origin",c6=60*1e3,u6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ly="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Td("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},us=new wi("analytics","Analytics",d6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n){if(!n.startsWith(Ly)){const e=us.create("invalid-gtag-resource",{gtagURL:n});return Hn.warn(e.message),""}return n}function YN(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function f6(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function m6(n,e){const t=f6("firebase-js-sdk-policy",{createScriptURL:h6}),s=document.createElement("script"),a=`${Ly}?l=${n}&id=${e}`;s.src=t?t?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function p6(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function g6(n,e,t,s,a,l){const u=s[a];try{if(u)await e[u];else{const m=(await YN(t)).find(p=>p.measurementId===a);m&&await e[m.appId]}}catch(h){Hn.error(h)}n("config",a,l)}async function y6(n,e,t,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await YN(t);for(const m of u){const p=h.find(v=>v.measurementId===m),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,a||{})}catch(l){Hn.error(l)}}function x6(n,e,t,s){async function a(l,...u){try{if(l==="event"){const[h,m]=u;await y6(n,e,t,h,m)}else if(l==="config"){const[h,m]=u;await g6(n,e,t,s,h,m)}else if(l==="consent"){const[h,m]=u;n("consent",h,m)}else if(l==="get"){const[h,m,p]=u;n("get",h,m,p)}else if(l==="set"){const[h]=u;n("set",h)}else n(l,...u)}catch(h){Hn.error(h)}}return a}function v6(n,e,t,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=x6(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function _6(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Ly)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=30,w6=1e3;class N6{constructor(e={},t=w6){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const KN=new N6;function E6(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function T6(n){const{appId:e,apiKey:t}=n,s={method:"GET",headers:E6(t)},a=u6.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw us.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function S6(n,e=KN,t){const{appId:s,apiKey:a,measurementId:l}=n.options;if(!s)throw us.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw us.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new C6;return setTimeout(async()=>{h.abort()},c6),QN({appId:s,apiKey:a,measurementId:l},u,h,e)}async function QN(n,{throttleEndTimeMillis:e,backoffCount:t},s,a=KN){const{appId:l,measurementId:u}=n;try{await A6(s,e)}catch(h){if(u)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await T6(n);return a.deleteThrottleMetadata(l),h}catch(h){const m=h;if(!j6(m)){if(a.deleteThrottleMetadata(l),u)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(m?.customData?.httpStatus)===503?P1(t,a.intervalMillis,b6):P1(t,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return a.setThrottleMetadata(l,y),Hn.debug(`Calling attemptFetch again in ${p} millis`),QN(n,y,s,a)}}function A6(n,e){return new Promise((t,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),s(us.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j6(n){if(!(n instanceof gs)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class C6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function R6(n,e,t,s,a){if(a&&a.global){n("event",t,s);return}else{const l=await e,u={...s,send_to:l};n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(){if(mN())try{await pN()}catch(n){return Hn.warn(us.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Hn.warn(us.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D6(n,e,t,s,a,l,u){const h=S6(n);h.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Hn.error(b)),e.push(h);const m=I6().then(b=>{if(b)return s.getId()}),[p,y]=await Promise.all([h,m]);_6(l)||m6(l,p.measurementId),a("js",new Date);const v=u?.config??{};return v[l6]="firebase",v.update=!0,y!=null&&(v[o6]=y),a("config",p.measurementId,v),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.app=e}_delete(){return delete Gu[this.app.options.appId],Promise.resolve()}}let Gu={},H1=[];const G1={};let h0="dataLayer",P6="gtag",$1,WN,Y1=!1;function O6(){const n=[];if(fN()&&n.push("This is a browser extension environment."),Z4()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,a)=>`(${a+1}) ${s}`).join(" "),t=us.create("invalid-analytics-context",{errorInfo:e});Hn.warn(t.message)}}function M6(n,e,t){O6();const s=n.options.appId;if(!s)throw us.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw us.create("no-api-key");if(Gu[s]!=null)throw us.create("already-exists",{id:s});if(!Y1){p6(h0);const{wrappedGtag:l,gtagCore:u}=v6(Gu,H1,G1,h0,P6);WN=l,$1=u,Y1=!0}return Gu[s]=D6(n,H1,G1,e,$1,h0,t),new k6(n)}function V6(n=Sd()){n=jt(n);const e=Cr(n,zf);return e.isInitialized()?e.getImmediate():L6(n)}function L6(n,e={}){const t=Cr(n,zf);if(t.isInitialized()){const a=t.getImmediate();if(mi(e,t.getOptions()))return a;throw us.create("already-initialized")}return t.initialize({options:e})}function U6(n,e,t,s){n=jt(n),R6(WN,Gu[n.app.options.appId],e,t,s).catch(a=>Hn.error(a))}const K1="@firebase/analytics",Q1="0.10.18";function z6(){fs(new hs(zf,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return M6(s,a,t)},"PUBLIC")),fs(new hs("analytics-internal",n,"PRIVATE")),ln(K1,Q1),ln(K1,Q1,"esm2020");function n(e){try{const t=e.getProvider(zf).getImmediate();return{logEvent:(s,a,l)=>U6(t,s,a,l)}}catch(t){throw us.create("interop-component-reg-failed",{reason:t})}}}z6();var W1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ma,XN;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function A(){}A.prototype=S.prototype,O.D=S.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(B,V,U){for(var P=Array(arguments.length-2),we=2;we<arguments.length;we++)P[we-2]=arguments[we];return S.prototype[V].apply(B,P)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,S,A){A||(A=0);var B=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)B[V]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(V=0;16>V;++V)B[V]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=O.g[0],A=O.g[1],V=O.g[2];var U=O.g[3],P=S+(U^A&(V^U))+B[0]+3614090360&4294967295;S=A+(P<<7&4294967295|P>>>25),P=U+(V^S&(A^V))+B[1]+3905402710&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(A^U&(S^A))+B[2]+606105819&4294967295,V=U+(P<<17&4294967295|P>>>15),P=A+(S^V&(U^S))+B[3]+3250441966&4294967295,A=V+(P<<22&4294967295|P>>>10),P=S+(U^A&(V^U))+B[4]+4118548399&4294967295,S=A+(P<<7&4294967295|P>>>25),P=U+(V^S&(A^V))+B[5]+1200080426&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(A^U&(S^A))+B[6]+2821735955&4294967295,V=U+(P<<17&4294967295|P>>>15),P=A+(S^V&(U^S))+B[7]+4249261313&4294967295,A=V+(P<<22&4294967295|P>>>10),P=S+(U^A&(V^U))+B[8]+1770035416&4294967295,S=A+(P<<7&4294967295|P>>>25),P=U+(V^S&(A^V))+B[9]+2336552879&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(A^U&(S^A))+B[10]+4294925233&4294967295,V=U+(P<<17&4294967295|P>>>15),P=A+(S^V&(U^S))+B[11]+2304563134&4294967295,A=V+(P<<22&4294967295|P>>>10),P=S+(U^A&(V^U))+B[12]+1804603682&4294967295,S=A+(P<<7&4294967295|P>>>25),P=U+(V^S&(A^V))+B[13]+4254626195&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(A^U&(S^A))+B[14]+2792965006&4294967295,V=U+(P<<17&4294967295|P>>>15),P=A+(S^V&(U^S))+B[15]+1236535329&4294967295,A=V+(P<<22&4294967295|P>>>10),P=S+(V^U&(A^V))+B[1]+4129170786&4294967295,S=A+(P<<5&4294967295|P>>>27),P=U+(A^V&(S^A))+B[6]+3225465664&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^A&(U^S))+B[11]+643717713&4294967295,V=U+(P<<14&4294967295|P>>>18),P=A+(U^S&(V^U))+B[0]+3921069994&4294967295,A=V+(P<<20&4294967295|P>>>12),P=S+(V^U&(A^V))+B[5]+3593408605&4294967295,S=A+(P<<5&4294967295|P>>>27),P=U+(A^V&(S^A))+B[10]+38016083&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^A&(U^S))+B[15]+3634488961&4294967295,V=U+(P<<14&4294967295|P>>>18),P=A+(U^S&(V^U))+B[4]+3889429448&4294967295,A=V+(P<<20&4294967295|P>>>12),P=S+(V^U&(A^V))+B[9]+568446438&4294967295,S=A+(P<<5&4294967295|P>>>27),P=U+(A^V&(S^A))+B[14]+3275163606&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^A&(U^S))+B[3]+4107603335&4294967295,V=U+(P<<14&4294967295|P>>>18),P=A+(U^S&(V^U))+B[8]+1163531501&4294967295,A=V+(P<<20&4294967295|P>>>12),P=S+(V^U&(A^V))+B[13]+2850285829&4294967295,S=A+(P<<5&4294967295|P>>>27),P=U+(A^V&(S^A))+B[2]+4243563512&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^A&(U^S))+B[7]+1735328473&4294967295,V=U+(P<<14&4294967295|P>>>18),P=A+(U^S&(V^U))+B[12]+2368359562&4294967295,A=V+(P<<20&4294967295|P>>>12),P=S+(A^V^U)+B[5]+4294588738&4294967295,S=A+(P<<4&4294967295|P>>>28),P=U+(S^A^V)+B[8]+2272392833&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^A)+B[11]+1839030562&4294967295,V=U+(P<<16&4294967295|P>>>16),P=A+(V^U^S)+B[14]+4259657740&4294967295,A=V+(P<<23&4294967295|P>>>9),P=S+(A^V^U)+B[1]+2763975236&4294967295,S=A+(P<<4&4294967295|P>>>28),P=U+(S^A^V)+B[4]+1272893353&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^A)+B[7]+4139469664&4294967295,V=U+(P<<16&4294967295|P>>>16),P=A+(V^U^S)+B[10]+3200236656&4294967295,A=V+(P<<23&4294967295|P>>>9),P=S+(A^V^U)+B[13]+681279174&4294967295,S=A+(P<<4&4294967295|P>>>28),P=U+(S^A^V)+B[0]+3936430074&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^A)+B[3]+3572445317&4294967295,V=U+(P<<16&4294967295|P>>>16),P=A+(V^U^S)+B[6]+76029189&4294967295,A=V+(P<<23&4294967295|P>>>9),P=S+(A^V^U)+B[9]+3654602809&4294967295,S=A+(P<<4&4294967295|P>>>28),P=U+(S^A^V)+B[12]+3873151461&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^A)+B[15]+530742520&4294967295,V=U+(P<<16&4294967295|P>>>16),P=A+(V^U^S)+B[2]+3299628645&4294967295,A=V+(P<<23&4294967295|P>>>9),P=S+(V^(A|~U))+B[0]+4096336452&4294967295,S=A+(P<<6&4294967295|P>>>26),P=U+(A^(S|~V))+B[7]+1126891415&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~A))+B[14]+2878612391&4294967295,V=U+(P<<15&4294967295|P>>>17),P=A+(U^(V|~S))+B[5]+4237533241&4294967295,A=V+(P<<21&4294967295|P>>>11),P=S+(V^(A|~U))+B[12]+1700485571&4294967295,S=A+(P<<6&4294967295|P>>>26),P=U+(A^(S|~V))+B[3]+2399980690&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~A))+B[10]+4293915773&4294967295,V=U+(P<<15&4294967295|P>>>17),P=A+(U^(V|~S))+B[1]+2240044497&4294967295,A=V+(P<<21&4294967295|P>>>11),P=S+(V^(A|~U))+B[8]+1873313359&4294967295,S=A+(P<<6&4294967295|P>>>26),P=U+(A^(S|~V))+B[15]+4264355552&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~A))+B[6]+2734768916&4294967295,V=U+(P<<15&4294967295|P>>>17),P=A+(U^(V|~S))+B[13]+1309151649&4294967295,A=V+(P<<21&4294967295|P>>>11),P=S+(V^(A|~U))+B[4]+4149444226&4294967295,S=A+(P<<6&4294967295|P>>>26),P=U+(A^(S|~V))+B[11]+3174756917&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~A))+B[2]+718787259&4294967295,V=U+(P<<15&4294967295|P>>>17),P=A+(U^(V|~S))+B[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var A=S-this.blockSize,B=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=A;)a(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(B[V++]=O.charCodeAt(U++),V==this.blockSize){a(this,B),V=0;break}}else for(;U<S;)if(B[V++]=O[U++],V==this.blockSize){a(this,B),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var A=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=A&255,A/=256;for(this.u(O),O=Array(16),S=A=0;4>S;++S)for(var B=0;32>B;B+=8)O[A++]=this.g[S]>>>B&255;return O};function l(O,S){var A=h;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=S(O)}function u(O,S){this.h=S;for(var A=[],B=!0,V=O.length-1;0<=V;V--){var U=O[V]|0;B&&U==S||(A[V]=U,B=!1)}this.g=A}var h={};function m(O){return-128<=O&&128>O?l(O,function(S){return new u([S|0],0>S?-1:0)}):new u([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return R(p(-O));for(var S=[],A=1,B=0;O>=A;B++)S[B]=O/A|0,A*=4294967296;return new u(S,0)}function y(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return R(y(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(S,8)),B=v,V=0;V<O.length;V+=8){var U=Math.min(8,O.length-V),P=parseInt(O.substring(V,V+U),S);8>U?(U=p(Math.pow(S,U)),B=B.j(U).add(p(P))):(B=B.j(A),B=B.add(p(P)))}return B}var v=m(0),b=m(1),N=m(16777216);n=u.prototype,n.m=function(){if(T(this))return-R(this).m();for(var O=0,S=1,A=0;A<this.g.length;A++){var B=this.i(A);O+=(0<=B?B:4294967296+B)*S,S*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(j(this))return"0";if(T(this))return"-"+R(this).toString(O);for(var S=p(Math.pow(O,6)),A=this,B="";;){var V=L(A,S).g;A=M(A,V.j(S));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=V,j(A))return U+B;for(;6>U.length;)U="0"+U;B=U+B}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function j(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function T(O){return O.h==-1}n.l=function(O){return O=M(this,O),T(O)?-1:j(O)?0:1};function R(O){for(var S=O.g.length,A=[],B=0;B<S;B++)A[B]=~O.g[B];return new u(A,~O.h).add(b)}n.abs=function(){return T(this)?R(this):this},n.add=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],B=0,V=0;V<=S;V++){var U=B+(this.i(V)&65535)+(O.i(V)&65535),P=(U>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);B=P>>>16,U&=65535,P&=65535,A[V]=P<<16|U}return new u(A,A[A.length-1]&-2147483648?-1:0)};function M(O,S){return O.add(R(S))}n.j=function(O){if(j(this)||j(O))return v;if(T(this))return T(O)?R(this).j(R(O)):R(R(this).j(O));if(T(O))return R(this.j(R(O)));if(0>this.l(N)&&0>O.l(N))return p(this.m()*O.m());for(var S=this.g.length+O.g.length,A=[],B=0;B<2*S;B++)A[B]=0;for(B=0;B<this.g.length;B++)for(var V=0;V<O.g.length;V++){var U=this.i(B)>>>16,P=this.i(B)&65535,we=O.i(V)>>>16,xe=O.i(V)&65535;A[2*B+2*V]+=P*xe,k(A,2*B+2*V),A[2*B+2*V+1]+=U*xe,k(A,2*B+2*V+1),A[2*B+2*V+1]+=P*we,k(A,2*B+2*V+1),A[2*B+2*V+2]+=U*we,k(A,2*B+2*V+2)}for(B=0;B<S;B++)A[B]=A[2*B+1]<<16|A[2*B];for(B=S;B<2*S;B++)A[B]=0;return new u(A,0)};function k(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function q(O,S){this.g=O,this.h=S}function L(O,S){if(j(S))throw Error("division by zero");if(j(O))return new q(v,v);if(T(O))return S=L(R(O),S),new q(R(S.g),R(S.h));if(T(S))return S=L(O,R(S)),new q(R(S.g),S.h);if(30<O.g.length){if(T(O)||T(S))throw Error("slowDivide_ only works with positive integers.");for(var A=b,B=S;0>=B.l(O);)A=H(A),B=H(B);var V=Q(A,1),U=Q(B,1);for(B=Q(B,2),A=Q(A,2);!j(B);){var P=U.add(B);0>=P.l(O)&&(V=V.add(A),U=P),B=Q(B,1),A=Q(A,1)}return S=M(O,V.j(S)),new q(V,S)}for(V=v;0<=O.l(S);){for(A=Math.max(1,Math.floor(O.m()/S.m())),B=Math.ceil(Math.log(A)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),U=p(A),P=U.j(S);T(P)||0<P.l(O);)A-=B,U=p(A),P=U.j(S);j(U)&&(U=b),V=V.add(U),O=M(O,P)}return new q(V,O)}n.A=function(O){return L(this,O).h},n.and=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],B=0;B<S;B++)A[B]=this.i(B)&O.i(B);return new u(A,this.h&O.h)},n.or=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],B=0;B<S;B++)A[B]=this.i(B)|O.i(B);return new u(A,this.h|O.h)},n.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),A=[],B=0;B<S;B++)A[B]=this.i(B)^O.i(B);return new u(A,this.h^O.h)};function H(O){for(var S=O.g.length+1,A=[],B=0;B<S;B++)A[B]=O.i(B)<<1|O.i(B-1)>>>31;return new u(A,O.h)}function Q(O,S){var A=S>>5;S%=32;for(var B=O.g.length-A,V=[],U=0;U<B;U++)V[U]=0<S?O.i(U+A)>>>S|O.i(U+A+1)<<32-S:O.i(U+A);return new u(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,XN=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,ma=u}).apply(typeof W1<"u"?W1:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZN,Vu,JN,bf,O0,eE,tE,nE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,w){return f==Array.prototype||f==Object.prototype||(f[_]=w.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var _=0;_<f.length;++_){var w=f[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=t(this);function a(f,_){if(_)e:{var w=s;f=f.split(".");for(var I=0;I<f.length-1;I++){var W=f[I];if(!(W in w))break e;w=w[W]}f=f[f.length-1],I=w[f],_=_(I),_!=I&&_!=null&&e(w,f,{configurable:!0,writable:!0,value:_})}}function l(f,_){f instanceof String&&(f+="");var w=0,I=!1,W={next:function(){if(!I&&w<f.length){var te=w++;return{value:_(te,f[te]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(f){return f||function(){return l(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function p(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function y(f,_,w){return f.call.apply(f.bind,arguments)}function v(f,_,w){if(!f)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),f.apply(_,W)}}return function(){return f.apply(_,arguments)}}function b(f,_,w){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function N(f,_){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function j(f,_){function w(){}w.prototype=_.prototype,f.aa=_.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(I,W,te){for(var pe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)pe[Ye-2]=arguments[Ye];return _.prototype[W].apply(I,pe)}}function T(f){const _=f.length;if(0<_){const w=Array(_);for(let I=0;I<_;I++)w[I]=f[I];return w}return[]}function R(f,_){for(let w=1;w<arguments.length;w++){const I=arguments[w];if(m(I)){const W=f.length||0,te=I.length||0;f.length=W+te;for(let pe=0;pe<te;pe++)f[W+pe]=I[pe]}else f.push(I)}}class M{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function L(f){return L[" "](f),f}L[" "]=function(){};var H=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Q(f,_,w){for(const I in f)_.call(w,f[I],I,f)}function O(f,_){for(const w in f)_.call(void 0,f[w],w,f)}function S(f){const _={};for(const w in f)_[w]=f[w];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,_){let w,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(w in I)f[w]=I[w];for(let te=0;te<A.length;te++)w=A[te],Object.prototype.hasOwnProperty.call(I,w)&&(f[w]=I[w])}}function V(f){var _=1;f=f.split(":");const w=[];for(;0<_&&f.length;)w.push(f.shift()),_--;return f.length&&w.push(f.join(":")),w}function U(f){h.setTimeout(()=>{throw f},0)}function P(){var f=me;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class we{constructor(){this.h=this.g=null}add(_,w){const I=xe.get();I.set(_,w),this.h?this.h.next=I:this.g=I,this.h=I}}var xe=new M(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let re,he=!1,me=new we,z=()=>{const f=h.Promise.resolve(void 0);re=()=>{f.then($)}};var $=()=>{for(var f;f=P();){try{f.h.call(f.g)}catch(w){U(w)}var _=xe;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}he=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ge=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};h.addEventListener("test",w,_),h.removeEventListener("test",w,_)}catch{}return f})();function Ne(f,_){if(ae.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(H){e:{try{L(_.nodeName);var W=!0;break e}catch{}W=!1}W||(_=null)}}else w=="mouseover"?_=f.fromElement:w=="mouseout"&&(_=f.toElement);this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:be[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ne.aa.h.call(this)}}j(Ne,ae);var be={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),se=0;function fe(f,_,w,I,W){this.listener=f,this.proxy=null,this.src=_,this.type=w,this.capture=!!I,this.ha=W,this.key=++se,this.da=this.fa=!1}function De(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Oe(f){this.src=f,this.g={},this.h=0}Oe.prototype.add=function(f,_,w,I,W){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var pe=tt(f,_,I,W);return-1<pe?(_=f[pe],w||(_.fa=!1)):(_=new fe(_,this.src,te,!!I,W),_.fa=w,f.push(_)),_};function Fe(f,_){var w=_.type;if(w in f.g){var I=f.g[w],W=Array.prototype.indexOf.call(I,_,void 0),te;(te=0<=W)&&Array.prototype.splice.call(I,W,1),te&&(De(_),f.g[w].length==0&&(delete f.g[w],f.h--))}}function tt(f,_,w,I){for(var W=0;W<f.length;++W){var te=f[W];if(!te.da&&te.listener==_&&te.capture==!!w&&te.ha==I)return W}return-1}var dt="closure_lm_"+(1e6*Math.random()|0),un={};function Xs(f,_,w,I,W){if(Array.isArray(_)){for(var te=0;te<_.length;te++)Xs(f,_[te],w,I,W);return null}return w=Ai(w),f&&f[de]?f.K(_,w,p(I)?!!I.capture:!1,W):Rn(f,_,w,!1,I,W)}function Rn(f,_,w,I,W,te){if(!_)throw Error("Invalid event type");var pe=p(W)?!!W.capture:!!W,Ye=Si(f);if(Ye||(f[dt]=Ye=new Oe(f)),w=Ye.add(_,w,I,pe,te),w.proxy)return w;if(I=Tc(),w.proxy=I,I.src=f,I.listener=w,f.addEventListener)ge||(W=pe),W===void 0&&(W=!1),f.addEventListener(_.toString(),I,W);else if(f.attachEvent)f.attachEvent(_n(_.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Tc(){function f(w){return _.call(f.src,f.listener,w)}const _=Dr;return f}function Oa(f,_,w,I,W){if(Array.isArray(_))for(var te=0;te<_.length;te++)Oa(f,_[te],w,I,W);else I=p(I)?!!I.capture:!!I,w=Ai(w),f&&f[de]?(f=f.i,_=String(_).toString(),_ in f.g&&(te=f.g[_],w=tt(te,w,I,W),-1<w&&(De(te[w]),Array.prototype.splice.call(te,w,1),te.length==0&&(delete f.g[_],f.h--)))):f&&(f=Si(f))&&(_=f.g[_.toString()],f=-1,_&&(f=tt(_,w,I,W)),(w=-1<f?_[f]:null)&&ys(w))}function ys(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[de])Fe(_.i,f);else{var w=f.type,I=f.proxy;_.removeEventListener?_.removeEventListener(w,I,f.capture):_.detachEvent?_.detachEvent(_n(w),I):_.addListener&&_.removeListener&&_.removeListener(I),(w=Si(_))?(Fe(w,f),w.h==0&&(w.src=null,_[dt]=null)):De(f)}}}function _n(f){return f in un?un[f]:un[f]="on"+f}function Dr(f,_){if(f.da)f=!0;else{_=new Ne(_,this);var w=f.listener,I=f.ha||f.src;f.fa&&ys(f),f=w.call(I,_)}return f}function Si(f){return f=f[dt],f instanceof Oe?f:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ai(f){return typeof f=="function"?f:(f[kr]||(f[kr]=function(_){return f.handleEvent(_)}),f[kr])}function _t(){ne.call(this),this.i=new Oe(this),this.M=this,this.F=null}j(_t,ne),_t.prototype[de]=!0,_t.prototype.removeEventListener=function(f,_,w,I){Oa(this,f,_,w,I)};function rt(f,_){var w,I=f.F;if(I)for(w=[];I;I=I.F)w.push(I);if(f=f.M,I=_.type||_,typeof _=="string")_=new ae(_,f);else if(_ instanceof ae)_.target=_.target||f;else{var W=_;_=new ae(I,f),B(_,W)}if(W=!0,w)for(var te=w.length-1;0<=te;te--){var pe=_.g=w[te];W=Wn(pe,I,!0,_)&&W}if(pe=_.g=f,W=Wn(pe,I,!0,_)&&W,W=Wn(pe,I,!1,_)&&W,w)for(te=0;te<w.length;te++)pe=_.g=w[te],W=Wn(pe,I,!1,_)&&W}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var w=f.g[_],I=0;I<w.length;I++)De(w[I]);delete f.g[_],f.h--}}this.F=null},_t.prototype.K=function(f,_,w,I){return this.i.add(String(f),_,!1,w,I)},_t.prototype.L=function(f,_,w,I){return this.i.add(String(f),_,!0,w,I)};function Wn(f,_,w,I){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var W=!0,te=0;te<_.length;++te){var pe=_[te];if(pe&&!pe.da&&pe.capture==w){var Ye=pe.listener,Wt=pe.ha||pe.src;pe.fa&&Fe(f.i,pe),W=Ye.call(Wt,I)!==!1&&W}}return W&&!I.defaultPrevented}function bn(f,_,w){if(typeof f=="function")w&&(f=b(f,w));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(f,_||0)}function Bd(f){f.g=bn(()=>{f.g=null,f.i&&(f.i=!1,Bd(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Jm extends ne{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Bd(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(f){ne.call(this),this.h=f,this.g={}}j(Ma,ne);var Va=[];function La(f){Q(f.g,function(_,w){this.g.hasOwnProperty(w)&&ys(_)},f),f.g={}}Ma.prototype.N=function(){Ma.aa.N.call(this),La(this)},Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=h.JSON.stringify,Fo=h.JSON.parse,Ua=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Sc(){}Sc.prototype.h=null;function Ac(f){return f.h||(f.h=f.i())}function jc(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){ae.call(this,"d")}j(Or,ae);function Cc(){ae.call(this,"c")}j(Cc,ae);var Zs={},Rc=null;function ji(){return Rc=Rc||new _t}Zs.La="serverreachability";function qo(f){ae.call(this,Zs.La,f)}j(qo,ae);function Ci(f){const _=ji();rt(_,new qo(_))}Zs.STAT_EVENT="statevent";function Fd(f,_){ae.call(this,Zs.STAT_EVENT,f),this.stat=_}j(Fd,ae);function bt(f){const _=ji();rt(_,new Fd(_,f))}Zs.Ma="timingevent";function Qt(f,_){ae.call(this,Zs.Ma,f),this.size=_}j(Qt,ae);function Ut(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},_)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function Ic(f,_,w,I,W,te){f.info(function(){if(f.g)if(te)for(var pe="",Ye=te.split("&"),Wt=0;Wt<Ye.length;Wt++){var Ke=Ye[Wt].split("=");if(1<Ke.length){var nn=Ke[0];Ke=Ke[1];var Xt=nn.split("_");pe=2<=Xt.length&&Xt[1]=="type"?pe+(nn+"="+Ke+"&"):pe+(nn+"=redacted&")}}else pe=null;else pe=te;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+_+`
`+w+`
`+pe})}function ep(f,_,w,I,W,te,pe){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+_+`
`+w+`
`+te+" "+pe})}function Ri(f,_,w,I){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+za(f,w)+(I?" "+I:"")})}function qd(f,_){f.info(function(){return"TIMEOUT: "+_})}xs.prototype.info=function(){};function za(f,_){if(!f.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var I=w[f];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var te=W[0];if(te!="noop"&&te!="stop"&&te!="close")for(var pe=1;pe<W.length;pe++)W[pe]=""}}}}return Vs(w)}catch{return _}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Js;function er(){}j(er,Sc),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Js=new er;function In(f,_,w,I){this.j=f,this.i=_,this.l=w,this.R=I||1,this.U=new Ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var Dc={},Ho={};function Ls(f,_,w){f.L=1,f.v=Ga(Xn(_)),f.m=w,f.P=!0,Vr(f,null)}function Vr(f,_){f.F=Date.now(),Ba(f),f.A=Xn(f.v);var w=f.A,I=f.R;Array.isArray(I)||(I=[String(I)]),Lc(w.i,"t",I),f.C=0,w=f.j.J,f.h=new kt,f.g=ih(f.j,w?_:null,!f.m),0<f.O&&(f.M=new Jm(b(f.Y,f,f.g),f.O)),_=f.U,w=f.g,I=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(Va[0]=W.toString()),W=Va);for(var te=0;te<W.length;te++){var pe=Xs(w,W[te],I||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Ci(),Ic(f.i,f.u,f.A,f.l,f.R,f.m)}In.prototype.ca=function(f){f=f.target;const _=this.M;_&&ws(f)==3?_.j():this.Y(f)},In.prototype.Y=function(f){try{if(f==this.g)e:{const Xt=ws(this.g);var _=this.g.Ba();const Gr=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Xd(this.g)))){this.J||Xt!=4||_==7||(_==8||0>=Gr?Ci(3):Ci(2)),Di(this);var w=this.g.Z();this.X=w;t:if(Hd(this)){var I=Xd(this.g);f="";var W=I.length,te=ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),tr(this);var pe="";break t}this.h.i=new h.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,f+=this.h.i.decode(I[_],{stream:!(te&&_==W-1)});I.length=0,this.h.g+=f,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=w==200,ep(this.i,this.u,this.A,this.l,this.R,Xt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Wt=this.g;if((Ye=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Ye)){var Ke=Ye;break t}}Ke=null}if(w=Ke)Ri(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,w);else{this.o=!1,this.s=3,bt(12),dn(this),tr(this);break e}}if(this.P){w=!0;let hn;for(;!this.J&&this.C<pe.length;)if(hn=Gd(this,pe),hn==Ho){Xt==4&&(this.s=4,bt(14),w=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Dc){this.s=4,bt(15),Ri(this.i,this.l,pe,"[Invalid Chunk]"),w=!1;break}else Ri(this.i,this.l,hn,null),Fa(this,hn);if(Hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||pe.length!=0||this.h.h||(this.s=1,bt(16),w=!1),this.o=this.o&&w,!w)Ri(this.i,this.l,pe,"[Invalid Chunked Response]"),dn(this),tr(this);else if(0<pe.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Ja(nn),nn.M=!0,bt(11))}}else Ri(this.i,this.l,pe,null),Fa(this,pe);Xt==4&&dn(this),this.o&&!this.J&&(Xt==4?nh(this.j,this):(this.o=!1,Ba(this)))}else ip(this.g),w==400&&0<pe.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),dn(this),tr(this)}}}catch{}finally{}};function Hd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Gd(f,_){var w=f.C,I=_.indexOf(`
`,w);return I==-1?Ho:(w=Number(_.substring(w,I)),isNaN(w)?Dc:(I+=1,I+w>_.length?Ho:(_=_.slice(I,I+w),f.C=I+w,_)))}In.prototype.cancel=function(){this.J=!0,dn(this)};function Ba(f){f.S=Date.now()+f.I,$d(f,f.I)}function $d(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ut(b(f.ba,f),_)}function Di(f){f.B&&(h.clearTimeout(f.B),f.B=null)}In.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(qd(this.i,this.A),this.L!=2&&(Ci(),bt(17)),dn(this),this.s=2,tr(this)):$d(this,this.S-f)};function tr(f){f.j.G==0||f.J||nh(f.j,f)}function dn(f){Di(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,La(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Fa(f,_){try{var w=f.j;if(w.G!=0&&(w.g==f||kc(w.h,f))){if(!f.K&&kc(w.h,f)&&w.G==3){try{var I=w.Da.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)nl(w),el(w);else break e;qc(w),bt(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ut(b(w.Za,w),6e3));if(1>=$o(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Hr(w,11)}else if((f.K||w.g==f)&&nl(w),!k(_))for(W=w.Da.g.parse(_),_=0;_<W.length;_++){let Ke=W[_];if(w.T=Ke[0],Ke=Ke[1],w.G==2)if(Ke[0]=="c"){w.K=Ke[1],w.ia=Ke[2];const nn=Ke[3];nn!=null&&(w.la=nn,w.j.info("VER="+w.la));const Xt=Ke[4];Xt!=null&&(w.Aa=Xt,w.j.info("SVER="+w.Aa));const Gr=Ke[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(I=1.5*Gr,w.L=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const hn=f.g;if(hn){const lr=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lr){var te=I.h;te.g||lr.indexOf("spdy")==-1&&lr.indexOf("quic")==-1&&lr.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Yo(te,te.h),te.h=null))}if(I.D){const Gc=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gc&&(I.ya=Gc,ot(I.I,I.D,Gc))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),I=w;var pe=f;if(I.qa=rh(I,I.J?I.ia:null,I.W),pe.K){Dn(I.h,pe);var Ye=pe,Wt=I.L;Wt&&(Ye.I=Wt),Ye.B&&(Di(Ye),Ba(Ye)),I.g=pe}else eh(I);0<w.i.length&&tl(w)}else Ke[0]!="stop"&&Ke[0]!="close"||Hr(w,7);else w.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Hr(w,7):Bc(w):Ke[0]!="noop"&&w.l&&w.l.ta(Ke),w.v=0)}}Ci(4)}catch{}}var Yd=class{constructor(f,_){this.g=f,this.map=_}};function Lr(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Go(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $o(f){return f.h?1:f.g?f.g.size:0}function kc(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Yo(f,_){f.g?f.g.add(_):f.h=_}function Dn(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Lr.prototype.cancel=function(){if(this.i=Pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Pc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const w of f.g.values())_=_.concat(w.D);return _}return T(f.i)}function tp(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var _=[],w=f.length,I=0;I<w;I++)_.push(f[I]);return _}_=[],w=0;for(I in f)_[w++]=f[I];return _}function Ko(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var _=[];f=f.length;for(var w=0;w<f;w++)_.push(w);return _}_=[],w=0;for(const I in f)_[w++]=I;return _}}}function Oc(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var w=Ko(f),I=tp(f),W=I.length,te=0;te<W;te++)_.call(void 0,I[te],w&&w[te],f)}var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function np(f,_){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var I=f[w].indexOf("="),W=null;if(0<=I){var te=f[w].substring(0,I);W=f[w].substring(I+1)}else te=f[w];_(te,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function zt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof zt){this.h=f.h,Ha(this,f.j),this.o=f.o,this.g=f.g,ki(this,f.s),this.l=f.l;var _=f.i,w=new zr;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),Ur(this,w),this.m=f.m}else f&&(_=String(f).match(qa))?(this.h=!1,Ha(this,_[1]||"",!0),this.o=vs(_[2]||""),this.g=vs(_[3]||"",!0),ki(this,_[4]),this.l=vs(_[5]||"",!0),Ur(this,_[6]||"",!0),this.m=vs(_[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}zt.prototype.toString=function(){var f=[],_=this.j;_&&f.push($a(_,Mc,!0),":");var w=this.g;return(w||_=="file")&&(f.push("//"),(_=this.o)&&f.push($a(_,Mc,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push($a(w,w.charAt(0)=="/"?sp:Vc,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",$a(w,Qo)),f.join("")};function Xn(f){return new zt(f)}function Ha(f,_,w){f.j=w?vs(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ki(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Ur(f,_,w){_ instanceof zr?(f.i=_,Qd(f.i,f.h)):(w||(_=$a(_,rp)),f.i=new zr(_,f.h))}function ot(f,_,w){f.i.set(_,w)}function Ga(f){return ot(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function vs(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function $a(f,_,w){return typeof f=="string"?(f=encodeURI(f).replace(_,Kd),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Kd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Mc=/[#\/\?@]/g,Vc=/[#\?:]/g,sp=/[#\?]/g,rp=/[#\?@]/g,Qo=/#/g;function zr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function _s(f){f.g||(f.g=new Map,f.h=0,f.i&&np(f.i,function(_,w){f.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}n=zr.prototype,n.add=function(f,_){_s(this),this.i=null,f=nr(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(_),this.h+=1,this};function Br(f,_){_s(f),_=nr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Fr(f,_){return _s(f),_=nr(f,_),f.g.has(_)}n.forEach=function(f,_){_s(this),this.g.forEach(function(w,I){w.forEach(function(W){f.call(_,W,I,this)},this)},this)},n.na=function(){_s(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let I=0;I<_.length;I++){const W=f[I];for(let te=0;te<W.length;te++)w.push(_[I])}return w},n.V=function(f){_s(this);let _=[];if(typeof f=="string")Fr(this,f)&&(_=_.concat(this.g.get(nr(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)_=_.concat(f[w])}return _},n.set=function(f,_){return _s(this),this.i=null,f=nr(this,f),Fr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Lc(f,_,w){Br(f,_),0<w.length&&(f.i=null,f.g.set(nr(f,_),T(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var I=_[w];const te=encodeURIComponent(String(I)),pe=this.V(I);for(I=0;I<pe.length;I++){var W=te;pe[I]!==""&&(W+="="+encodeURIComponent(String(pe[I]))),f.push(W)}}return this.i=f.join("&")};function nr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Qd(f,_){_&&!f.j&&(_s(f),f.i=null,f.g.forEach(function(w,I){var W=I.toLowerCase();I!=W&&(Br(this,I),Lc(this,W,w))},f)),f.j=_}function Ya(f,_){const w=new xs;if(h.Image){const I=new Image;I.onload=N(bs,w,"TestLoadImage: loaded",!0,_,I),I.onerror=N(bs,w,"TestLoadImage: error",!1,_,I),I.onabort=N(bs,w,"TestLoadImage: abort",!1,_,I),I.ontimeout=N(bs,w,"TestLoadImage: timeout",!1,_,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else _(!1)}function Us(f,_){const w=new xs,I=new AbortController,W=setTimeout(()=>{I.abort(),bs(w,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:I.signal}).then(te=>{clearTimeout(W),te.ok?bs(w,"TestPingServer: ok",!0,_):bs(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),bs(w,"TestPingServer: error",!1,_)})}function bs(f,_,w,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(w)}catch{}}function Ka(){this.g=new Ua}function sr(f,_,w){const I=w||"";try{Oc(f,function(W,te){let pe=W;p(W)&&(pe=Vs(W)),_.push(I+te+"="+encodeURIComponent(pe))})}catch(W){throw _.push(I+"type="+encodeURIComponent("_badmap")),W}}function Pi(f){this.l=f.Ub||null,this.j=f.eb||!1}j(Pi,Sc),Pi.prototype.g=function(){return new qr(this.l,this.j)},Pi.prototype.i=(function(f){return function(){return f}})({});function qr(f,_){_t.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(qr,_t),n=qr.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,ir(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?rr(this):ir(this),this.readyState==3&&Uc(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,rr(this))},n.Qa=function(f){this.g&&(this.response=f,rr(this))},n.ga=function(){this.g&&rr(this)};function rr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ir(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=_.next();return f.join(`\r
`)};function ir(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function zc(f){let _="";return Q(f,function(w,I){_+=I,_+=":",_+=w,_+=`\r
`}),_}function tn(f,_,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=zc(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):ot(f,_,w))}function nt(f){_t.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(nt,_t);var Wo=/^https?$/i,Qa=["POST","PUT"];n=nt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Js.g(),this.v=this.o?Ac(this.o):Ac(Js),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(te){Wd(this,te);return}if(f=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)w.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const te of I.keys())w.set(te,I.get(te));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),W=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Qa,_,void 0))||I||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of w)this.g.setRequestHeader(te,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wa(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){Wd(this,te)}};function Wd(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Xo(f),ar(f)}function Xo(f){f.A||(f.A=!0,rt(f,"complete"),rt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,rt(this,"complete"),rt(this,"abort"),ar(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Zo(this):this.bb())},n.bb=function(){Zo(this)};function Zo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||ws(f)!=4||f.Z()!=2)){if(f.u&&ws(f)==4)bn(f.Ea,0,f);else if(rt(f,"readystatechange"),ws(f)==4){f.h=!1;try{const pe=f.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var I;if(I=pe===0){var W=String(f.D).match(qa)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),I=!Wo.test(W?W.toLowerCase():"")}w=I}if(w)rt(f,"complete"),rt(f,"success");else{f.m=6;try{var te=2<ws(f)?f.g.statusText:""}catch{te=""}f.l=te+" ["+f.Z()+"]",Xo(f)}}finally{ar(f)}}}}function ar(f,_){if(f.g){Wa(f);const w=f.g,I=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||rt(f,"ready");try{w.onreadystatechange=I}catch{}}}function Wa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function ws(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Fo(_)}};function Xd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ip(f){const _={};f=(f.g&&2<=ws(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(k(f[I]))continue;var w=V(f[I]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=_[W]||[];_[W]=te,te.push(w)}O(_,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(f,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||_}function Jo(f){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xa("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xa("baseRetryDelayMs",5e3,f),this.cb=Xa("retryDelaySeedMs",1e4,f),this.Wa=Xa("forwardChannelMaxRetries",2,f),this.wa=Xa("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Lr(f&&f.concurrentRequestLimit),this.Da=new Ka,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Jo.prototype,n.la=8,n.G=1,n.connect=function(f,_,w,I){bt(0),this.W=f,this.H=_||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.I=rh(this,null,this.W),tl(this)};function Bc(f){if(Zd(f),f.G==3){var _=f.U++,w=Xn(f.I);if(ot(w,"SID",f.K),ot(w,"RID",_),ot(w,"TYPE","terminate"),Za(f,w),_=new In(f,f.j,_),_.L=2,_.v=Ga(Xn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=_.v,w=!0),w||(_.g=ih(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ba(_)}sh(f)}function el(f){f.g&&(Ja(f),f.g.cancel(),f.g=null)}function Zd(f){el(f),f.u&&(h.clearTimeout(f.u),f.u=null),nl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function tl(f){if(!Go(f.h)&&!f.s){f.s=!0;var _=f.Ga;re||z(),he||(re(),he=!0),me.add(_,f),f.B=0}}function ap(f,_){return $o(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ut(b(f.Ga,f,_),Hc(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new In(this,this.j,f);let te=this.o;if(this.S&&(te?(te=S(te),B(te,this.S)):te=this.S),this.m!==null||this.O||(W.H=te,te=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Jd(this,W,_),w=Xn(this.I),ot(w,"RID",f),ot(w,"CVER",22),this.D&&ot(w,"X-HTTP-Session-Id",this.D),Za(this,w),te&&(this.O?_="headers="+encodeURIComponent(String(zc(te)))+"&"+_:this.m&&tn(w,this.m,te)),Yo(this.h,W),this.Ua&&ot(w,"TYPE","init"),this.P?(ot(w,"$req",_),ot(w,"SID","null"),W.T=!0,Ls(W,w,null)):Ls(W,w,_),this.G=2}}else this.G==3&&(f?Fc(this,f):this.i.length==0||Go(this.h)||Fc(this))};function Fc(f,_){var w;_?w=_.l:w=f.U++;const I=Xn(f.I);ot(I,"SID",f.K),ot(I,"RID",w),ot(I,"AID",f.T),Za(f,I),f.m&&f.o&&tn(I,f.m,f.o),w=new In(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Jd(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Yo(f.h,w),Ls(w,I,_)}function Za(f,_){f.H&&Q(f.H,function(w,I){ot(_,I,w)}),f.l&&Oc({},function(w,I){ot(_,I,w)})}function Jd(f,_,w){w=Math.min(f.i.length,w);var I=f.l?b(f.l.Na,f.l,f):null;e:{var W=f.i;let te=-1;for(;;){const pe=["count="+w];te==-1?0<w?(te=W[0].g,pe.push("ofs="+te)):te=0:pe.push("ofs="+te);let Ye=!0;for(let Wt=0;Wt<w;Wt++){let Ke=W[Wt].g;const nn=W[Wt].map;if(Ke-=te,0>Ke)te=Math.max(0,W[Wt].g-100),Ye=!1;else try{sr(nn,pe,"req"+Ke+"_")}catch{I&&I(nn)}}if(Ye){I=pe.join("&");break e}}}return f=f.i.splice(0,w),_.D=f,I}function eh(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;re||z(),he||(re(),he=!0),me.add(_,f),f.v=0}}function qc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ut(b(f.Fa,f),Hc(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ut(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),el(this),th(this))};function Ja(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function th(f){f.g=new In(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Xn(f.qa);ot(_,"RID","rpc"),ot(_,"SID",f.K),ot(_,"AID",f.T),ot(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&ot(_,"TO",f.ja),ot(_,"TYPE","xmlhttp"),Za(f,_),f.m&&f.o&&tn(_,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=Ga(Xn(_)),w.m=null,w.P=!0,Vr(w,f)}n.Za=function(){this.C!=null&&(this.C=null,el(this),qc(this),bt(19))};function nl(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function nh(f,_){var w=null;if(f.g==_){nl(f),Ja(f),f.g=null;var I=2}else if(kc(f.h,_))w=_.D,Dn(f.h,_),I=1;else return;if(f.G!=0){if(_.o)if(I==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var W=f.B;I=ji(),rt(I,new Qt(I,w)),tl(f)}else eh(f);else if(W=_.s,W==3||W==0&&0<_.X||!(I==1&&ap(f,_)||I==2&&qc(f)))switch(w&&0<w.length&&(_=f.h,_.i=_.i.concat(w)),W){case 1:Hr(f,5);break;case 4:Hr(f,10);break;case 3:Hr(f,6);break;default:Hr(f,2)}}}function Hc(f,_){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*_}function Hr(f,_){if(f.j.info("Error code "+_),_==2){var w=b(f.fb,f),I=f.Xa;const W=!I;I=new zt(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ha(I,"https"),Ga(I),W?Ya(I.toString(),w):Us(I.toString(),w)}else bt(2);f.G=0,f.l&&f.l.sa(_),sh(f),Zd(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function sh(f){if(f.G=0,f.ka=[],f.l){const _=Pc(f.h);(_.length!=0||f.i.length!=0)&&(R(f.ka,_),R(f.ka,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.ra()}}function rh(f,_,w){var I=w instanceof zt?Xn(w):new zt(w);if(I.g!="")_&&(I.g=_+"."+I.g),ki(I,I.s);else{var W=h.location;I=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var te=new zt(null);I&&Ha(te,I),_&&(te.g=_),W&&ki(te,W),w&&(te.l=w),I=te}return w=f.D,_=f.ya,w&&_&&ot(I,w,_),ot(I,"VER",f.la),Za(f,I),I}function ih(f,_,w){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new nt(new Pi({eb:w})):new nt(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ah(){}n=ah.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function sl(){}sl.prototype.g=function(f,_){return new kn(f,_)};function kn(f,_){_t.call(this),this.g=new Jo(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!k(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!k(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new or(this)}j(kn,_t),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Bc(this.g)},kn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=Vs(f),f=w);_.i.push(new Yd(_.Ya++,f)),_.G==3&&tl(_)},kn.prototype.N=function(){this.g.l=null,delete this.j,Bc(this.g),delete this.g,kn.aa.N.call(this)};function oh(f){Or.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const w in _){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}j(oh,Or);function lh(){Cc.call(this),this.status=1}j(lh,Cc);function or(f){this.g=f}j(or,ah),or.prototype.ua=function(){rt(this.g,"a")},or.prototype.ta=function(f){rt(this.g,new oh(f))},or.prototype.sa=function(f){rt(this.g,new lh)},or.prototype.ra=function(){rt(this.g,"b")},sl.prototype.createWebChannel=sl.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,nE=function(){return new sl},tE=function(){return ji()},eE=Zs,O0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,bf=Ii,Mr.COMPLETE="complete",JN=Mr,jc.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Vu=jc,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,ZN=nt}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});const X1="@firebase/firestore",Z1="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Td("@firebase/firestore");function kl(){return Do.logLevel}function ve(n,...e){if(Do.logLevel<=Be.DEBUG){const t=e.map(Uy);Do.debug(`Firestore (${yc}): ${n}`,...t)}}function gi(n,...e){if(Do.logLevel<=Be.ERROR){const t=e.map(Uy);Do.error(`Firestore (${yc}): ${n}`,...t)}}function Zl(n,...e){if(Do.logLevel<=Be.WARN){const t=e.map(Uy);Do.warn(`Firestore (${yc}): ${n}`,...t)}}function Uy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,sE(n,s,t)}function sE(n,e,t){let s=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw gi(s),new Error(s)}function st(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||sE(e,a,s)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends gs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Tn.UNAUTHENTICATED)))}shutdown(){}}class F6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class q6{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new di,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new di)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new rE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class H6{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G6{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new H6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class J1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $6{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const s=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new J1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new J1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Y6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function qe(n,e){return n<e?-1:n>e?1:0}function M0(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return f0(a)===f0(l)?qe(a,l):f0(a)?1:-1}return qe(n.length,e.length)}const K6=55296,Q6=57343;function f0(n){const e=n.charCodeAt(0);return e>=K6&&e<=Q6}function Jl(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="__name__";class mr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Re(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=mr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const s=mr.isNumericId(e),a=mr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?mr.extractNumericId(e).compare(mr.extractNumericId(t)):M0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ma.fromString(e.substring(4,e.length-2))}}class yt extends mr{construct(e,t,s){return new yt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const W6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends mr{construct(e,t,s){return new yn(e,t,s)}static isValidIdentifier(e){return W6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ew}static keyField(){return new yn([ew])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ye(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new ye(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(yt.fromString(e))}static fromName(e){return new Se(yt.fromString(e).popFirst(5))}static empty(){return new Se(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n,e,t){if(!t)throw new ye(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function X6(n,e,t,s){if(e===!0&&s===!0)throw new ye(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tw(n){if(!Se.isDocumentKey(n))throw new ye(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nw(n){if(Se.isDocumentKey(n))throw new ye(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function aE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Er(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nm(n);throw new ye(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ad(n,e){if(!aE(n))throw new ye(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ye(le.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=-62135596800,rw=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*rw);return new xt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sw)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rw}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ad(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Yt("string",xt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new xt(0,0))}static max(){return new ke(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=-1;function Z6(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(s===1e9?new xt(t+1,0):new xt(t,s));return new ba(a,Se.empty(),e)}function J6(n){return new ba(n.readTime,n.key,id)}class ba{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ba(ke.min(),Se.empty(),id)}static max(){return new ba(ke.max(),Se.empty(),id)}}function e5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==t5)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,s)=>{t(e)}))}static reject(e){return new ue(((t,s)=>{s(e)}))}static waitFor(e){return new ue(((t,s)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&t()}),(m=>s(m)))})),u=!0,l===a&&t()}))}static or(e){let t=ue.resolve(!1);for(const s of e)t=t.next((a=>a?ue.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new ue(((s,a)=>{const l=e.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next((y=>{u[p]=y,++h,h===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new ue(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function s5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-1;function Tm(n){return n==null}function Bf(n){return n===0&&1/n==-1/0}function r5(n){return typeof n=="number"&&Number.isInteger(n)&&!Bf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="";function i5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iw(e)),e=a5(n.get(t),e);return iw(e)}function a5(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case oE:t+="";break;default:t+=l}}return t}function iw(n){return n+oE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ra(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new gn(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ow(this.data.getIterator())}getIteratorFrom(e){return new ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new os([])}unionWith(e){let t=new en(yn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new os(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new cE("Invalid base64 string: "+l):l}})(e);return new vn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const o5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(n){if(st(!!n,39018),typeof n=="string"){let e=0;const t=o5.exec(n);if(st(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Na(n){return typeof n=="string"?vn.fromBase64String(n):vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="server_timestamp",dE="__type__",hE="__previous_value__",fE="__local_write_time__";function Fy(n){return(n?.mapValue?.fields||{})[dE]?.stringValue===uE}function Sm(n){const e=n.mapValue.fields[hE];return Fy(e)?Sm(e):e}function ad(n){const e=wa(n.mapValue.fields[fE].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,t,s,a,l,u,h,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Ff="(default)";class od{constructor(e,t){this.projectId=e,this.database=t||Ff}static empty(){return new od("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__type__",c5="__max__",ff={mapValue:{}},pE="__vector__",qf="value";function Ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fy(n)?4:d5(n)?9007199254740991:u5(n)?10:11:Re(28295,{value:n})}function Tr(n,e){if(n===e)return!0;const t=Ea(n);if(t!==Ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ad(n).isEqual(ad(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=wa(a.timestampValue),h=wa(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Na(a.bytesValue).isEqual(Na(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),h=Mt(l.doubleValue);return u===h?Bf(u)===Bf(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Jl(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(aw(u)!==aw(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!Tr(u[m],h[m])))return!1;return!0})(n,e);default:return Re(52216,{left:n})}}function ld(n,e){return(n.values||[]).find((t=>Tr(t,e)))!==void 0}function ec(n,e){if(n===e)return 0;const t=Ea(n),s=Ea(e);if(t!==s)return qe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Mt(l.integerValue||l.doubleValue),m=Mt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,e);case 3:return lw(n.timestampValue,e.timestampValue);case 4:return lw(ad(n),ad(e));case 5:return M0(n.stringValue,e.stringValue);case 6:return(function(l,u){const h=Na(l),m=Na(u);return h.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const y=qe(h[p],m[p]);if(y!==0)return y}return qe(h.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=qe(Mt(l.latitude),Mt(u.latitude));return h!==0?h:qe(Mt(l.longitude),Mt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return cw(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},m=u.fields||{},p=h[qf]?.arrayValue,y=m[qf]?.arrayValue,v=qe(p?.values?.length||0,y?.values?.length||0);return v!==0?v:cw(p,y)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===ff.mapValue&&u===ff.mapValue)return 0;if(l===ff.mapValue)return 1;if(u===ff.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const b=M0(m[v],y[v]);if(b!==0)return b;const N=ec(h[m[v]],p[y[v]]);if(N!==0)return N}return qe(m.length,y.length)})(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function lw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=wa(n),s=wa(e),a=qe(t.seconds,s.seconds);return a!==0?a:qe(t.nanos,s.nanos)}function cw(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=ec(t[a],s[a]);if(l)return l}return qe(t.length,s.length)}function tc(n){return V0(n)}function V0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=wa(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Na(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Se.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=V0(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${V0(t.fields[u])}`;return a+"}"})(n.mapValue):Re(61005,{value:n})}function wf(n){switch(Ea(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sm(n);return e?16+wf(e):16;case 5:return 2*n.stringValue.length;case 6:return Na(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+wf(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Ra(s.fields,((l,u)=>{a+=l.length+wf(u)})),a})(n.mapValue);default:throw Re(13486,{value:n})}}function uw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function L0(n){return!!n&&"integerValue"in n}function qy(n){return!!n&&"arrayValue"in n}function dw(n){return!!n&&"nullValue"in n}function hw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nf(n){return!!n&&"mapValue"in n}function u5(n){return(n?.mapValue?.fields||{})[mE]?.stringValue===pE}function $u(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ra(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=$u(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$u(n.arrayValue.values[t]);return e}return{...n}}function d5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===c5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(t)}setAll(e){let t=yn.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=h.popLast()}u?s[h.lastSegment()]=$u(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Nf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Nf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ra(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new qn($u(this.value))}}function gE(n){const e=[];return Ra(n.fields,((t,s)=>{const a=new yn([t]);if(Nf(s)){const l=gE(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new os(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t,s,a,l,u,h){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Sn(e,0,ke.min(),ke.min(),ke.min(),qn.empty(),0)}static newFoundDocument(e,t,s,a){return new Sn(e,1,t,ke.min(),s,a,0)}static newNoDocument(e,t){return new Sn(e,2,t,ke.min(),ke.min(),qn.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,ke.min(),ke.min(),qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.position=e,this.inclusive=t}}function fw(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?s=Se.comparator(Se.fromName(u.referenceValue),t.key):s=ec(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function mw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t="asc"){this.field=e,this.dir=t}}function h5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class $t extends yE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new m5(e,t,s):t==="array-contains"?new y5(e,s):t==="in"?new x5(e,s):t==="not-in"?new v5(e,s):t==="array-contains-any"?new _5(e,s):new $t(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new p5(e,s):new g5(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ec(t,this.value)):t!==null&&Ea(this.value)===Ea(t)&&this.matchesComparison(ec(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends yE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qs(e,t)}matches(e){return xE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xE(n){return n.op==="and"}function vE(n){return f5(n)&&xE(n)}function f5(n){for(const e of n.filters)if(e instanceof Qs)return!1;return!0}function U0(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+tc(n.value);if(vE(n))return n.filters.map((e=>U0(e))).join(",");{const e=n.filters.map((t=>U0(t))).join(",");return`${n.op}(${e})`}}function _E(n,e){return n instanceof $t?(function(s,a){return a instanceof $t&&s.op===a.op&&s.field.isEqual(a.field)&&Tr(s.value,a.value)})(n,e):n instanceof Qs?(function(s,a){return a instanceof Qs&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&_E(u,a.filters[h])),!0):!1})(n,e):void Re(19439)}function bE(n){return n instanceof $t?(function(t){return`${t.field.canonicalString()} ${t.op} ${tc(t.value)}`})(n):n instanceof Qs?(function(t){return t.op.toString()+" {"+t.getFilters().map(bE).join(" ,")+"}"})(n):"Filter"}class m5 extends $t{constructor(e,t,s){super(e,t,s),this.key=Se.fromName(s.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class p5 extends $t{constructor(e,t){super(e,"in",t),this.keys=wE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class g5 extends $t{constructor(e,t){super(e,"not-in",t),this.keys=wE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wE(n,e){return(e.arrayValue?.values||[]).map((t=>Se.fromName(t.referenceValue)))}class y5 extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qy(t)&&ld(t.arrayValue,this.value)}}class x5 extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ld(this.value.arrayValue,t)}}class v5 extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ld(this.value.arrayValue,t)}}class _5 extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>ld(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,t=null,s=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function pw(n,e=null,t=[],s=[],a=null,l=null,u=null){return new b5(n,e,t,s,a,l,u)}function Hy(n){const e=Pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>U0(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Tm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>tc(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>tc(s))).join(",")),e.Te=t}return e.Te}function Gy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!h5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_E(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mw(n.startAt,e.startAt)&&mw(n.endAt,e.endAt)}function z0(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t=null,s=[],a=[],l=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function w5(n,e,t,s,a,l,u,h){return new _c(n,e,t,s,a,l,u,h)}function $y(n){return new _c(n)}function gw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function NE(n){return n.collectionGroup!==null}function Yu(n){const e=Pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new en(yn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new cd(l,s))})),t.has(yn.keyField().canonicalString())||e.Ie.push(new cd(yn.keyField(),s))}return e.Ie}function xr(n){const e=Pe(n);return e.Ee||(e.Ee=N5(e,Yu(n))),e.Ee}function N5(n,e){if(n.limitType==="F")return pw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new cd(a.field,l)}));const t=n.endAt?new Hf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Hf(n.startAt.position,n.startAt.inclusive):null;return pw(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function B0(n,e){const t=n.filters.concat([e]);return new _c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gf(n,e,t){return new _c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Am(n,e){return Gy(xr(n),xr(e))&&n.limitType===e.limitType}function EE(n){return`${Hy(xr(n))}|lt:${n.limitType}`}function Pl(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>bE(a))).join(", ")}]`),Tm(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>tc(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>tc(a))).join(",")),`Target(${s})`})(xr(n))}; limitType=${n.limitType})`}function jm(n,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Se.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,a){for(const l of Yu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,m){const p=fw(u,h,m);return u.inclusive?p<=0:p<0})(s.startAt,Yu(s),a)||s.endAt&&!(function(u,h,m){const p=fw(u,h,m);return u.inclusive?p>=0:p>0})(s.endAt,Yu(s),a))})(n,e)}function E5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TE(n){return(e,t)=>{let s=!1;for(const a of Yu(n)){const l=T5(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function T5(n,e,t){const s=n.field.isKeyField()?Se.comparator(e.key,t.key):(function(l,u,h){const m=u.data.field(l),p=h.data.field(l);return m!==null&&p!==null?ec(m,p):Re(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=new Ct(Se.comparator);function yi(){return S5}const SE=new Ct(Se.comparator);function Lu(...n){let e=SE;for(const t of n)e=e.insert(t.key,t);return e}function AE(n){let e=SE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function bo(){return Ku()}function jE(){return Ku()}function Ku(){return new Uo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const A5=new Ct(Se.comparator),j5=new en(Se.comparator);function He(...n){let e=j5;for(const t of n)e=e.add(t);return e}const C5=new en(qe);function R5(){return C5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function CE(n){return{integerValue:""+n}}function I5(n,e){return r5(e)?CE(e):Yy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this._=void 0}}function D5(n,e,t){return n instanceof ud?(function(a,l){const u={fields:{[dE]:{stringValue:uE},[fE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Fy(l)&&(l=Sm(l)),l&&(u.fields[hE]=l),{mapValue:u}})(t,e):n instanceof nc?IE(n,e):n instanceof dd?DE(n,e):(function(a,l){const u=RE(a,l),h=yw(u)+yw(a.Ae);return L0(u)&&L0(a.Ae)?CE(h):Yy(a.serializer,h)})(n,e)}function k5(n,e,t){return n instanceof nc?IE(n,e):n instanceof dd?DE(n,e):t}function RE(n,e){return n instanceof $f?(function(s){return L0(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class ud extends Cm{}class nc extends Cm{constructor(e){super(),this.elements=e}}function IE(n,e){const t=kE(e);for(const s of n.elements)t.some((a=>Tr(a,s)))||t.push(s);return{arrayValue:{values:t}}}class dd extends Cm{constructor(e){super(),this.elements=e}}function DE(n,e){let t=kE(e);for(const s of n.elements)t=t.filter((a=>!Tr(a,s)));return{arrayValue:{values:t}}}class $f extends Cm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yw(n){return Mt(n.integerValue||n.doubleValue)}function kE(n){return qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t){this.field=e,this.transform=t}}function P5(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof nc&&a instanceof nc||s instanceof dd&&a instanceof dd?Jl(s.elements,a.elements,Tr):s instanceof $f&&a instanceof $f?Tr(s.Ae,a.Ae):s instanceof ud&&a instanceof ud})(n.transform,e.transform)}class O5{constructor(e,t){this.version=e,this.transformResults=t}}class Gs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gs}static exists(e){return new Gs(void 0,e)}static updateTime(e){return new Gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rm{}function OE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new VE(n.key,Gs.none()):new jd(n.key,n.data,Gs.none());{const t=n.data,s=qn.empty();let a=new en(yn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ia(n.key,s,new os(a.toArray()),Gs.none())}}function M5(n,e,t){n instanceof jd?(function(a,l,u){const h=a.value.clone(),m=vw(a.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Ia?(function(a,l,u){if(!Ef(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=vw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(ME(a)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Qu(n,e,t,s){return n instanceof jd?(function(l,u,h,m){if(!Ef(l.precondition,u))return h;const p=l.value.clone(),y=_w(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,s):n instanceof Ia?(function(l,u,h,m){if(!Ef(l.precondition,u))return h;const p=_w(l.fieldTransforms,m,u),y=u.data;return y.setAll(ME(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,e,t,s):(function(l,u,h){return Ef(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function V5(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=RE(s.transform,a||null);l!=null&&(t===null&&(t=qn.empty()),t.set(s.field,l))}return t||null}function xw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Jl(s,a,((l,u)=>P5(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jd extends Rm{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ia extends Rm{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ME(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function vw(n,e,t){const s=new Map;st(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,h=e.data.field(l.field);s.set(l.field,k5(u,h,t[a]))}return s}function _w(n,e,t){const s=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);s.set(a.field,D5(l,u,e))}return s}class VE extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L5 extends Rm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&M5(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Qu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Qu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=jE();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(a.key)?null:h;const m=OE(u,h);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(ke.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,((t,s)=>xw(t,s)))&&Jl(this.baseMutations,e.baseMutations,((t,s)=>xw(t,s)))}}class Ky{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){st(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return A5})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Ky(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,We;function F5(n){switch(n){case le.OK:return Re(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function LE(n){if(n===void 0)return gi("GRPC error has no .code"),le.UNKNOWN;switch(n){case qt.OK:return le.OK;case qt.CANCELLED:return le.CANCELLED;case qt.UNKNOWN:return le.UNKNOWN;case qt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case qt.INTERNAL:return le.INTERNAL;case qt.UNAVAILABLE:return le.UNAVAILABLE;case qt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case qt.NOT_FOUND:return le.NOT_FOUND;case qt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case qt.ABORTED:return le.ABORTED;case qt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case qt.DATA_LOSS:return le.DATA_LOSS;default:return Re(39323,{code:n})}}(We=qt||(qt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new ma([4294967295,4294967295],0);function bw(n){const e=q5().encode(n),t=new XN;return t.update(e),new Uint8Array(t.digest())}function ww(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ma([t,s],0),new ma([a,l],0)]}class Qy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(s<0)throw new Uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ma.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(ma.fromNumber(s)));return a.compare(H5)===1&&(a=new ma([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=bw(e),[s,a]=ww(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Qy(l,a,t);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=bw(e),[s,a]=ww(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Im(ke.min(),a,new Ct(qe),yi(),He())}}class Cd{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Cd(s,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class UE{constructor(e,t){this.targetId=e,this.Ce=t}}class zE{constructor(e,t,s=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Nw{constructor(){this.ve=0,this.Fe=Ew(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),s=He();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Re(38017,{changeType:l})}})),new Cd(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Ew()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class G5{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=mf(),this.He=mf(),this.Ye=new Ct(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(z0(l))if(s===0){const u=new Se(l.path);this.et(t,u,Sn.newNoDocument(u,ke.min()))}else st(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,h;try{u=Na(s).toUint8Array()}catch(m){if(m instanceof cE)return Zl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new Qy(u,a,l)}catch(m){return Zl(m instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&z0(h.target)){const m=new Se(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Sn.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let s=He();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Im(e,t,this.Ye,this.je,s);return this.je=yi(),this.Je=mf(),this.He=mf(),this.Ye=new Ct(qe),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Nw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new en(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new en(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function mf(){return new Ct(Se.comparator)}function Ew(){return new Ct(Se.comparator)}const $5={asc:"ASCENDING",desc:"DESCENDING"},Y5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K5={and:"AND",or:"OR"};class Q5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function F0(n,e){return n.useProto3Json||Tm(e)?e:{value:e}}function Yf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function W5(n,e){return Yf(n,e.toTimestamp())}function vr(n){return st(!!n,49232),ke.fromTimestamp((function(t){const s=wa(t);return new xt(s.seconds,s.nanos)})(n))}function Wy(n,e){return q0(n,e).canonicalString()}function q0(n,e){const t=(function(a){return new yt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function FE(n){const e=yt.fromString(n);return st(YE(e),10190,{key:e.toString()}),e}function H0(n,e){return Wy(n.databaseId,e.path)}function m0(n,e){const t=FE(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(HE(t))}function qE(n,e){return Wy(n.databaseId,e)}function X5(n){const e=FE(n);return e.length===4?yt.emptyPath():HE(e)}function G0(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HE(n){return st(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Tw(n,e,t){return{name:H0(n,e),fields:t.value.mapValue.fields}}function Z5(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(st(y===void 0||typeof y=="string",58123),vn.fromBase64String(y||"")):(st(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),vn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?le.UNKNOWN:LE(p.code);return new ye(y,p.message||"")})(u);t=new zE(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=m0(n,s.document.name),l=vr(s.document.updateTime),u=s.document.createTime?vr(s.document.createTime):ke.min(),h=new qn({mapValue:{fields:s.document.fields}}),m=Sn.newFoundDocument(a,l,u,h),p=s.targetIds||[],y=s.removedTargetIds||[];t=new Tf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=m0(n,s.document),l=s.readTime?vr(s.readTime):ke.min(),u=Sn.newNoDocument(a,l),h=s.removedTargetIds||[];t=new Tf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=m0(n,s.document),l=s.removedTargetIds||[];t=new Tf([],l,a,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new B5(a,l),h=s.targetId;t=new UE(h,u)}}return t}function J5(n,e){let t;if(e instanceof jd)t={update:Tw(n,e.key,e.value)};else if(e instanceof VE)t={delete:H0(n,e.key)};else if(e instanceof Ia)t={update:Tw(n,e.key,e.data),updateMask:lD(e.fieldMask)};else{if(!(e instanceof L5))return Re(16599,{Vt:e.type});t={verify:H0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof ud)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof dd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof $f)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Re(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:W5(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)})(n,e.precondition)),t}function eD(n,e){return n&&n.length>0?(st(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?vr(a.updateTime):vr(l);return u.isEqual(ke.min())&&(u=vr(l)),new O5(u,a.transformResults||[])})(t,e)))):[]}function tD(n,e){return{documents:[qE(n,e.path)]}}function nD(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=qE(n,a);const l=(function(p){if(p.length!==0)return $E(Qs.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:Ol(b.field),direction:iD(b.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=F0(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function sD(n){let e=X5(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){st(s===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(v){const b=GE(v);return b instanceof Qs&&vE(b)?b.getFilters():[b]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((b=>(function(j){return new cd(Ml(j.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(b)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let b;return b=typeof v=="object"?v.value:v,Tm(b)?null:b})(t.limit));let m=null;t.startAt&&(m=(function(v){const b=!!v.before,N=v.values||[];return new Hf(N,b)})(t.startAt));let p=null;return t.endAt&&(p=(function(v){const b=!v.before,N=v.values||[];return new Hf(N,b)})(t.endAt)),w5(e,a,u,l,h,"F",m,p)}function rD(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ml(t.unaryFilter.field);return $t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ml(t.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ml(t.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ml(t.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $t.create(Ml(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Qs.create(t.compositeFilter.filters.map((s=>GE(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(n):Re(30097,{filter:n})}function iD(n){return $5[n]}function aD(n){return Y5[n]}function oD(n){return K5[n]}function Ol(n){return{fieldPath:n.canonicalString()}}function Ml(n){return yn.fromServerFormat(n.fieldPath)}function $E(n){return n instanceof $t?(function(t){if(t.op==="=="){if(hw(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NAN"}};if(dw(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hw(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NOT_NAN"}};if(dw(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(t.field),op:aD(t.op),value:t.value}}})(n):n instanceof Qs?(function(t){const s=t.getFilters().map((a=>$E(a)));return s.length===1?s[0]:{compositeFilter:{op:oD(t.op),filters:s}}})(n):Re(54877,{filter:n})}function lD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function YE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,s,a,l=ke.min(),u=ke.min(),h=vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.yt=e}}function uD(n){const e=sD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.Cn=new hD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ba.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ba.min())}updateCollectionGroup(e,t,s){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class hD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new en(yt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new en(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KE=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(KE,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sc(0)}static cr(){return new sc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="LruGarbageCollector",fD=1048576;function jw([n,e],[t,s]){const a=qe(n,t);return a===0?qe(e,s):a}class mD{constructor(e){this.Ir=e,this.buffer=new en(jw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();jw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(Aw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vc(t)?ve(Aw,"Ignoring IndexedDB error during garbage collection: ",t):await xc(t)}await this.Vr(3e5)}))}}class gD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Em.ce);const s=new mD(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Sw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,u,h,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(e,s,t)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),kl()<=Be.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function yD(n,e){return new gD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.changes=new Uo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ue.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Qu(s.mutation,a,os.empty(),xt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=He()){const a=bo();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let u=Lu();return l.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=bo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,He())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,s,a){let l=yi();const u=Ku(),h=(function(){return Ku()})();return t.forEach(((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ia)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Qu(y.mutation,p,y.mutation.getFieldMask(),xt.now())):u.set(p.key,os.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),t.forEach(((p,y)=>h.set(p,new vD(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const s=Ku();let a=new Ct(((u,h)=>u-h)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let y=s.get(m)||os.empty();y=h.applyToLocalView(p,y),s.set(m,y);const v=(a.get(h.batchId)||He()).add(m);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,y=m.value,v=jE();y.forEach((b=>{if(!l.has(b)){const N=OE(t.get(b),s.get(b));N!==null&&v.set(b,N),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ue.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(u){return Se.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ue.resolve(bo());let h=id,m=l;return u.next((p=>ue.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,He()))).next((y=>({batchId:h,changes:AE(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next((s=>{let a=Lu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=Lu();return this.indexManager.getCollectionParents(e,l).next((h=>ue.forEach(h,(m=>{const p=(function(v,b){return new _c(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Sn.newInvalidDocument(y)))}));let h=Lu();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Qu(y.mutation,p,os.empty(),xt.now()),jm(t,p)&&(h=h.insert(m,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:vr(a.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:uD(a.bundledQuery),readTime:vr(a.readTime)}})(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.overlays=new Ct(Se.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const s=bo();return ue.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.St(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,t,s){const a=bo(),l=t.length+1,u=new Se(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Ct(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=bo(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=bo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return ue.resolve(h)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new z5(t,s));let l=this.qr.get(t);l===void 0&&(l=He(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.Qr=new en(on.$r),this.Ur=new en(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new on(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new on(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Se(new yt([])),s=new on(t,e),a=new on(t,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Se(new yt([])),s=new on(t,e),a=new on(t,e+1);let l=He();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new on(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class on{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Se.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new en(on.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new U5(l,t,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new on(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?By:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new on(t,0),a=new on(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new en(qe);return t.forEach((a=>{const l=new on(a,0),u=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{s=s.add(h.Yr)}))})),ue.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Se.isDocumentKey(l)||(l=l.child(""));const u=new on(new Se(l),0);let h=new en(qe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Yr)),!0)}),u),ue.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){st(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ue.forEach(t.mutations,(a=>{const l=new on(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new on(t,0),a=this.Zr.firstAfterOrEqual(s);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.ri=e,this.docs=(function(){return new Ct(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ue.resolve(s?s.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let s=yi();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Sn.newInvalidDocument(a))})),ue.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=yi();const u=t.path,h=new Se(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||e5(J6(y),s)<=0||(a.has(y.key)||jm(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Re(9500)}ii(e,t){return ue.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new SD(this)}getSize(e){return ue.resolve(this.size)}}class SD extends xD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.persistence=e,this.si=new Uo((t=>Hy(t)),Gy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Xy,this.targetCount=0,this.ai=sc.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new sc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ue.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ue.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ue.resolve(s)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Em(0),this.li=!1,this.li=!0,this.hi=new ND,this.referenceDelegate=e(this),this.Pi=new AD(this),this.indexManager=new dD,this.remoteDocumentCache=(function(a){return new TD(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new cD(t),this.Ii=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new ED(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ve("MemoryPersistence","Starting transaction:",e);const a=new jD(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ue.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class jD extends n5{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Ri=new Xy,this.Vi=null}static mi(e){return new Zy(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ue.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(s=>{const a=Se.fromPath(s);return this.gi(e,a).next((l=>{l||t.removeEntry(a,ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Kf{constructor(e,t){this.persistence=e,this.pi=new Uo((s=>i5(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=yD(this,t)}static mi(e,t){return new Kf(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ue.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((h=>{h||(s++,l.removeEntry(u,ke.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wf(e.data.value)),t}br(e,t,s){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ue.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=He(),a=He();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Jy(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return X4()?8:s5(Cn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new CD;return this.Ss(e,t,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>l.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(kl()<=Be.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Pl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(kl()<=Be.DEBUG&&ve("QueryEngine","Query:",Pl(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(kl()<=Be.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Pl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):ue.resolve())}ys(e,t){if(gw(t))return ue.resolve(null);let s=xr(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Gf(t,null,"F"),s=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=He(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(t,h);return this.Cs(t,p,u,m.readTime)?this.ys(e,Gf(t,null,"F")):this.vs(e,p,t,m)}))))})))))}ws(e,t,s,a){return gw(t)||a.isEqual(ke.min())?ue.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,s,a)?ue.resolve(null):(kl()<=Be.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Pl(t)),this.vs(e,u,t,Z6(a,id)).next((h=>h)))}))}Ds(e,t){let s=new en(TE(e));return t.forEach(((a,l)=>{jm(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return kl()<=Be.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Pl(t)),this.ps.getDocumentsMatchingQuery(e,t,ba.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="LocalStore",ID=3e8;class DD{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Ct(qe),this.xs=new Uo((l=>Hy(l)),Gy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _D(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function kD(n,e,t,s){return new DD(n,e,t,s)}async function WE(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let m=He();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function PD(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,y){const v=p.batch,b=v.keys();let N=ue.resolve();return b.forEach((j=>{N=N.next((()=>y.getEntry(m,j))).next((T=>{const R=p.docVersions.get(j);st(R!==null,48541),T.version.compareTo(R)<0&&(v.applyToRemoteDocument(T,p),T.isValidDocument()&&(T.setReadTime(p.commitVersion),y.addEntry(T)))}))})),N.next((()=>h.mutationQueue.removeMutationBatch(m,v)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let m=He();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function XE(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function OD(n,e){const t=Pe(n),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const b=a.get(v);if(!b)return;h.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,v))));let N=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?N=N.withResumeToken(vn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,s)),a=a.insert(v,N),(function(T,R,M){return T.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=ID?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(b,N,y)&&h.push(t.Pi.updateTargetData(l,N))}));let m=yi(),p=He();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(MD(l,u,e.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!s.isEqual(ke.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return ue.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function MD(n,e,t){let s=He(),a=He();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let u=yi();return t.forEach(((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(ke.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):ve(ex,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function VD(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=By),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function LD(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((l=>l?(a=l,ue.resolve(a)):t.Pi.allocateTargetId(s).next((u=>(a=new la(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function $0(n,e,t){const s=Pe(n),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!vc(u))throw u;ve(ex,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Cw(n,e,t){const s=Pe(n);let a=ke.min(),l=He();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const v=Pe(m),b=v.xs.get(y);return b!==void 0?ue.resolve(v.Ms.get(b)):v.Pi.getTargetData(p,y)})(s,u,xr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,t?a:ke.min(),t?l:He()))).next((h=>(UD(s,E5(e),h),{documents:h,Qs:l})))))}function UD(n,e,t){let s=n.Os.get(e)||ke.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class Rw{constructor(){this.activeTargetIds=R5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zD{constructor(){this.Mo=new Rw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="ConnectivityMonitor";class Dw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(Iw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(Iw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf=null;function Y0(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="RestConnection",FD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Ff?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const u=Y0(),h=this.zo(e,t.toUriEncodedString());ve(p0,`Sending RPC '${e}' ${u}:`,h,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(h),y=Lo(p);return this.Jo(e,h,m,s,y).then((v=>(ve(p0,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Zl(p0,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",s),v}))}Ho(e,t,s,a,l,u){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+yc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const s=FD[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class GD extends qD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const u=Y0();return new Promise(((h,m)=>{const p=new ZN;p.setWithCredentials(!0),p.listenOnce(JN.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case bf.NO_ERROR:const v=p.getResponseJson();ve(En,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case bf.TIMEOUT:ve(En,`RPC '${e}' ${u} timed out`),m(new ye(le.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const b=p.getStatus();if(ve(En,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N?.error;if(j&&j.status&&j.message){const T=(function(M){const k=M.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(k)>=0?k:le.UNKNOWN})(j.status);m(new ye(T,j.message))}else m(new ye(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ye(le.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ve(En,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);ve(En,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",y,s,15)}))}T_(e,t,s){const a=Y0(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nE(),h=tE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ve(En,`Creating RPC '${e}' stream ${a}: ${y}`,m);const v=u.createWebChannel(y,m);this.I_(v);let b=!1,N=!1;const j=new HD({Yo:R=>{N?ve(En,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(b||(ve(En,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),ve(En,`RPC '${e}' stream ${a} sending:`,R),v.send(R))},Zo:()=>v.close()}),T=(R,M,k)=>{R.listen(M,(q=>{try{k(q)}catch(L){setTimeout((()=>{throw L}),0)}}))};return T(v,Vu.EventType.OPEN,(()=>{N||(ve(En,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),T(v,Vu.EventType.CLOSE,(()=>{N||(N=!0,ve(En,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(v))})),T(v,Vu.EventType.ERROR,(R=>{N||(N=!0,Zl(En,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),j.a_(new ye(le.UNAVAILABLE,"The operation could not be completed")))})),T(v,Vu.EventType.MESSAGE,(R=>{if(!N){const M=R.data[0];st(!!M,16349);const k=M,q=k?.error||k[0]?.error;if(q){ve(En,`RPC '${e}' stream ${a} received error:`,q);const L=q.status;let H=(function(S){const A=qt[S];if(A!==void 0)return LE(A)})(L),Q=q.message;H===void 0&&(H=le.INTERNAL,Q="Unknown error status: "+L+" with message "+q.message),N=!0,j.a_(new ye(H,Q)),v.close()}else ve(En,`RPC '${e}' stream ${a} received:`,M),j.u_(M)}})),T(h,eE.STAT_EVENT,(R=>{R.stat===O0.PROXY?ve(En,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===O0.NOPROXY&&ve(En,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function g0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n){return new Q5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="PersistentStream";class JE{constructor(e,t,s,a,l,u,h,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new ye(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(kw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(kw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $D extends JE{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Z5(this.serializer,e),s=(function(l){if(!("targetChange"in l))return ke.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?vr(u.readTime):ke.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=G0(this.serializer),t.addTarget=(function(l,u){let h;const m=u.target;if(h=z0(m)?{documents:tD(l,m)}:{query:nD(l,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=BE(l,u.resumeToken);const p=F0(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(ke.min())>0){h.readTime=Yf(l,u.snapshotVersion.toTimestamp());const p=F0(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const s=rD(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=G0(this.serializer),t.removeTarget=e,this.q_(t)}}class YD extends JE{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=eD(e.writeResults,e.commitTime),s=vr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=G0(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>J5(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{}class QD extends KD{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,q0(t,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(le.UNKNOWN,l.toString())}))}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,q0(t,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="RemoteStore";class XD{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{zo(this)&&(ve(ko,"Restarting streams for network reachability change."),await(async function(m){const p=Pe(m);p.Ea.add(4),await Rd(p),p.Ra.set("Unknown"),p.Ea.delete(4),await km(p)})(this))}))})),this.Ra=new WD(s,a)}}async function km(n){if(zo(n))for(const e of n.da)await e(!0)}async function Rd(n){for(const e of n.da)await e(!1)}function eT(n,e){const t=Pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),rx(t)?sx(t):bc(t).O_()&&nx(t,e))}function tx(n,e){const t=Pe(n),s=bc(t);t.Ia.delete(e),s.O_()&&tT(t,e),t.Ia.size===0&&(s.O_()?s.L_():zo(t)&&t.Ra.set("Unknown"))}function nx(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bc(n).Y_(e)}function tT(n,e){n.Va.Ue(e),bc(n).Z_(e)}function sx(n){n.Va=new G5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),bc(n).start(),n.Ra.ua()}function rx(n){return zo(n)&&!bc(n).x_()&&n.Ia.size>0}function zo(n){return Pe(n).Ea.size===0}function nT(n){n.Va=void 0}async function ZD(n){n.Ra.set("Online")}async function JD(n){n.Ia.forEach(((e,t)=>{nx(n,e)}))}async function e3(n,e){nT(n),rx(n)?(n.Ra.ha(e),sx(n)):n.Ra.set("Unknown")}async function t3(n,e,t){if(n.Ra.set("Online"),e instanceof zE&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(s){ve(ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qf(n,s)}else if(e instanceof Tf?n.Va.Ze(e):e instanceof UE?n.Va.st(e):n.Va.tt(e),!t.isEqual(ke.min()))try{const s=await XE(n.localStore);t.compareTo(s)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(vn.EMPTY_BYTE_STRING,y.snapshotVersion)),tT(l,m);const v=new la(y.target,m,p,y.sequenceNumber);nx(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){ve(ko,"Failed to raise snapshot:",s),await Qf(n,s)}}async function Qf(n,e,t){if(!vc(e))throw e;n.Ea.add(1),await Rd(n),n.Ra.set("Offline"),t||(t=()=>XE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve(ko,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await km(n)}))}function sT(n,e){return e().catch((t=>Qf(n,t,e)))}async function Pm(n){const e=Pe(n),t=Ta(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:By;for(;n3(e);)try{const a=await VD(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,s3(e,a)}catch(a){await Qf(e,a)}rT(e)&&iT(e)}function n3(n){return zo(n)&&n.Ta.length<10}function s3(n,e){n.Ta.push(e);const t=Ta(n);t.O_()&&t.X_&&t.ea(e.mutations)}function rT(n){return zo(n)&&!Ta(n).x_()&&n.Ta.length>0}function iT(n){Ta(n).start()}async function r3(n){Ta(n).ra()}async function i3(n){const e=Ta(n);for(const t of n.Ta)e.ea(t.mutations)}async function a3(n,e,t){const s=n.Ta.shift(),a=Ky.from(s,e,t);await sT(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Pm(n)}async function o3(n,e){e&&Ta(n).X_&&await(async function(s,a){if((function(u){return F5(u)&&u!==le.ABORTED})(a.code)){const l=s.Ta.shift();Ta(s).B_(),await sT(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Pm(s)}})(n,e),rT(n)&&iT(n)}async function Pw(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),ve(ko,"RemoteStore received new credentials");const s=zo(t);t.Ea.add(3),await Rd(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await km(t)}async function l3(n,e){const t=Pe(n);e?(t.Ea.delete(2),await km(t)):e||(t.Ea.add(2),await Rd(t),t.Ra.set("Unknown"))}function bc(n){return n.ma||(n.ma=(function(t,s,a){const l=Pe(t);return l.sa(),new $D(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:ZD.bind(null,n),t_:JD.bind(null,n),r_:e3.bind(null,n),H_:t3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),rx(n)?sx(n):n.Ra.set("Unknown")):(await n.ma.stop(),nT(n))}))),n.ma}function Ta(n){return n.fa||(n.fa=(function(t,s,a){const l=Pe(t);return l.sa(),new YD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:r3.bind(null,n),r_:o3.bind(null,n),ta:i3.bind(null,n),na:a3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Pm(n)):(await n.fa.stop(),n.Ta.length>0&&(ve(ko,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,h=new ix(e,t,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ax(n,e){if(gi("AsyncQueue",`${e}: ${n}`),vc(n))return new ye(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Se.comparator(t.key,s.key):(t,s)=>Se.comparator(t.key,s.key),this.keyedMap=Lu(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ul;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.ga=new Ct(Se.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class rc{constructor(e,t,s,a,l,u,h,m,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new rc(e,t,Ul.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class u3{constructor(){this.queries=Mw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Pe(t),l=a.queries;a.queries=Mw(),l.forEach(((u,h)=>{for(const m of h.Sa)m.onError(s)}))})(this,new ye(le.ABORTED,"Firestore shutting down"))}}function Mw(){return new Uo((n=>EE(n)),Am)}async function aT(n,e){const t=Pe(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new c3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=ax(u,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&ox(t)}async function oT(n,e){const t=Pe(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function d3(n,e){const t=Pe(n);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&ox(t)}function h3(n,e,t){const s=Pe(n),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function ox(n){n.Ca.forEach((e=>{e.next()}))}var K0,Vw;(Vw=K0||(K0={})).Ma="default",Vw.Cache="cache";class lT{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new rc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==K0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.key=e}}class uT{constructor(e){this.key=e}}class f3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=TE(e),this.tu=new Ul(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Ow,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const b=a.get(y),N=jm(this.query,v)?v:null,j=!!b&&this.mutatedKeys.has(b.key),T=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let R=!1;b&&N?b.data.isEqual(N.data)?j!==T&&(s.track({type:3,doc:N}),R=!0):this.su(b,N)||(s.track({type:2,doc:N}),R=!0,(m&&this.eu(N,m)>0||p&&this.eu(N,p)<0)&&(h=!0)):!b&&N?(s.track({type:0,doc:N}),R=!0):b&&!N&&(s.track({type:1,doc:b}),R=!0,(m||p)&&(h=!0)),R&&(N?(u=u.add(N),l=T?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(N,j){const T=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:R})}};return T(N)-T(j)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new rc(this.query,e.tu,l,u,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ow,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new uT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new cT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lx="SyncEngine";class m3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class p3{constructor(e){this.key=e,this.hu=!1}}class g3{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Uo((h=>EE(h)),Am),this.Iu=new Map,this.Eu=new Set,this.du=new Ct(Se.comparator),this.Au=new Map,this.Ru=new Xy,this.Vu={},this.mu=new Map,this.fu=sc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function y3(n,e,t=!0){const s=gT(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await dT(s,e,t,!0),a}async function x3(n,e){const t=gT(n);await dT(t,e,!0,!1)}async function dT(n,e,t,s){const a=await LD(n.localStore,xr(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let h;return s&&(h=await v3(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&eT(n.remoteStore,a),h}async function v3(n,e,t,s,a){n.pu=(v,b,N)=>(async function(T,R,M,k){let q=R.view.ru(M);q.Cs&&(q=await Cw(T.localStore,R.query,!1).then((({documents:O})=>R.view.ru(O,q))));const L=k&&k.targetChanges.get(R.targetId),H=k&&k.targetMismatches.get(R.targetId)!=null,Q=R.view.applyChanges(q,T.isPrimaryClient,L,H);return Uw(T,R.targetId,Q.au),Q.snapshot})(n,v,b,N);const l=await Cw(n.localStore,e,!0),u=new f3(e,l.Qs),h=u.ru(l.documents),m=Cd.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,m);Uw(n,t,p.au);const y=new m3(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function _3(n,e,t){const s=Pe(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Am(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await $0(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&tx(s.remoteStore,a.targetId),Q0(s,a.targetId)})).catch(xc)):(Q0(s,a.targetId),await $0(s.localStore,a.targetId,!0))}async function b3(n,e){const t=Pe(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),tx(t.remoteStore,s.targetId))}async function w3(n,e,t){const s=C3(n);try{const a=await(function(u,h){const m=Pe(u),p=xt.now(),y=h.reduce(((N,j)=>N.add(j.key)),He());let v,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let j=yi(),T=He();return m.Ns.getEntries(N,y).next((R=>{j=R,j.forEach(((M,k)=>{k.isValidDocument()||(T=T.add(M))}))})).next((()=>m.localDocuments.getOverlayedDocuments(N,j))).next((R=>{v=R;const M=[];for(const k of h){const q=V5(k,v.get(k.key).overlayedDocument);q!=null&&M.push(new Ia(k.key,q,gE(q.value.mapValue),Gs.exists(!0)))}return m.mutationQueue.addMutationBatch(N,p,M,h)})).next((R=>{b=R;const M=R.applyToLocalDocumentSet(v,T);return m.documentOverlayCache.saveOverlays(N,R.batchId,M)}))})).then((()=>({batchId:b.batchId,changes:AE(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new Ct(qe)),p=p.insert(h,m),u.Vu[u.currentUser.toKey()]=p})(s,a.batchId,t),await Id(s,a.changes),await Pm(s.remoteStore)}catch(a){const l=ax(a,"Failed to persist write");t.reject(l)}}async function hT(n,e){const t=Pe(n);try{const s=await OD(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?st(u.hu,14607):a.removedDocuments.size>0&&(st(u.hu,42227),u.hu=!1))})),await Id(t,s,e)}catch(s){await xc(s)}}function Lw(n,e,t){const s=Pe(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=Pe(u);m.onlineState=h;let p=!1;m.queries.forEach(((y,v)=>{for(const b of v.Sa)b.va(h)&&(p=!0)})),p&&ox(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function N3(n,e,t){const s=Pe(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new Ct(Se.comparator);u=u.insert(l,Sn.newNoDocument(l,ke.min()));const h=He().add(l),m=new Im(ke.min(),new Map,new Ct(qe),u,h);await hT(s,m),s.du=s.du.remove(l),s.Au.delete(e),cx(s)}else await $0(s.localStore,e,!1).then((()=>Q0(s,e,t))).catch(xc)}async function E3(n,e){const t=Pe(n),s=e.batch.batchId;try{const a=await PD(t.localStore,e);mT(t,s,null),fT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Id(t,a)}catch(a){await xc(a)}}async function T3(n,e,t){const s=Pe(n);try{const a=await(function(u,h){const m=Pe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,h).next((v=>(st(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);mT(s,e,t),fT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Id(s,a)}catch(a){await xc(a)}}function fT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function mT(n,e,t){const s=Pe(n);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Q0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||pT(n,s)}))}function pT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(tx(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),cx(n))}function Uw(n,e,t){for(const s of t)s instanceof cT?(n.Ru.addReference(s.key,e),S3(n,s)):s instanceof uT?(ve(lx,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||pT(n,s.key)):Re(19791,{wu:s})}function S3(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ve(lx,"New document in limbo: "+t),n.Eu.add(s),cx(n))}function cx(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Se(yt.fromString(e)),s=n.fu.next();n.Au.set(s,new p3(t)),n.du=n.du.insert(t,s),eT(n.remoteStore,new la(xr($y(t.path)),s,"TargetPurposeLimboResolution",Em.ce))}}async function Id(n,e,t){const s=Pe(n),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,m)=>{u.push(s.pu(m,e,t).then((p=>{if((p||t)&&s.isPrimaryClient){const y=p?!p.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Jy.As(m.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,p){const y=Pe(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ue.forEach(p,(b=>ue.forEach(b.Es,(N=>y.persistence.referenceDelegate.addReference(v,b.targetId,N))).next((()=>ue.forEach(b.ds,(N=>y.persistence.referenceDelegate.removeReference(v,b.targetId,N)))))))))}catch(v){if(!vc(v))throw v;ve(ex,"Failed to update sequence numbers: "+v)}for(const v of p){const b=v.targetId;if(!v.fromCache){const N=y.Ms.get(b),j=N.snapshotVersion,T=N.withLastLimboFreeSnapshotVersion(j);y.Ms=y.Ms.insert(b,T)}}})(s.localStore,l))}async function A3(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){ve(lx,"User change. New user:",e.toKey());const s=await WE(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new ye(le.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Id(t,s.Ls)}}function j3(n,e){const t=Pe(n),s=t.Au.get(e);if(s&&s.hu)return He().add(s.key);{let a=He();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function gT(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N3.bind(null,e),e.Pu.H_=d3.bind(null,e.eventManager),e.Pu.yu=h3.bind(null,e.eventManager),e}function C3(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T3.bind(null,e),e}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return kD(this.persistence,new RD,e.initialUser,this.serializer)}Cu(e){return new QE(Zy.mi,this.serializer)}Du(e){return new zD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class R3 extends Wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){st(this.persistence.referenceDelegate instanceof Kf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pD(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new QE((s=>Kf.mi(s,t)),this.serializer)}}class W0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=A3.bind(null,this.syncEngine),await l3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new u3})()}createDatastore(e){const t=Dm(e.databaseInfo.databaseId),s=(function(l){return new GD(l)})(e.databaseInfo);return(function(l,u,h,m){return new QD(l,u,h,m)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,u,h){return new XD(s,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Lw(this.syncEngine,t,0)),(function(){return Dw.v()?new Dw:new BD})())}createSyncEngine(e,t){return(function(a,l,u,h,m,p,y){const v=new g3(a,l,u,h,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Pe(t);ve(ko,"RemoteStore shutting down."),s.Ea.add(5),await Rd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}W0.provider={build:()=>new W0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="FirestoreClient";class I3{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Tn.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ve(Sa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ve(Sa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ax(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function y0(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Sa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await WE(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function zw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await D3(n);ve(Sa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Pw(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>Pw(e.remoteStore,a))),n._onlineComponents=e}async function D3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Sa,"Using user provided OfflineComponentProvider");try{await y0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Zl("Error using user provided cache. Falling back to memory cache: "+t),await y0(n,new Wf)}}else ve(Sa,"Using default OfflineComponentProvider"),await y0(n,new R3(void 0));return n._offlineComponents}async function xT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Sa,"Using user provided OnlineComponentProvider"),await zw(n,n._uninitializedComponentsProvider._online)):(ve(Sa,"Using default OnlineComponentProvider"),await zw(n,new W0))),n._onlineComponents}function k3(n){return xT(n).then((e=>e.syncEngine))}async function vT(n){const e=await xT(n),t=e.eventManager;return t.onListen=y3.bind(null,e.syncEngine),t.onUnlisten=_3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=x3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=b3.bind(null,e.syncEngine),t}function P3(n,e,t={}){const s=new di;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,p){const y=new yT({next:b=>{y.Nu(),u.enqueueAndForget((()=>oT(l,v)));const N=b.docs.has(h);!N&&b.fromCache?p.reject(new ye(le.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&b.fromCache&&m&&m.source==="server"?p.reject(new ye(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new lT($y(h.path),y,{includeMetadataChanges:!0,qa:!0});return aT(l,v)})(await vT(n),n.asyncQueue,e,t,s))),s.promise}function O3(n,e,t={}){const s=new di;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,p){const y=new yT({next:b=>{y.Nu(),u.enqueueAndForget((()=>oT(l,v))),b.fromCache&&m.source==="server"?p.reject(new ye(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new lT(h,y,{includeMetadataChanges:!0,qa:!0});return aT(l,v)})(await vT(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firestore.googleapis.com",Fw=!0;class qw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bT,this.ssl=Fw}else this.host=e.host,this.ssl=e.ssl??Fw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fD)throw new ye(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new B6;switch(s.type){case"firstParty":return new G6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Bw.get(t);s&&(ve("ComponentProvider","Removing Datastore"),Bw.delete(t),s.terminate())})(this),Promise.resolve()}}function M3(n,e,t,s={}){n=Er(n,Om);const a=Lo(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(jy(`https://${h}`),Cy("Firestore",!0)),l.host!==bT&&l.host!==h&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:s};if(!mi(m,u)&&(n._setSettings(m),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=Tn.MOCK_USER;else{p=dN(s.mockUserToken,n._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ye(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Tn(v)}n._authCredentials=new F6(new rE(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class Lt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Ad(t,Lt._jsonSchema))return new Lt(e,s||null,new Se(yt.fromString(t.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Yt("string",Lt._jsonSchemaVersion),referencePath:Yt("string")};class pa extends Da{constructor(e,t,s){super(e,t,$y(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Se(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function Mm(n,e,...t){if(n=jt(n),iE("collection","path",e),n instanceof Om){const s=yt.fromString(e,...t);return nw(s),new pa(n,null,s)}{if(!(n instanceof Lt||n instanceof pa))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(yt.fromString(e,...t));return nw(s),new pa(n.firestore,null,s)}}function Je(n,e,...t){if(n=jt(n),arguments.length===1&&(e=zy.newId()),iE("doc","path",e),n instanceof Om){const s=yt.fromString(e,...t);return tw(s),new Lt(n,null,new Se(s))}{if(!(n instanceof Lt||n instanceof pa))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(yt.fromString(e,...t));return tw(s),new Lt(n.firestore,n instanceof pa?n.converter:null,new Se(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="AsyncQueue";class Gw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZE(this,"async_queue_retry"),this._c=()=>{const s=g0();s&&ve(Hw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=g0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=g0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new di;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vc(e))throw e;ve(Hw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",$w(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=ix.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Re(47125,{Pc:$w(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $w(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class wc extends Om{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Gw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gw(e),this._firestoreClient=void 0,await e}}}function V3(n,e){const t=typeof n=="object"?n:Sd(),s=typeof n=="string"?n:Ff,a=Cr(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=cN("firestore");l&&M3(a,...l)}return a}function ux(n){if(n._terminated)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L3(n),n._firestoreClient}function L3(n){const e=n._freezeSettings(),t=(function(a,l,u,h){return new l5(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,_T(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new I3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Is(vn.fromBase64String(e))}catch(t){throw new ye(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Is(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Is._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ad(e,Is._jsonSchema))return Is.fromBase64String(e.bytes)}}Is._jsonSchemaVersion="firestore/bytes/1.0",Is._jsonSchema={type:Yt("string",Is._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Ad(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:Yt("string",_r._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ad(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new br(e.vectorValues);throw new ye(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:Yt("string",br._jsonSchemaVersion),vectorValues:Yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=/^__.*__$/;class z3{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new jd(e,this.data,t,this.fieldTransforms)}}class wT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:n})}}class Lm{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NT(this.Ac)&&U3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class B3{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Dm(e)}Cc(e,t,s,a=!1){return new Lm({Ac:e,methodName:t,Dc:s,path:yn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Um(n){const e=n._freezeSettings(),t=Dm(n._databaseId);return new B3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ET(n,e,t,s,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);fx("Data must be an object, but it was:",u,s);const h=TT(s,u);let m,p;if(l.merge)m=new os(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=X0(e,v,t);if(!u.contains(b))throw new ye(le.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);AT(y,b)||y.push(b)}m=new os(y),p=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=u.fieldTransforms;return new z3(new qn(h),m,p)}class zm extends Dd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zm}}function F3(n,e,t){return new Lm({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dx extends Dd{_toFieldTransform(e){return new PE(e.path,new ud)}isEqual(e){return e instanceof dx}}class hx extends Dd{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=F3(this,e,!0),s=this.vc.map((l=>Nc(l,t))),a=new nc(s);return new PE(e.path,a)}isEqual(e){return e instanceof hx&&mi(this.vc,e.vc)}}function q3(n,e,t,s){const a=n.Cc(1,e,t);fx("Data must be an object, but it was:",a,s);const l=[],u=qn.empty();Ra(s,((m,p)=>{const y=mx(e,m,t);p=jt(p);const v=a.yc(y);if(p instanceof zm)l.push(y);else{const b=Nc(p,v);b!=null&&(l.push(y),u.set(y,b))}}));const h=new os(l);return new wT(u,h,a.fieldTransforms)}function H3(n,e,t,s,a,l){const u=n.Cc(1,e,t),h=[X0(e,s,t)],m=[a];if(l.length%2!=0)throw new ye(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)h.push(X0(e,l[b])),m.push(l[b+1]);const p=[],y=qn.empty();for(let b=h.length-1;b>=0;--b)if(!AT(p,h[b])){const N=h[b];let j=m[b];j=jt(j);const T=u.yc(N);if(j instanceof zm)p.push(N);else{const R=Nc(j,T);R!=null&&(p.push(N),y.set(N,R))}}const v=new os(p);return new wT(y,v,u.fieldTransforms)}function G3(n,e,t,s=!1){return Nc(t,n.Cc(s?4:3,e))}function Nc(n,e){if(ST(n=jt(n)))return fx("Unsupported field value:",e,n),TT(n,e);if(n instanceof Dd)return(function(s,a){if(!NT(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let m=Nc(h,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(s,a){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return I5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=xt.fromDate(s);return{timestampValue:Yf(a.serializer,l)}}if(s instanceof xt){const l=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yf(a.serializer,l)}}if(s instanceof _r)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Is)return{bytesValue:BE(a.serializer,s._byteString)};if(s instanceof Lt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Wy(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof br)return(function(u,h){return{mapValue:{fields:{[mE]:{stringValue:pE},[qf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Yy(h.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Nm(s)}`)})(n,e)}function TT(n,e){const t={};return lE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(n,((s,a)=>{const l=Nc(a,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function ST(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xt||n instanceof _r||n instanceof Is||n instanceof Lt||n instanceof Dd||n instanceof br)}function fx(n,e,t){if(!ST(t)||!aE(t)){const s=Nm(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function X0(n,e,t){if((e=jt(e))instanceof Vm)return e._internalPath;if(typeof e=="string")return mx(n,e);throw Xf("Field path arguments must be of type string or ",n,!1,void 0,t)}const $3=new RegExp("[~\\*/\\[\\]]");function mx(n,e,t){if(e.search($3)>=0)throw Xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vm(...e.split("."))._internalPath}catch{throw Xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xf(n,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ye(le.INVALID_ARGUMENT,h+n+m)}function AT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Y3 extends jT{data(){return super.data()}}function Bm(n,e){return typeof e=="string"?mx(n,e):e instanceof Vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class px{}class gx extends px{}function CT(n,e,...t){let s=[];e instanceof px&&s.push(e),s=s.concat(t),(function(l){const u=l.filter((m=>m instanceof yx)).length,h=l.filter((m=>m instanceof Fm)).length;if(u>1||u>0&&h>0)throw new ye(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class Fm extends gx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Fm(e,t,s)}_apply(e){const t=this._parse(e);return RT(e._query,t),new Da(e.firestore,e.converter,B0(e._query,t))}_parse(e){const t=Um(e.firestore);return(function(l,u,h,m,p,y,v){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ye(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Kw(v,y);const j=[];for(const T of v)j.push(Yw(m,l,T));b={arrayValue:{values:j}}}else b=Yw(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Kw(v,y),b=G3(h,u,v,y==="in"||y==="not-in");return $t.create(p,y,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Q3(n,e,t){const s=e,a=Bm("where",n);return Fm._create(a,s,t)}class yx extends px{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yx(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Qs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const m of h)RT(u,m),u=B0(u,m)})(e._query,t),new Da(e.firestore,e.converter,B0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xx extends gx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xx(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new ye(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cd(l,u)})(e._query,this._field,this._direction);return new Da(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new _c(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function W3(n,e="asc"){const t=e,s=Bm("orderBy",n);return xx._create(s,t)}class vx extends gx{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new vx(e,t,s)}_apply(e){return new Da(e.firestore,e.converter,Gf(e._query,this._limit,this._limitType))}}function X3(n){return vx._create("limit",n,"F")}function Yw(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new ye(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NE(e)&&t.indexOf("/")!==-1)throw new ye(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(yt.fromString(t));if(!Se.isDocumentKey(s))throw new ye(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uw(n,new Se(s))}if(t instanceof Lt)return uw(n,t._key);throw new ye(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(t)}.`)}function Kw(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RT(n,e){const t=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ye(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Z3{convertValue(e,t="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ra(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[qf].arrayValue?.values?.map((s=>Mt(s.doubleValue)));return new br(t)}convertGeoPoint(e){return new _r(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Sm(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){const t=wa(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=yt.fromString(e);st(YE(s),9688,{name:e});const a=new od(s.get(1),s.get(3)),l=new Se(s.popFirst(5));return a.isEqual(t)||gi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class To extends jT{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Bm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=To._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}To._jsonSchemaVersion="firestore/documentSnapshot/1.0",To._jsonSchema={type:Yt("string",To._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Sf extends To{data(e={}){return super.data(e)}}class zl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new zu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Sf(this._firestore,this._userDataWriter,s.key,s,new zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new Sf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new Sf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new zu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:J3(h.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(n){n=Er(n,Lt);const e=Er(n.firestore,wc);return P3(ux(e),n._key).then((t=>tk(e,n,t)))}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:Yt("string",zl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class DT extends Z3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Is(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}}function _x(n){n=Er(n,Da);const e=Er(n.firestore,wc),t=ux(e),s=new DT(e);return K3(n._query),O3(t,n._query).then((a=>new zl(e,s,n,a)))}function ga(n,e,t){n=Er(n,Lt);const s=Er(n.firestore,wc),a=IT(n.converter,e,t);return bx(s,[ET(Um(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Gs.none())])}function Kt(n,e,t,...s){n=Er(n,Lt);const a=Er(n.firestore,wc),l=Um(a);let u;return u=typeof(e=jt(e))=="string"||e instanceof Vm?H3(l,"updateDoc",n._key,e,t,s):q3(l,"updateDoc",n._key,e),bx(a,[u.toMutation(n._key,Gs.exists(!0))])}function ek(n,e){const t=Er(n.firestore,wc),s=Je(n),a=IT(n.converter,e);return bx(t,[ET(Um(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Gs.exists(!1))]).then((()=>s))}function bx(n,e){return(function(s,a){const l=new di;return s.asyncQueue.enqueueAndForget((async()=>w3(await k3(s),a,l))),l.promise})(ux(n),e)}function tk(n,e,t){const s=t.docs.get(e._key),a=new DT(n);return new To(n,a,e._key,s,new zu(t.hasPendingWrites,t.fromCache),e.converter)}function Qw(){return new dx("serverTimestamp")}function Bl(...n){return new hx("arrayUnion",n)}(function(e,t=!0){(function(a){yc=a})(Ni),fs(new hs("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new wc(new q6(s.getProvider("auth-internal")),new $6(u,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ln(X1,Z1,e),ln(X1,Z1,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firebasestorage.googleapis.com",nk="storageBucket",sk=120*1e3,rk=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends gs{constructor(e,t,s=0){super(x0(e),`Firebase Storage: ${t} (${x0(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return x0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sr||(Sr={}));function x0(n){return"storage/"+n}function ik(){const n="An unknown error occurred, please check the error payload for server response.";return new Rr(Sr.UNKNOWN,n)}function ak(){return new Rr(Sr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ok(){return new Rr(Sr.CANCELED,"User canceled the upload/download.")}function lk(n){return new Rr(Sr.INVALID_URL,"Invalid URL '"+n+"'.")}function ck(n){return new Rr(Sr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ww(n){return new Rr(Sr.INVALID_ARGUMENT,n)}function PT(){return new Rr(Sr.APP_DELETED,"The Firebase app was deleted.")}function uk(n){return new Rr(Sr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=qs.makeFromUrl(e,t)}catch{return new qs(e,"")}if(s.path==="")return s;throw ck(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(L){L.path_=decodeURIComponent(L.path)}const y="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",N=new RegExp(`^https?://${v}/${y}/b/${a}/o${b}`,"i"),j={bucket:1,path:3},T=t===kT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,R="([^?#]*)",M=new RegExp(`^https?://${T}/${a}/${R}`,"i"),q=[{regex:h,indices:m,postModify:l},{regex:N,indices:j,postModify:p},{regex:M,indices:{bucket:1,path:2},postModify:p}];for(let L=0;L<q.length;L++){const H=q[L],Q=H.regex.exec(e);if(Q){const O=Q[H.indices.bucket];let S=Q[H.indices.path];S||(S=""),s=new qs(O,S),H.postModify(s);break}}if(s==null)throw lk(e);return s}}class dk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(n,e,t){let s=1,a=null,l=null,u=!1,h=0;function m(){return h===2}let p=!1;function y(...R){p||(p=!0,e.apply(null,R))}function v(R){a=setTimeout(()=>{a=null,n(N,m())},R)}function b(){l&&clearTimeout(l)}function N(R,...M){if(p){b();return}if(R){b(),y.call(null,R,...M);return}if(m()||u){b(),y.call(null,R,...M);return}s<64&&(s*=2);let q;h===1?(h=2,q=0):q=(s+Math.random())*1e3,v(q)}let j=!1;function T(R){j||(j=!0,b(),!p&&(a!==null?(R||(h=2),clearTimeout(a),v(0)):R||(h=1)))}return v(0),l=setTimeout(()=>{u=!0,T(!0)},t),T}function fk(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(n){return n!==void 0}function Xw(n,e,t,s){if(s<e)throw Ww(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Ww(`Invalid value for '${n}'. Expected ${t} or less.`)}function pk(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var Zf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Zf||(Zf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t,s,a,l,u,h,m,p,y,v,b=!0,N=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=v,this.retry=b,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,T)=>{this.resolve_=j,this.reject_=T,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new gf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const m=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Zf.NO_ERROR,m=l.getStatus();if(!h||gk(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Zf.ABORT;s(!1,new gf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new gf(p,l))})},t=(s,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());mk(m)?l(m):l()}catch(m){u(m)}else if(h!==null){const m=ik();m.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,m)):u(m)}else if(a.canceled){const m=this.appDelete_?PT():ok();u(m)}else{const m=ak();u(m)}};this.canceled_?t(!1,new gf(!1,null,!0)):this.backoffId_=hk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gf{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function xk(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function vk(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _k(n,e){e&&(n["X-Firebase-GMPID"]=e)}function bk(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function wk(n,e,t,s,a,l,u=!0,h=!1){const m=pk(n.urlParams),p=n.url+m,y=Object.assign({},n.headers);return _k(y,e),xk(y,t),vk(y,l),bk(y,s),new yk(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Ek(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t){this._service=e,t instanceof qs?this._location=t:this._location=qs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jf(e,t)}get root(){const e=new qs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ek(this._location.path)}get storage(){return this._service}get parent(){const e=Nk(this._location.path);if(e===null)return null;const t=new qs(this._location.bucket,e);return new Jf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw uk(e)}}function Zw(n,e){const t=e?.[nk];return t==null?null:qs.makeFromBucketSpec(t,n)}function Tk(n,e,t,s={}){n.host=`${e}:${t}`;const a=Lo(e);a&&(jy(`https://${n.host}/b`),Cy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:dN(l,n.app.options.projectId))}class Sk{constructor(e,t,s,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=kT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sk,this._maxUploadRetryTime=rk,this._requests=new Set,a!=null?this._bucket=qs.makeFromBucketSpec(a,this._host):this._bucket=Zw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qs.makeFromBucketSpec(this._url,e):this._bucket=Zw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jf(this,e)}_makeRequest(e,t,s,a,l=!0){if(this._deleted)return new dk(PT());{const u=wk(e,this._appId,s,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const Jw="@firebase/storage",e2="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="storage";function Ak(n=Sd(),e){n=jt(n);const s=Cr(n,OT).getImmediate({identifier:e}),a=cN("storage");return a&&jk(s,...a),s}function jk(n,e,t,s={}){Tk(n,e,t,s)}function Ck(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Sk(t,s,a,e,Ni)}function Rk(){fs(new hs(OT,Ck,"PUBLIC").setMultipleInstances(!0)),ln(Jw,e2,""),ln(Jw,e2,"esm2020")}Rk();function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ik=MT,VT=new wi("auth","Firebase",MT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new Td("@firebase/auth");function Dk(n,...e){em.logLevel<=Be.WARN&&em.warn(`Auth (${Ni}): ${n}`,...e)}function Af(n,...e){em.logLevel<=Be.ERROR&&em.error(`Auth (${Ni}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(n,...e){throw Nx(n,...e)}function $s(n,...e){return Nx(n,...e)}function wx(n,e,t){const s={...Ik(),[e]:t};return new wi("auth","Firebase",s).create(e,{appName:n.name})}function hi(n){return wx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kk(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Os(n,"argument-error"),wx(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nx(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return VT.create(n,...e)}function Ce(n,e,...t){if(!n)throw Nx(e,...t)}function li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Af(e),new Error(e)}function xi(n,e){n||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){return typeof self<"u"&&self.location?.href||""}function Pk(){return t2()==="http:"||t2()==="https:"}function t2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pk()||fN()||"connection"in navigator)?navigator.onLine:!0}function Mk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t){this.shortDelay=e,this.longDelay=t,xi(t>e,"Short delay should be less than long delay!"),this.isMobile=G4()||Q4()}get(){return Ok()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(n,e){xi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uk=new kd(3e4,6e4);function Ei(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ir(n,e,t,s,a={}){return UT(n,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=Ed({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...l};return K4()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Lo(n.emulatorConfig.host)&&(p.credentials="include"),LT.fetch()(await zT(n,n.config.apiHost,t,h),p)})}async function UT(n,e,t){n._canInitEmulator=!1;const s={...Vk,...e};try{const a=new Bk(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw yf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw yf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw yf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw yf(n,"user-disabled",u);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw wx(n,y,p);Os(n,y)}}catch(a){if(a instanceof gs)throw a;Os(n,"network-request-failed",{message:String(a)})}}async function Pd(n,e,t,s,a={}){const l=await Ir(n,e,t,s,a);return"mfaPendingCredential"in l&&Os(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function zT(n,e,t,s){const a=`${e}${t}?${s}`,l=n,u=l.config.emulator?Ex(n.config,a):`${n.config.apiScheme}://${a}`;return Lk.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function zk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s($s(this.auth,"network-request-failed")),Uk.get())})}}function yf(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=$s(n,e,s);return a.customData._tokenResponse=t,a}function n2(n){return n!==void 0&&n.enterprise!==void 0}class Fk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qk(n,e){return Ir(n,"GET","/v2/recaptchaConfig",Ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(n,e){return Ir(n,"POST","/v1/accounts:delete",e)}async function tm(n,e){return Ir(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gk(n,e=!1){const t=jt(n),s=await t.getIdToken(e),a=Tx(s);Ce(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Wu(v0(a.auth_time)),issuedAtTime:Wu(v0(a.iat)),expirationTime:Wu(v0(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function v0(n){return Number(n)*1e3}function Tx(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Af("JWT malformed, contained fewer than 3 sections"),null;try{const a=Sy(t);return a?JSON.parse(a):(Af("Failed to decode base64 JWT payload"),null)}catch(a){return Af("Caught error parsing JWT payload as JSON",a?.toString()),null}}function s2(n){const e=Tx(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof gs&&$k(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function $k({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(n){const e=n.auth,t=await n.getIdToken(),s=await ic(n,tm(e,{idToken:t}));Ce(s?.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?BT(a.providerUserInfo):[],u=Qk(n.providerData,l),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new J0(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function Kk(n){const e=jt(n);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qk(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function BT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(n,e){const t=await UT(n,{},async()=>{const s=Ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await zT(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:s};return n.emulatorConfig&&Lo(n.emulatorConfig.host)&&(m.credentials="include"),LT.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Xk(n,e){return Ir(n,"POST","/v2/accounts:revokeToken",Ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=s2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await Wk(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,u=new Fl;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ce(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fl,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Hs{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Yk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new J0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ic(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Gk(this,e)}reload(){return Kk(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await nm(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await ic(this,Hk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:N,providerData:j,stsTokenManager:T}=t;Ce(v&&T,e,"internal-error");const R=Fl.fromJSON(this.name,T);Ce(typeof v=="string",e,"internal-error"),na(s,e.name),na(a,e.name),Ce(typeof b=="boolean",e,"internal-error"),Ce(typeof N=="boolean",e,"internal-error"),na(l,e.name),na(u,e.name),na(h,e.name),na(m,e.name),na(p,e.name),na(y,e.name);const M=new Hs({uid:v,auth:e,email:a,emailVerified:b,displayName:s,isAnonymous:N,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:R,createdAt:p,lastLoginAt:y});return j&&Array.isArray(j)&&(M.providerData=j.map(k=>({...k}))),m&&(M._redirectEventId=m),M}static async _fromIdTokenResponse(e,t,s=!1){const a=new Fl;a.updateFromServerResponse(t);const l=new Hs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await nm(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?BT(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Fl;h.updateFromIdToken(s);const m=new Hs({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new J0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Map;function ci(n){xi(n instanceof Function,"Expected a class definition");let e=r2.get(n);return e?(xi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,r2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}FT.type="NONE";const i2=FT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n,e,t){return`firebase:${n}:${e}:${t}`}class ql{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=jf(this.userKey,a.apiKey,l),this.fullPersistenceKey=jf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tm(this.auth,{idToken:e}).catch(()=>{});return t?Hs._fromGetAccountInfoResponse(this.auth,t,e):null}return Hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ql(ci(i2),e,s);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ci(i2);const u=jf(s,e.config.apiKey,e.name);let h=null;for(const p of t)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const b=await tm(e,{idToken:y}).catch(()=>{});if(!b)break;v=await Hs._fromGetAccountInfoResponse(e,b,y)}else v=Hs._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ql(l,e,s):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new ql(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(QT(e))return"Webos";if(HT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function qT(n=Cn()){return/firefox\//i.test(n)}function HT(n=Cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(n=Cn()){return/crios\//i.test(n)}function $T(n=Cn()){return/iemobile/i.test(n)}function YT(n=Cn()){return/android/i.test(n)}function KT(n=Cn()){return/blackberry/i.test(n)}function QT(n=Cn()){return/webos/i.test(n)}function Sx(n=Cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Zk(n=Cn()){return Sx(n)&&!!window.navigator?.standalone}function Jk(){return W4()&&document.documentMode===10}function WT(n=Cn()){return Sx(n)||YT(n)||QT(n)||KT(n)||/windows phone/i.test(n)||$T(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n,e=[]){let t;switch(n){case"Browser":t=a2(Cn());break;case"Worker":t=`${a2(Cn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ni}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,h)=>{try{const m=e(l);u(m)}catch(m){h(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(n,e={}){return Ir(n,"GET","/v2/passwordPolicy",Ei(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=6;class sP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o2(this),this.idTokenSubscription=new o2(this),this.beforeStateQueue=new eP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ql.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tm(this,{idToken:e}),s=await Hs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(hi(this));const t=e?jt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tP(this),t=new sP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wi("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Xk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ci(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await ql.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Dk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ti(n){return jt(n)}class o2{constructor(e){this.auth=e,this.observer=null,this.addObserver=gN(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iP(n){qm=n}function ZT(n){return qm.loadJS(n)}function aP(){return qm.recaptchaEnterpriseScript}function oP(){return qm.gapiScript}function lP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class cP{constructor(){this.enterprise=new uP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dP="recaptcha-enterprise",JT="NO_RECAPTCHA";class hP{constructor(e){this.type=dP,this.auth=Ti(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{qk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Fk(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{h(m)})})}function a(l,u,h){const m=window.grecaptcha;n2(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(JT)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cP().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!t&&n2(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=aP();m.length!==0&&(m+=h),ZT(m).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function l2(n,e,t,s=!1,a=!1){const l=new hP(n);let u;if(a)u=JT;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function sm(n,e,t,s,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await l2(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await l2(n,e,t,t==="getOobCode");return s(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n,e){const t=Cr(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(mi(l,e??{}))return a;Os(a,"already-initialized")}return t.initialize({options:e})}function mP(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(ci);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function pP(n,e,t){const s=Ti(n);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=eS(e),{host:u,port:h}=gP(e),m=h===null?"":`:${h}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(mi(p,s.config.emulator)&&mi(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Lo(u)?(jy(`${l}//${u}${m}`),Cy("Auth",!0)):yP()}function eS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gP(n){const e=eS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:c2(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:c2(u)}}}function c2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function xP(n,e){return Ir(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(n,e){return Pd(n,"POST","/v1/accounts:signInWithPassword",Ei(n,e))}async function tS(n,e){return Ir(n,"POST","/v1/accounts:sendOobCode",Ei(n,e))}async function _P(n,e){return tS(n,e)}async function bP(n,e){return tS(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(n,e){return Pd(n,"POST","/v1/accounts:signInWithEmailLink",Ei(n,e))}async function NP(n,e){return Pd(n,"POST","/v1/accounts:signInWithEmailLink",Ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Ax{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new hd(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new hd(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,t,"signInWithPassword",vP);case"emailLink":return wP(e,{email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,s,"signUpPassword",xP);case"emailLink":return NP(e,{idToken:t,email:this._email,oobCode:this._password});default:Os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(n,e){return Pd(n,"POST","/v1/accounts:signInWithIdp",Ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="http://localhost";class Po extends Ax{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Os("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const u=new Po(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Hl(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Hl(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Hl(e,t)}buildRequest(){const e={requestUri:EP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ed(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SP(n){const e=Ou(Mu(n)).link,t=e?Ou(Mu(e)).deep_link_id:null,s=Ou(Mu(n)).deep_link_id;return(s?Ou(Mu(s)).link:null)||s||t||e||n}class jx{constructor(e){const t=Ou(Mu(e)),s=t.apiKey??null,a=t.oobCode??null,l=TP(t.mode??null);Ce(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=SP(e);try{return new jx(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.providerId=Ec.PROVIDER_ID}static credential(e,t){return hd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=jx.parseLink(t);return Ce(s,"argument-error"),hd._fromEmailAndCode(e,s.code,s.tenantId)}}Ec.PROVIDER_ID="password";Ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends Cx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Od{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Po._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return oi.credential(t,s)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Od{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Od{constructor(){super("twitter.com")}static credential(e,t){return Po._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return oa.credential(t,s)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,e){return Pd(n,"POST","/v1/accounts:signUp",Ei(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Hs._fromIdTokenResponse(e,s,a),u=u2(s);return new Oo({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=u2(s);return new Oo({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function u2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends gs{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new rm(e,t,s,a)}}function nS(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(n,l,e,s):l})}async function jP(n,e,t=!1){const s=await ic(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Oo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(n,e,t=!1){const{auth:s}=n;if(Vn(s.app))return Promise.reject(hi(s));const a="reauthenticate";try{const l=await ic(n,nS(s,a,e,n),t);Ce(l.idToken,s,"internal-error");const u=Tx(l.idToken);Ce(u,s,"internal-error");const{sub:h}=u;return Ce(n.uid===h,s,"user-mismatch"),Oo._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Os(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(n,e,t=!1){if(Vn(n.app))return Promise.reject(hi(n));const s="signIn",a=await nS(n,s,e),l=await Oo._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function RP(n,e){return sS(Ti(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rS(n){const e=Ti(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IP(n,e,t){const s=Ti(n);await sm(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bP)}async function DP(n,e,t){if(Vn(n.app))return Promise.reject(hi(n));const s=Ti(n),u=await sm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AP).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&rS(n),m}),h=await Oo._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function kP(n,e,t){return Vn(n.app)?Promise.reject(hi(n)):RP(jt(n),Ec.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rS(n),s})}async function PP(n,e){const t=jt(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await _P(t.auth,a);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(n,e){return Ir(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=jt(n),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await ic(s,OP(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const h=s.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function VP(n,e,t,s){return jt(n).onIdTokenChanged(e,t,s)}function LP(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function ka(n,e,t,s){return jt(n).onAuthStateChanged(e,t,s)}function UP(n){return jt(n).signOut()}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=1e3,BP=10;class aS extends iS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);Jk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,BP):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},zP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aS.type="LOCAL";const FP=aS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends iS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}oS.type="SESSION";const lS=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Hm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async p=>p(t.origin,l)),m=await qP(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const p=Rx("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function GP(n){wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function $P(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YP(){return navigator?.serviceWorker?.controller||null}function KP(){return cS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebaseLocalStorageDb",QP=1,am="firebaseLocalStorage",dS="fbase_key";class Md{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gm(n,e){return n.transaction([am],e?"readwrite":"readonly").objectStore(am)}function WP(){const n=indexedDB.deleteDatabase(uS);return new Md(n).toPromise()}function ey(){const n=indexedDB.open(uS,QP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(am,{keyPath:dS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(am)?e(s):(s.close(),await WP(),e(await ey()))})})}async function d2(n,e,t){const s=Gm(n,!0).put({[dS]:e,value:t});return new Md(s).toPromise()}async function XP(n,e){const t=Gm(n,!1).get(e),s=await new Md(t).toPromise();return s===void 0?null:s.value}function h2(n,e){const t=Gm(n,!0).delete(e);return new Md(t).toPromise()}const ZP=800,JP=3;class hS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ey(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>JP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hm._getInstance(KP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $P(),!this.activeServiceWorker)return;this.sender=new HP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ey();return await d2(e,im,"1"),await h2(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>d2(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>XP(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>h2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Gm(a,!1).getAll();return new Md(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hS.type="LOCAL";const eO=hS;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e){return e?ci(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends Ax{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tO(n){return sS(n.auth,new Ix(n),n.bypassAuthState)}function nO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),CP(t,new Ix(n),n.bypassAuthState)}async function sO(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),jP(t,new Ix(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tO;case"linkViaPopup":case"linkViaRedirect":return sO;case"reauthViaPopup":case"reauthViaRedirect":return nO;default:Os(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new kd(2e3,1e4);async function iO(n,e,t){if(Vn(n.app))return Promise.reject($s(n,"operation-not-supported-in-this-environment"));const s=Ti(n);kk(n,e,Cx);const a=fS(s,t);return new wo(s,"signInViaPopup",e,a).executeNotNull()}class wo extends mS{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Rx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rO.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="pendingRedirect",Cf=new Map;class oO extends mS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const s=await lO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lO(n,e){const t=dO(e),s=uO(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function cO(n,e){Cf.set(n._key(),e)}function uO(n){return ci(n._redirectPersistence)}function dO(n){return jf(aO,n.config.apiKey,n.name)}async function hO(n,e,t=!1){if(Vn(n.app))return Promise.reject(hi(n));const s=Ti(n),a=fS(s,e),u=await new oO(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=600*1e3;class mO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!pS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError($s(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fO&&this.cachedEventUids.clear(),this.cachedEventUids.has(f2(e))}saveEventToCache(e){this.cachedEventUids.add(f2(e)),this.lastProcessedEventTime=Date.now()}}function f2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function pO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(n,e={}){return Ir(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xO=/^https?/;async function vO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await gO(n);for(const t of e)try{if(_O(t))return}catch{}Os(n,"unauthorized-domain")}function _O(n){const e=Z0(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!xO.test(t))return!1;if(yO.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new kd(3e4,6e4);function m2(){const n=wr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wO(n){return new Promise((e,t)=>{function s(){m2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m2(),t($s(n,"network-request-failed"))},timeout:bO.get()})}if(wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wr().gapi?.load)s();else{const a=lP("iframefcb");return wr()[a]=()=>{gapi.load?s():t($s(n,"network-request-failed"))},ZT(`${oP()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function NO(n){return Rf=Rf||wO(n),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new kd(5e3,15e3),TO="__/auth/iframe",SO="emulator/auth/iframe",AO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CO(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ex(e,SO):`https://${n.config.authDomain}/${TO}`,s={apiKey:e.apiKey,appName:n.name,v:Ni},a=jO.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Ed(s).slice(1)}`}async function RO(n){const e=await NO(n),t=wr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:CO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AO,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=$s(n,"network-request-failed"),h=wr().setTimeout(()=>{l(u)},EO.get());function m(){wr().clearTimeout(h),a(s)}s.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DO=500,kO=600,PO="_blank",OO="http://localhost";class p2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MO(n,e,t,s=DO,a=kO){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const m={...IO,width:s.toString(),height:a.toString(),top:l,left:u},p=Cn().toLowerCase();t&&(h=GT(p)?PO:t),qT(p)&&(e=e||OO,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[N,j])=>`${b}${N}=${j},`,"");if(Zk(p)&&h!=="_self")return VO(e||"",h),new p2(null);const v=window.open(e||"",h,y);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new p2(v)}function VO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="__/auth/handler",UO="emulator/auth/handler",zO=encodeURIComponent("fac");async function g2(n,e,t,s,a,l){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ni,eventId:a};if(e instanceof Cx){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",nR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Od){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await n._getAppCheckToken(),p=m?`#${zO}=${encodeURIComponent(m)}`:"";return`${BO(n)}?${Ed(h).slice(1)}${p}`}function BO({config:n}){return n.emulator?Ex(n,UO):`https://${n.authDomain}/${LO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="webStorageSupport";class FO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lS,this._completeRedirectFn=hO,this._overrideRedirectResult=cO}async _openPopup(e,t,s,a){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await g2(e,t,s,Z0(),a);return MO(e,l,Rx())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await g2(e,t,s,Z0(),a);return GP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(xi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await RO(e),s=new mO(e);return t.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_0,{type:_0},a=>{const l=a?.[0]?.[_0];l!==void 0&&t(!!l),Os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WT()||HT()||Sx()}}const qO=FO;var y2="@firebase/auth",x2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $O(n){fs(new hs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;Ce(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XT(n)},p=new rP(s,a,l,m);return mP(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),fs(new hs("auth-internal",e=>{const t=Ti(e.getProvider("auth").getImmediate());return(s=>new HO(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ln(y2,x2,GO(n)),ln(y2,x2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=300,KO=uN("authIdTokenMaxAge")||YO;let v2=null;const QO=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>KO)return;const a=t?.token;v2!==a&&(v2=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function WO(n=Sd()){const e=Cr(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fP(n,{popupRedirectResolver:qO,persistence:[eO,FP,lS]}),s=uN("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=QO(l.toString());LP(t,u,()=>u(t.currentUser)),VP(t,h=>u(h))}}const a=lN("auth");return a&&pP(t,`http://${a}`),t}function XO(){return document.getElementsByTagName("head")?.[0]??document}iP({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=$s("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",XO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$O("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t){this._delegate=e,this.firebase=t,sd(e,new hs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ky(this._delegate)))}_getService(e,t=va){this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&s.getComponent()?.instantiationMode==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:t})}_removeServiceInstance(e,t=va){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){sd(this._delegate,e)}_addOrOverwriteComponent(e){wN(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},_2=new wi("app-compat","Firebase",JO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(n){const e={},t={__esModule:!0,initializeApp:l,app:a,registerVersion:ln,setLogLevel:SN,onLog:TN,apps:null,SDK_VERSION:Ni,INTERNAL:{registerComponent:h,removeApp:s,useAsService:m,modularAPIs:vI}};t.default=t,Object.defineProperty(t,"apps",{get:u});function s(p){delete e[p]}function a(p){if(p=p||va,!D1(e,p))throw _2.create("no-app",{appName:p});return e[p]}a.App=n;function l(p,y={}){const v=_m(p,y);if(D1(e,v.name))return e[v.name];const b=new n(v,t);return e[v.name]=b,b}function u(){return Object.keys(e).map(p=>e[p])}function h(p){const y=p.name,v=y.replace("-compat","");if(fs(p)&&p.type==="PUBLIC"){const b=(N=a())=>{if(typeof N[v]!="function")throw _2.create("invalid-app-argument",{appName:y});return N[v]()};p.serviceProps!==void 0&&Vf(b,p.serviceProps),t[v]=b,n.prototype[v]=function(...N){return this._getService.bind(this,y).apply(this,p.multipleInstances?N:[])}}return p.type==="PUBLIC"?t[v]:null}function m(p,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){const n=eM(ZO);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:gS,extendNamespace:e,createSubscribe:gN,ErrorFactory:wi,deepExtend:Vf};function e(t){Vf(n,t)}return n}const tM=gS();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new Td("@firebase/app-compat"),nM="@firebase/app-compat",sM="0.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(n){ln(nM,sM,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=oN();if(n.firebase!==void 0){b2.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&b2.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const iM=tM;rM();var aM="firebase",oM="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */iM.registerVersion(aM,oM,"app-compat");const lM={apiKey:"AIzaSyD2pV5wc278wM4ek4uIaiN2H7KQzctUCHU",authDomain:"eccom-7b829.firebaseapp.com",projectId:"eccom-7b829",storageBucket:"eccom-7b829.firebasestorage.app",messagingSenderId:"305850969496",appId:"1:305850969496:web:0a67ff5565851be37e0fed",measurementId:"G-N738MYE9L8"},$m=_m(lM);V6($m);const Mn=WO($m),yS=new oi;yS.setCustomParameters({prompt:"select_account"});const On={createUser:async(n,e)=>{try{return{user:(await DP(Mn,n,e)).user,error:null}}catch(t){return{user:null,error:t}}},signInUser:async(n,e)=>{try{return{user:(await kP(Mn,n,e)).user,error:null}}catch(t){return{user:null,error:t}}},signInWithGoogle:async()=>{try{return{user:(await iO(Mn,yS)).user,error:null}}catch(n){return{user:null,error:n}}},updateUserProfile:async(n,e)=>{try{return await MP(n,e),{success:!0,error:null}}catch(t){return{success:!1,error:t}}},sendVerificationEmail:async n=>{try{return await PP(n),{success:!0,error:null}}catch(e){return{success:!1,error:e}}},resetPassword:async n=>{try{return await IP(Mn,n),{success:!0,error:null}}catch(e){return{success:!1,error:e}}},signOutUser:async()=>{try{return await UP(Mn),{success:!0,error:null}}catch(n){return{success:!1,error:n}}},onAuthStateChange:n=>ka(Mn,n),getCurrentUser:()=>Mn.currentUser},om=n=>{switch(n){case"auth/email-already-in-use":return"This email is already registered";case"auth/invalid-email":return"Please enter a valid email address";case"auth/weak-password":return"Password is too weak. Please use at least 6 characters.";case"auth/operation-not-allowed":return"Email/password accounts are not enabled. Please contact support.";case"auth/network-request-failed":return"Network error. Please check your connection and try again.";case"auth/popup-closed-by-user":return"Login cancelled by user";case"auth/account-exists-with-different-credential":return"An account already exists with this email address";case"auth/popup-blocked":return"Popup blocked by browser. Please allow popups and try again.";case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/user-disabled":return"This account has been disabled";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/requires-recent-login":return"This operation is sensitive and requires recent authentication. Please log in again.";case"auth/invalid-action-code":return"The action code is invalid. This can happen if the code is malformed or has already been used.";default:return"An error occurred. Please try again."}},Ge=V3($m);Ak($m);const xS=D.createContext(),cM=({children:n,setIsLoading:e})=>{const[t,s]=D.useState(null),[a,l]=D.useState(!0);D.useEffect(()=>On.onAuthStateChange(b=>{s(b),l(!1),e&&e(!1)}),[e]);const y={currentUser:t,isLoggedIn:!!t,signUp:async(...v)=>{e&&e(!0);try{return await On.createUser(...v)}finally{e&&e(!1)}},login:async(...v)=>{e&&e(!0);try{return await On.signInUser(...v)}finally{e&&e(!1)}},googleSignIn:async(...v)=>{e&&e(!0);try{return await On.signInWithGoogle(...v)}finally{e&&e(!1)}},logout:async(...v)=>{e&&e(!0);try{return await On.signOutUser(...v)}finally{e&&e(!1)}},updateProfile:On.updateUserProfile,resetPassword:On.resetPassword,sendVerificationEmail:On.sendVerificationEmail};return c.jsx(xS.Provider,{value:y,children:!a&&n})},Vd=()=>D.useContext(xS),uM=()=>{const{isLoggedIn:n,loading:e}=Vd();return e?c.jsx("div",{className:"flex justify-center items-center h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):n?c.jsx(t4,{}):c.jsx(Of,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),w2=n=>{const e=hM(n);return e.charAt(0).toUpperCase()+e.slice(1)},vS=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),fM=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},m)=>D.createElement("svg",{ref:m,...mM,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:vS("lucide",a),...!l&&!fM(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>D.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(n,e)=>{const t=D.forwardRef(({className:s,...a},l)=>D.createElement(pM,{ref:l,iconNode:e,className:vS(`lucide-${dM(w2(n))}`,`lucide-${n}`,s),...a}));return t.displayName=w2(n),t};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vi=Te("arrow-left",gM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xM=Te("arrow-right",yM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],_M=Te("bus",vM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ty=Te("camera",bM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ld=Te("calendar",wM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_S=Te("check",NM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ym=Te("chevron-down",EM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Dx=Te("chevron-left",TM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xu=Te("chevron-right",SM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kx=Te("chevron-up",AM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ca=Te("circle-alert",jM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fd=Te("circle-check-big",CM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],lm=Te("circle-plus",RM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bu=Te("circle-x",IM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gl=Te("clock",DM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],N2=Te("computer",kM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ra=Te("credit-card",PM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],E2=Te("dollar-sign",OM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],VM=Te("download",MM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Aa=Te("eye",LM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],zM=Te("facebook",UM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Km=Te("funnel",BM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]],qM=Te("gamepad",FM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],GM=Te("hand-coins",HM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M21 14h-1.343",key:"1jdnxi"}],["path",{d:"M9.128 3.47A9 9 0 0 1 21 12v3.343",key:"6kipu2"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M20.414 20.414A2 2 0 0 1 19 21h-1a2 2 0 0 1-2-2v-3",key:"9x50f4"}],["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 2.636-6.364",key:"1bkxnm"}]],YM=Te("headphone-off",$M);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],QM=Te("headphones",KM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Nr=Te("heart",WM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ZM=Te("instagram",XM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],e9=Te("linkedin",JM);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ys=Te("loader-circle",t9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],s9=Te("lock",n9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],i9=Te("log-out",r9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ny=Te("mail",a9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cm=Te("map-pin",o9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],c9=Te("menu",l9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M5 12h14",key:"1ays0h"}]],d9=Te("minus",u9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$l=Te("package",h9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bS=Te("pen",f9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Px=Te("phone",m9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g9=Te("plus",p9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],T2=Te("refresh-ccw",y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],v9=Te("rotate-ccw",x9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],md=Te("search",_9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ox=Te("shield",b9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],S2=Te("shopping-basket",w9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ac=Te("shopping-bag",N9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],oc=Te("shopping-cart",E9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qm=Te("star",T9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],A9=Te("store",S9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ud=Te("trash-2",j9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R9=Te("triangle-alert",C9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Mx=Te("truck",I9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],k9=Te("twitter",D9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],O9=Te("user-round",P9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zu=Te("user",M9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],L9=Te("watch",V9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],z9=Te("x",U9),wS=D.createContext(),B9=()=>{const n=D.useContext(wS);if(!n)throw new Error("useCart must be used within a CartProvider");return n},F9=({children:n})=>{const[e,t]=D.useState(()=>{const y=localStorage.getItem("cartItems");return y?JSON.parse(y):[]});D.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify(e))},[e]);const s=y=>{t(v=>v.find(N=>N.id===y.id)?v.map(N=>N.id===y.id?{...N,quantity:N.quantity+1}:N):[...v,{...y,quantity:1}])},a=y=>{t(v=>v.filter(b=>b.id!==y))},p={cartItems:e,addToCart:s,removeFromCart:a,updateQuantity:(y,v)=>{if(v<=0){a(y);return}t(b=>b.map(N=>N.id===y?{...N,quantity:v}:N))},clearCart:()=>{t([])},getCartCount:()=>e.reduce((y,v)=>y+v.quantity,0),getCartTotal:()=>e.reduce((y,v)=>y+v.price*v.quantity,0)};return c.jsx(wS.Provider,{value:p,children:n})},q9=()=>{const{currentUser:n,isLoggedIn:e,logout:t}=Vd(),[s,a]=D.useState(!1),{getCartCount:l}=B9(),u=l(),[h,m]=D.useState(!1),p=D.useRef(null),y=e?n.photoURL:"",v=()=>{m(!h)},b="text-white hover:bg-gray-50 hover:text-red-500 block pl-3 pr-4 py-2 text-base font-medium transform transition-all duration-200 hover:translate-x-2";D.useEffect(()=>{const j=T=>{p.current&&!p.current.contains(T.target)&&m(!1)};return h&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[h]);const N=async()=>{try{await t()}catch(j){console.error("Failed to log out",j)}};return c.jsxs("header",{className:"bg-white border-b-1 border-gray-300 relative",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ",children:c.jsxs("div",{className:"flex justify-between h-16",children:[c.jsx("div",{className:"flex-shrink-0 flex items-center",children:c.jsx(Ze,{to:"/",className:"text-xl font-bold text-red-500",children:"Exclusive"})}),c.jsxs("nav",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[c.jsx(Ze,{to:"/",className:"border-transparent text-gray-500 hover:border-red-500 hover:text-red-500 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium animation-1000 duration-600",children:"Home"}),c.jsx(Ze,{to:"/products",className:"border-transparent text-gray-500 hover:border-red-500 hover:text-red-500 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium animation-1000 duration-600",children:"Products"}),c.jsx(Ze,{to:"/categories",className:"border-transparent text-gray-500 hover:border-red-500 hover:text-red-500 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium animation-1000 duration-600",children:"Categories"}),c.jsx(Ze,{to:"/contact",className:"border-transparent text-gray-500 hover:border-red-500 hover:text-red-500 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium animation-1000 duration-600",children:"Contact"}),e?c.jsx(c.Fragment,{}):c.jsx(c.Fragment,{children:c.jsx(Ze,{to:"/signup",className:"border-transparent text-gray-500 hover:border-red-500 hover:text-red-500 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium animation-1000 duration-600",children:"SignUp"})})]}),c.jsxs("div",{className:"hidden md:ml-6 md:flex md:items-center md:space-x-2 lg:space-x-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx("input",{type:"text",placeholder:"What are you looking for?",className:"w-full py-2 pl-3 pr-10 text-sm rounded-md bg-gray-100 text-gray-700 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-300"}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-700",children:c.jsx(md,{})})]}),e?c.jsx(c.Fragment,{children:c.jsxs("div",{className:"flex justify-center items-center gap-6 p-4 ",children:[c.jsx(Ze,{to:"/wishlist",children:c.jsx(Nr,{className:"w-6 h-6 text-gray-700 hover:text-red-500 cursor-pointer transition-colors"})}),c.jsxs(Ze,{to:"/cart",className:"relative",children:[c.jsx(S2,{className:"w-6 h-6 text-gray-700 hover:text-blue-500 cursor-pointer transition-colors"}),u>0&&c.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:u>99?"99+":u})]}),c.jsxs("div",{className:"relative",ref:p,children:[c.jsx("img",{src:y,alt:"img",onClick:v,className:"cursor-pointer w-10 h-10 text-gray-700 hover:text-black transition-colors rounded-full"}),c.jsx("div",{className:`absolute right-0 mt-2 w-48 lg:w-56 bg-black/70 backdrop-blur-sm rounded-lg shadow-lg text-white z-50 transition-all duration-300 ${h?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,children:c.jsxs("ul",{className:"py-1",children:[c.jsxs(Ze,{to:"/account",children:[" ",c.jsxs("li",{className:"flex items-center gap-3 px-4 py-2 hover:bg-black/40 hover:text-red-400 cursor-pointer transition-all duration-300",children:[c.jsx(Zu,{className:"w-5 h-5"})," Manage My Account"]})]}),c.jsxs(Ze,{to:"/orders",children:["  ",c.jsxs("li",{className:"flex items-center gap-3 px-4 py-2 hover:bg-black/40 hover:text-red-400 cursor-pointer transition-all duration-300",children:[c.jsx(ac,{className:"w-5 h-5"})," My Orders"]})]}),c.jsxs("li",{className:"flex items-center gap-3 px-4 py-2 hover:bg-black/40 hover:text-red-400 cursor-pointer transition-all duration-300",children:[c.jsx(Bu,{className:"w-5 h-5"})," My Cancellations"]}),c.jsxs("li",{className:"flex items-center gap-3 px-4 py-2 hover:bg-black/40 hover:text-red-400 cursor-pointer transition-all duration-300",children:[c.jsx(Qm,{className:"w-5 h-5"})," My Reviews"]}),c.jsxs("li",{onClick:()=>{N(),m(!1)},className:"flex items-center gap-3 px-4 py-2 hover:bg-black/40 hover:text-red-400 cursor-pointer transition-all duration-300",children:[c.jsx(i9,{className:"w-5 h-5"})," Logout"]})]})})]})]})}):c.jsx(c.Fragment,{})]}),c.jsx("div",{className:"flex items-center md:hidden",children:c.jsxs("button",{onClick:()=>a(!s),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-red-500","aria-expanded":"false",children:[c.jsx("span",{className:"sr-only",children:"Open main menu"}),s?c.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):c.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),s&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`fixed inset-0 bg-black transition-opacity duration-300 z-40 ${s?"opacity-50":"opacity-0 pointer-events-none"}`,onClick:()=>a(!1)}),c.jsxs("div",{className:`md:hidden absolute top-full left-0 right-0 bg-black/[0.7] border-b border-gray-200 shadow-lg z-50 transform transition-all duration-300 ease-out ${s?"opacity-100 translate-y-0":"opacity-0 -translate-y-4 pointer-events-none"}`,children:[c.jsx("div",{className:"px-4 py-3 ",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:"What are you looking for?",className:"w-full py-2 pl-4 pr-10 rounded-md bg-gray-100 text-gray-700 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-300"}),c.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-700",children:c.jsx(md,{})})]})}),c.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[c.jsx(Ze,{to:"/",onClick:()=>a(!1),className:`${b} ${s?"animate-slideIn":""}`,style:{animationDelay:"0.1s"},children:"Home"}),c.jsx(Ze,{to:"/products",onClick:()=>a(!1),className:`${b} ${s?"animate-slideIn":""}`,style:{animationDelay:"0.15s"},children:"Products"}),c.jsx(Ze,{to:"/categories",onClick:()=>a(!1),className:`${b} ${s?"animate-slideIn":""}`,style:{animationDelay:"0.2s"},children:"Categories"}),c.jsx(Ze,{to:"/contact",onClick:()=>a(!1),className:`${b} ${s?"animate-slideIn":""}`,style:{animationDelay:"0.25s"},children:"Contact"})]}),c.jsxs("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[e?c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ze,{to:"/profile",onClick:()=>a(!1),className:b,children:n.displayName||"My Account"}),c.jsx("button",{onClick:()=>{N(),a(!1)},className:"w-full text-left text-gray-500 hover:bg-gray-50 hover:text-red-500 block pl-3 pr-4 py-2 text-base font-medium transform transition-all duration-200 hover:translate-x-2 animate-bounceIn",children:"Log Out"})]}):c.jsxs("div",{className:"space-y-1",children:[c.jsx(Ze,{to:"/login",onClick:()=>a(!1),className:b,children:"Login"}),c.jsx(Ze,{to:"/signup",onClick:()=>a(!1),className:b,children:"Sign Up"})]}),c.jsxs(Ze,{to:"/cart",onClick:()=>a(!1),className:"text-white hover:bg-gray-50 hover:text-red-500 flex items-center pl-3 pr-4 py-2 text-base font-medium",children:[c.jsxs("div",{className:"relative mr-2",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),u>0&&c.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-medium",children:u>99?"99+":u})]}),"Cart"]})]}),c.jsx("div",{className:"px-4 py-3 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs(Ze,{to:"/wishlist",className:"flex items-center text-white hover:text-red-500",children:[c.jsx(Nr,{className:"w-6 h-6 mr-2"}),"Wishlist"]}),c.jsxs(Ze,{to:"/cart",className:"flex items-center text-white hover:text-blue-500 relative",children:[c.jsxs("div",{className:"relative mr-2",children:[c.jsx(S2,{className:"w-6 h-6"}),u>0&&c.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-medium",children:u>99?"99+":u})]}),"Cart"]})]})})]})]})]})};function ii(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function NS(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ds={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},lc={duration:.5,overwrite:!1,delay:0},Vx,xn,Nt,Ds=1e8,mt=1/Ds,sy=Math.PI*2,H9=sy/4,G9=0,ES=Math.sqrt,$9=Math.cos,Y9=Math.sin,cn=function(e){return typeof e=="string"},Dt=function(e){return typeof e=="function"},_i=function(e){return typeof e=="number"},Lx=function(e){return typeof e>"u"},Ar=function(e){return typeof e=="object"},Gn=function(e){return e!==!1},Ux=function(){return typeof window<"u"},xf=function(e){return Dt(e)||cn(e)},TS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},jn=Array.isArray,ry=/(?:-?\.?\d|\.)+/gi,SS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Vl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,b0=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,AS=/[+-]=-?[.\d]+/,jS=/[^,'"\[\]\s]+/gi,K9=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,St,pr,iy,zx,ms={},um={},CS,RS=function(e){return(um=cc(e,ms))&&Qn},Bx=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},pd=function(e,t){return!t&&console.warn(e)},IS=function(e,t){return e&&(ms[e]=t)&&um&&(um[e]=t)||ms},gd=function(){return 0},Q9={suppressEvents:!0,isStart:!0,kill:!1},If={suppressEvents:!0,kill:!1},W9={suppressEvents:!0},Fx={},ya=[],ay={},DS,is={},w0={},A2=30,Df=[],qx="",Hx=function(e){var t=e[0],s,a;if(Ar(t)||Dt(t)||(e=[e]),!(s=(t._gsap||{}).harness)){for(a=Df.length;a--&&!Df[a].targetTest(t););s=Df[a]}for(a=e.length;a--;)e[a]&&(e[a]._gsap||(e[a]._gsap=new nA(e[a],s)))||e.splice(a,1);return e},So=function(e){return e._gsap||Hx(ks(e))[0]._gsap},kS=function(e,t,s){return(s=e[t])&&Dt(s)?e[t]():Lx(s)&&e.getAttribute&&e.getAttribute(t)||s},$n=function(e,t){return(e=e.split(",")).forEach(t)||e},Vt=function(e){return Math.round(e*1e5)/1e5||0},Gt=function(e){return Math.round(e*1e7)/1e7||0},Yl=function(e,t){var s=t.charAt(0),a=parseFloat(t.substr(2));return e=parseFloat(e),s==="+"?e+a:s==="-"?e-a:s==="*"?e*a:e/a},X9=function(e,t){for(var s=t.length,a=0;e.indexOf(t[a])<0&&++a<s;);return a<s},dm=function(){var e=ya.length,t=ya.slice(0),s,a;for(ay={},ya.length=0,s=0;s<e;s++)a=t[s],a&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},Gx=function(e){return!!(e._initted||e._startAt||e.add)},PS=function(e,t,s,a){ya.length&&!xn&&dm(),e.render(t,s,!!(xn&&t<0&&Gx(e))),ya.length&&!xn&&dm()},OS=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(jS).length<2?t:cn(e)?e.trim():e},MS=function(e){return e},ps=function(e,t){for(var s in t)s in e||(e[s]=t[s]);return e},Z9=function(e){return function(t,s){for(var a in s)a in t||a==="duration"&&e||a==="ease"||(t[a]=s[a])}},cc=function(e,t){for(var s in t)e[s]=t[s];return e},j2=function n(e,t){for(var s in t)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=Ar(t[s])?n(e[s]||(e[s]={}),t[s]):t[s]);return e},hm=function(e,t){var s={},a;for(a in e)a in t||(s[a]=e[a]);return s},Ju=function(e){var t=e.parent||St,s=e.keyframes?Z9(jn(e.keyframes)):ps;if(Gn(e.inherit))for(;t;)s(e,t.vars.defaults),t=t.parent||t._dp;return e},J9=function(e,t){for(var s=e.length,a=s===t.length;a&&s--&&e[s]===t[s];);return s<0},VS=function(e,t,s,a,l){var u=e[a],h;if(l)for(h=t[l];u&&u[l]>h;)u=u._prev;return u?(t._next=u._next,u._next=t):(t._next=e[s],e[s]=t),t._next?t._next._prev=t:e[a]=t,t._prev=u,t.parent=t._dp=e,t},Wm=function(e,t,s,a){s===void 0&&(s="_first"),a===void 0&&(a="_last");var l=t._prev,u=t._next;l?l._next=u:e[s]===t&&(e[s]=u),u?u._prev=l:e[a]===t&&(e[a]=l),t._next=t._prev=t.parent=null},ja=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ao=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},eV=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},oy=function(e,t,s,a){return e._startAt&&(xn?e._startAt.revert(If):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,a))},tV=function n(e){return!e||e._ts&&n(e.parent)},C2=function(e){return e._repeat?uc(e._tTime,e=e.duration()+e._rDelay)*e:0},uc=function(e,t){var s=Math.floor(e=Gt(e/t));return e&&s===e?s-1:s},fm=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Xm=function(e){return e._end=Gt(e._start+(e._tDur/Math.abs(e._ts||e._rts||mt)||0))},Zm=function(e,t){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=Gt(s._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Xm(e),s._dirty||Ao(s,e)),e},LS=function(e,t){var s;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(s=fm(e.rawTime(),t),(!t._dur||zd(0,t.totalDuration(),s)-t._tTime>mt)&&t.render(s,!0)),Ao(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-mt}},gr=function(e,t,s,a){return t.parent&&ja(t),t._start=Gt((_i(s)?s:s||e!==St?Rs(e,s,t):e._time)+t._delay),t._end=Gt(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),VS(e,t,"_first","_last",e._sort?"_start":0),ly(t)||(e._recent=t),a||LS(e,t),e._ts<0&&Zm(e,e._tTime),e},US=function(e,t){return(ms.ScrollTrigger||Bx("scrollTrigger",t))&&ms.ScrollTrigger.create(t,e)},zS=function(e,t,s,a,l){if(Yx(e,t,l),!e._initted)return 1;if(!s&&e._pt&&!xn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&DS!==as.frame)return ya.push(e),e._lazy=[l,a],1},nV=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},ly=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},sV=function(e,t,s,a){var l=e.ratio,u=t<0||!t&&(!e._start&&nV(e)&&!(!e._initted&&ly(e))||(e._ts<0||e._dp._ts<0)&&!ly(e))?0:1,h=e._rDelay,m=0,p,y,v;if(h&&e._repeat&&(m=zd(0,e._tDur,t),y=uc(m,h),e._yoyo&&y&1&&(u=1-u),y!==uc(e._tTime,h)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||xn||a||e._zTime===mt||!t&&e._zTime){if(!e._initted&&zS(e,t,a,s,m))return;for(v=e._zTime,e._zTime=t||(s?mt:0),s||(s=t&&!v),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=m,p=e._pt;p;)p.r(u,p.d),p=p._next;t<0&&oy(e,t,s,!0),e._onUpdate&&!s&&ls(e,"onUpdate"),m&&e._repeat&&!s&&e.parent&&ls(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&ja(e,1),!s&&!xn&&(ls(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},rV=function(e,t,s){var a;if(s>t)for(a=e._first;a&&a._start<=s;){if(a.data==="isPause"&&a._start>t)return a;a=a._next}else for(a=e._last;a&&a._start>=s;){if(a.data==="isPause"&&a._start<t)return a;a=a._prev}},dc=function(e,t,s,a){var l=e._repeat,u=Gt(t)||0,h=e._tTime/e._tDur;return h&&!a&&(e._time*=u/e._dur),e._dur=u,e._tDur=l?l<0?1e10:Gt(u*(l+1)+e._rDelay*l):u,h>0&&!a&&Zm(e,e._tTime=e._tDur*h),e.parent&&Xm(e),s||Ao(e.parent,e),e},R2=function(e){return e instanceof Ln?Ao(e):dc(e,e._dur)},iV={_start:0,endTime:gd,totalDuration:gd},Rs=function n(e,t,s){var a=e.labels,l=e._recent||iV,u=e.duration()>=Ds?l.endTime(!1):e._dur,h,m,p;return cn(t)&&(isNaN(t)||t in a)?(m=t.charAt(0),p=t.substr(-1)==="%",h=t.indexOf("="),m==="<"||m===">"?(h>=0&&(t=t.replace(/=/,"")),(m==="<"?l._start:l.endTime(l._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(h<0?l:s).totalDuration()/100:1)):h<0?(t in a||(a[t]=u),a[t]):(m=parseFloat(t.charAt(h-1)+t.substr(h+1)),p&&s&&(m=m/100*(jn(s)?s[0]:s).totalDuration()),h>1?n(e,t.substr(0,h-1),s)+m:u+m)):t==null?u:+t},ed=function(e,t,s){var a=_i(t[1]),l=(a?2:1)+(e<2?0:1),u=t[l],h,m;if(a&&(u.duration=t[1]),u.parent=s,e){for(h=u,m=s;m&&!("immediateRender"in h);)h=m.vars.defaults||{},m=Gn(m.vars.inherit)&&m.parent;u.immediateRender=Gn(h.immediateRender),e<2?u.runBackwards=1:u.startAt=t[l-1]}return new Ht(t[0],u,t[l+1])},Pa=function(e,t){return e||e===0?t(e):t},zd=function(e,t,s){return s<e?e:s>t?t:s},An=function(e,t){return!cn(e)||!(t=K9.exec(e))?"":t[1]},aV=function(e,t,s){return Pa(s,function(a){return zd(e,t,a)})},cy=[].slice,BS=function(e,t){return e&&Ar(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ar(e[0]))&&!e.nodeType&&e!==pr},oV=function(e,t,s){return s===void 0&&(s=[]),e.forEach(function(a){var l;return cn(a)&&!t||BS(a,1)?(l=s).push.apply(l,ks(a)):s.push(a)})||s},ks=function(e,t,s){return Nt&&!t&&Nt.selector?Nt.selector(e):cn(e)&&!s&&(iy||!hc())?cy.call((t||zx).querySelectorAll(e),0):jn(e)?oV(e,s):BS(e)?cy.call(e,0):e?[e]:[]},uy=function(e){return e=ks(e)[0]||pd("Invalid scope")||{},function(t){var s=e.current||e.nativeElement||e;return ks(t,s.querySelectorAll?s:s===e?pd("Invalid scope")||zx.createElement("div"):e)}},FS=function(e){return e.sort(function(){return .5-Math.random()})},qS=function(e){if(Dt(e))return e;var t=Ar(e)?e:{each:e},s=jo(t.ease),a=t.from||0,l=parseFloat(t.base)||0,u={},h=a>0&&a<1,m=isNaN(a)||h,p=t.axis,y=a,v=a;return cn(a)?y=v={center:.5,edges:.5,end:1}[a]||0:!h&&m&&(y=a[0],v=a[1]),function(b,N,j){var T=(j||t).length,R=u[T],M,k,q,L,H,Q,O,S,A;if(!R){if(A=t.grid==="auto"?0:(t.grid||[1,Ds])[1],!A){for(O=-Ds;O<(O=j[A++].getBoundingClientRect().left)&&A<T;);A<T&&A--}for(R=u[T]=[],M=m?Math.min(A,T)*y-.5:a%A,k=A===Ds?0:m?T*v/A-.5:a/A|0,O=0,S=Ds,Q=0;Q<T;Q++)q=Q%A-M,L=k-(Q/A|0),R[Q]=H=p?Math.abs(p==="y"?L:q):ES(q*q+L*L),H>O&&(O=H),H<S&&(S=H);a==="random"&&FS(R),R.max=O-S,R.min=S,R.v=T=(parseFloat(t.amount)||parseFloat(t.each)*(A>T?T-1:p?p==="y"?T/A:A:Math.max(A,T/A))||0)*(a==="edges"?-1:1),R.b=T<0?l-T:l,R.u=An(t.amount||t.each)||0,s=s&&T<0?JS(s):s}return T=(R[b]-R.min)/R.max||0,Gt(R.b+(s?s(T):T)*R.v)+R.u}},dy=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var a=Gt(Math.round(parseFloat(s)/e)*e*t);return(a-a%1)/t+(_i(s)?0:An(s))}},HS=function(e,t){var s=jn(e),a,l;return!s&&Ar(e)&&(a=s=e.radius||Ds,e.values?(e=ks(e.values),(l=!_i(e[0]))&&(a*=a)):e=dy(e.increment)),Pa(t,s?Dt(e)?function(u){return l=e(u),Math.abs(l-u)<=a?l:u}:function(u){for(var h=parseFloat(l?u.x:u),m=parseFloat(l?u.y:0),p=Ds,y=0,v=e.length,b,N;v--;)l?(b=e[v].x-h,N=e[v].y-m,b=b*b+N*N):b=Math.abs(e[v]-h),b<p&&(p=b,y=v);return y=!a||p<=a?e[y]:u,l||y===u||_i(u)?y:y+An(u)}:dy(e))},GS=function(e,t,s,a){return Pa(jn(e)?!t:s===!0?!!(s=0):!a,function(){return jn(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(a=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(t-e+s*.99))/s)*s*a)/a})},lV=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(a){return t.reduce(function(l,u){return u(l)},a)}},cV=function(e,t){return function(s){return e(parseFloat(s))+(t||An(s))}},uV=function(e,t,s){return YS(e,t,0,1,s)},$S=function(e,t,s){return Pa(s,function(a){return e[~~t(a)]})},dV=function n(e,t,s){var a=t-e;return jn(e)?$S(e,n(0,e.length),t):Pa(s,function(l){return(a+(l-e)%a)%a+e})},hV=function n(e,t,s){var a=t-e,l=a*2;return jn(e)?$S(e,n(0,e.length-1),t):Pa(s,function(u){return u=(l+(u-e)%l)%l||0,e+(u>a?l-u:u)})},yd=function(e){for(var t=0,s="",a,l,u,h;~(a=e.indexOf("random(",t));)u=e.indexOf(")",a),h=e.charAt(a+7)==="[",l=e.substr(a+7,u-a-7).match(h?jS:ry),s+=e.substr(t,a-t)+GS(h?l:+l[0],h?0:+l[1],+l[2]||1e-5),t=u+1;return s+e.substr(t,e.length-t)},YS=function(e,t,s,a,l){var u=t-e,h=a-s;return Pa(l,function(m){return s+((m-e)/u*h||0)})},fV=function n(e,t,s,a){var l=isNaN(e+t)?0:function(N){return(1-N)*e+N*t};if(!l){var u=cn(e),h={},m,p,y,v,b;if(s===!0&&(a=1)&&(s=null),u)e={p:e},t={p:t};else if(jn(e)&&!jn(t)){for(y=[],v=e.length,b=v-2,p=1;p<v;p++)y.push(n(e[p-1],e[p]));v--,l=function(j){j*=v;var T=Math.min(b,~~j);return y[T](j-T)},s=t}else a||(e=cc(jn(e)?[]:{},e));if(!y){for(m in t)$x.call(h,e,m,"get",t[m]);l=function(j){return Wx(j,h)||(u?e.p:e)}}}return Pa(s,l)},I2=function(e,t,s){var a=e.labels,l=Ds,u,h,m;for(u in a)h=a[u]-t,h<0==!!s&&h&&l>(h=Math.abs(h))&&(m=u,l=h);return m},ls=function(e,t,s){var a=e.vars,l=a[t],u=Nt,h=e._ctx,m,p,y;if(l)return m=a[t+"Params"],p=a.callbackScope||e,s&&ya.length&&dm(),h&&(Nt=h),y=m?l.apply(p,m):l.call(p),Nt=u,y},Fu=function(e){return ja(e),e.scrollTrigger&&e.scrollTrigger.kill(!!xn),e.progress()<1&&ls(e,"onInterrupt"),e},Ll,KS=[],QS=function(e){if(e)if(e=!e.name&&e.default||e,Ux()||e.headless){var t=e.name,s=Dt(e),a=t&&!s&&e.init?function(){this._props=[]}:e,l={init:gd,render:Wx,add:$x,kill:CV,modifier:jV,rawVars:0},u={targetTest:0,get:0,getSetter:Qx,aliases:{},register:0};if(hc(),e!==a){if(is[t])return;ps(a,ps(hm(e,l),u)),cc(a.prototype,cc(l,hm(e,u))),is[a.prop=t]=a,e.targetTest&&(Df.push(a),Fx[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}IS(t,a),e.register&&e.register(Qn,a,Yn)}else KS.push(e)},ft=255,qu={aqua:[0,ft,ft],lime:[0,ft,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ft],navy:[0,0,128],white:[ft,ft,ft],olive:[128,128,0],yellow:[ft,ft,0],orange:[ft,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ft,0,0],pink:[ft,192,203],cyan:[0,ft,ft],transparent:[ft,ft,ft,0]},N0=function(e,t,s){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(s-t)*e*6:e<.5?s:e*3<2?t+(s-t)*(2/3-e)*6:t)*ft+.5|0},WS=function(e,t,s){var a=e?_i(e)?[e>>16,e>>8&ft,e&ft]:0:qu.black,l,u,h,m,p,y,v,b,N,j;if(!a){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),qu[e])a=qu[e];else if(e.charAt(0)==="#"){if(e.length<6&&(l=e.charAt(1),u=e.charAt(2),h=e.charAt(3),e="#"+l+l+u+u+h+h+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return a=parseInt(e.substr(1,6),16),[a>>16,a>>8&ft,a&ft,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),a=[e>>16,e>>8&ft,e&ft]}else if(e.substr(0,3)==="hsl"){if(a=j=e.match(ry),!t)m=+a[0]%360/360,p=+a[1]/100,y=+a[2]/100,u=y<=.5?y*(p+1):y+p-y*p,l=y*2-u,a.length>3&&(a[3]*=1),a[0]=N0(m+1/3,l,u),a[1]=N0(m,l,u),a[2]=N0(m-1/3,l,u);else if(~e.indexOf("="))return a=e.match(SS),s&&a.length<4&&(a[3]=1),a}else a=e.match(ry)||qu.transparent;a=a.map(Number)}return t&&!j&&(l=a[0]/ft,u=a[1]/ft,h=a[2]/ft,v=Math.max(l,u,h),b=Math.min(l,u,h),y=(v+b)/2,v===b?m=p=0:(N=v-b,p=y>.5?N/(2-v-b):N/(v+b),m=v===l?(u-h)/N+(u<h?6:0):v===u?(h-l)/N+2:(l-u)/N+4,m*=60),a[0]=~~(m+.5),a[1]=~~(p*100+.5),a[2]=~~(y*100+.5)),s&&a.length<4&&(a[3]=1),a},XS=function(e){var t=[],s=[],a=-1;return e.split(xa).forEach(function(l){var u=l.match(Vl)||[];t.push.apply(t,u),s.push(a+=u.length+1)}),t.c=s,t},D2=function(e,t,s){var a="",l=(e+a).match(xa),u=t?"hsla(":"rgba(",h=0,m,p,y,v;if(!l)return e;if(l=l.map(function(b){return(b=WS(b,t,1))&&u+(t?b[0]+","+b[1]+"%,"+b[2]+"%,"+b[3]:b.join(","))+")"}),s&&(y=XS(e),m=s.c,m.join(a)!==y.c.join(a)))for(p=e.replace(xa,"1").split(Vl),v=p.length-1;h<v;h++)a+=p[h]+(~m.indexOf(h)?l.shift()||u+"0,0,0,0)":(y.length?y:l.length?l:s).shift());if(!p)for(p=e.split(xa),v=p.length-1;h<v;h++)a+=p[h]+l[h];return a+p[v]},xa=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in qu)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),mV=/hsl[a]?\(/,ZS=function(e){var t=e.join(" "),s;if(xa.lastIndex=0,xa.test(t))return s=mV.test(t),e[1]=D2(e[1],s),e[0]=D2(e[0],s,XS(e[1])),!0},xd,as=(function(){var n=Date.now,e=500,t=33,s=n(),a=s,l=1e3/240,u=l,h=[],m,p,y,v,b,N,j=function T(R){var M=n()-a,k=R===!0,q,L,H,Q;if((M>e||M<0)&&(s+=M-t),a+=M,H=a-s,q=H-u,(q>0||k)&&(Q=++v.frame,b=H-v.time*1e3,v.time=H=H/1e3,u+=q+(q>=l?4:l-q),L=1),k||(m=p(T)),L)for(N=0;N<h.length;N++)h[N](H,b,Q,R)};return v={time:0,frame:0,tick:function(){j(!0)},deltaRatio:function(R){return b/(1e3/(R||60))},wake:function(){CS&&(!iy&&Ux()&&(pr=iy=window,zx=pr.document||{},ms.gsap=Qn,(pr.gsapVersions||(pr.gsapVersions=[])).push(Qn.version),RS(um||pr.GreenSockGlobals||!pr.gsap&&pr||{}),KS.forEach(QS)),y=typeof requestAnimationFrame<"u"&&requestAnimationFrame,m&&v.sleep(),p=y||function(R){return setTimeout(R,u-v.time*1e3+1|0)},xd=1,j(2))},sleep:function(){(y?cancelAnimationFrame:clearTimeout)(m),xd=0,p=gd},lagSmoothing:function(R,M){e=R||1/0,t=Math.min(M||33,e)},fps:function(R){l=1e3/(R||240),u=v.time*1e3+l},add:function(R,M,k){var q=M?function(L,H,Q,O){R(L,H,Q,O),v.remove(q)}:R;return v.remove(R),h[k?"unshift":"push"](q),hc(),q},remove:function(R,M){~(M=h.indexOf(R))&&h.splice(M,1)&&N>=M&&N--},_listeners:h},v})(),hc=function(){return!xd&&as.wake()},$e={},pV=/^[\d.\-M][\d.\-,\s]/,gV=/["']/g,yV=function(e){for(var t={},s=e.substr(1,e.length-3).split(":"),a=s[0],l=1,u=s.length,h,m,p;l<u;l++)m=s[l],h=l!==u-1?m.lastIndexOf(","):m.length,p=m.substr(0,h),t[a]=isNaN(p)?p.replace(gV,"").trim():+p,a=m.substr(h+1).trim();return t},xV=function(e){var t=e.indexOf("(")+1,s=e.indexOf(")"),a=e.indexOf("(",t);return e.substring(t,~a&&a<s?e.indexOf(")",s+1):s)},vV=function(e){var t=(e+"").split("("),s=$e[t[0]];return s&&t.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[yV(t[1])]:xV(e).split(",").map(OS)):$e._CE&&pV.test(e)?$e._CE("",e):s},JS=function(e){return function(t){return 1-e(1-t)}},eA=function n(e,t){for(var s=e._first,a;s;)s instanceof Ln?n(s,t):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==t&&(s.timeline?n(s.timeline,t):(a=s._ease,s._ease=s._yEase,s._yEase=a,s._yoyo=t)),s=s._next},jo=function(e,t){return e&&(Dt(e)?e:$e[e]||vV(e))||t},Bo=function(e,t,s,a){s===void 0&&(s=function(m){return 1-t(1-m)}),a===void 0&&(a=function(m){return m<.5?t(m*2)/2:1-t((1-m)*2)/2});var l={easeIn:t,easeOut:s,easeInOut:a},u;return $n(e,function(h){$e[h]=ms[h]=l,$e[u=h.toLowerCase()]=s;for(var m in l)$e[u+(m==="easeIn"?".in":m==="easeOut"?".out":".inOut")]=$e[h+"."+m]=l[m]}),l},tA=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},E0=function n(e,t,s){var a=t>=1?t:1,l=(s||(e?.3:.45))/(t<1?t:1),u=l/sy*(Math.asin(1/a)||0),h=function(y){return y===1?1:a*Math.pow(2,-10*y)*Y9((y-u)*l)+1},m=e==="out"?h:e==="in"?function(p){return 1-h(1-p)}:tA(h);return l=sy/l,m.config=function(p,y){return n(e,p,y)},m},T0=function n(e,t){t===void 0&&(t=1.70158);var s=function(u){return u?--u*u*((t+1)*u+t)+1:0},a=e==="out"?s:e==="in"?function(l){return 1-s(1-l)}:tA(s);return a.config=function(l){return n(e,l)},a};$n("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Bo(n+",Power"+(t-1),e?function(s){return Math.pow(s,t)}:function(s){return s},function(s){return 1-Math.pow(1-s,t)},function(s){return s<.5?Math.pow(s*2,t)/2:1-Math.pow((1-s)*2,t)/2})});$e.Linear.easeNone=$e.none=$e.Linear.easeIn;Bo("Elastic",E0("in"),E0("out"),E0());(function(n,e){var t=1/e,s=2*t,a=2.5*t,l=function(h){return h<t?n*h*h:h<s?n*Math.pow(h-1.5/e,2)+.75:h<a?n*(h-=2.25/e)*h+.9375:n*Math.pow(h-2.625/e,2)+.984375};Bo("Bounce",function(u){return 1-l(1-u)},l)})(7.5625,2.75);Bo("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Bo("Circ",function(n){return-(ES(1-n*n)-1)});Bo("Sine",function(n){return n===1?1:-$9(n*H9)+1});Bo("Back",T0("in"),T0("out"),T0());$e.SteppedEase=$e.steps=ms.SteppedEase={config:function(e,t){e===void 0&&(e=1);var s=1/e,a=e+(t?0:1),l=t?1:0,u=1-mt;return function(h){return((a*zd(0,u,h)|0)+l)*s}}};lc.ease=$e["quad.out"];$n("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return qx+=n+","+n+"Params,"});var nA=function(e,t){this.id=G9++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:kS,this.set=t?t.getSetter:Qx},vd=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,dc(this,+t.duration,1,1),this.data=t.data,Nt&&(this._ctx=Nt,Nt.data.push(this)),xd||as.wake()}var e=n.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,dc(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,a){if(hc(),!arguments.length)return this._tTime;var l=this._dp;if(l&&l.smoothChildTiming&&this._ts){for(Zm(this,s),!l._dp||l.parent||LS(l,this);l&&l.parent;)l.parent._time!==l._start+(l._ts>=0?l._tTime/l._ts:(l.totalDuration()-l._tTime)/-l._ts)&&l.totalTime(l._tTime,!0),l=l.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&gr(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===mt||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),PS(this,s,a)),this},e.time=function(s,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+C2(this))%(this._dur+this._rDelay)||(s?this._dur:0),a):this._time},e.totalProgress=function(s,a){return arguments.length?this.totalTime(this.totalDuration()*s,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(s,a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+C2(this),a):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,a){var l=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*l,a):this._repeat?uc(this._tTime,l)+1:1},e.timeScale=function(s,a){if(!arguments.length)return this._rts===-mt?0:this._rts;if(this._rts===s)return this;var l=this.parent&&this._ts?fm(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-mt?0:this._rts,this.totalTime(zd(-Math.abs(this._delay),this.totalDuration(),l),a!==!1),Xm(this),eV(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(hc(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==mt&&(this._tTime-=mt)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&gr(a,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(Gn(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var a=this.parent||this._dp;return a?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?fm(a.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=W9);var a=xn;return xn=s,Gx(this)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),xn=a,this},e.globalTime=function(s){for(var a=this,l=arguments.length?s:a.rawTime();a;)l=a._start+l/(Math.abs(a._ts)||1),a=a._dp;return!this.parent&&this._sat?this._sat.globalTime(s):l},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,R2(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var a=this._time;return this._rDelay=s,R2(this),a?this.time(a):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,a){return this.totalTime(Rs(this,s),Gn(a))},e.restart=function(s,a){return this.play().totalTime(s?-this._delay:0,Gn(a)),this._dur||(this._zTime=-mt),this},e.play=function(s,a){return s!=null&&this.seek(s,a),this.reversed(!1).paused(!1)},e.reverse=function(s,a){return s!=null&&this.seek(s||this.totalDuration(),a),this.reversed(!0).paused(!1)},e.pause=function(s,a){return s!=null&&this.seek(s,a),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-mt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-mt,this},e.isActive=function(){var s=this.parent||this._dp,a=this._start,l;return!!(!s||this._ts&&this._initted&&s.isActive()&&(l=s.rawTime(!0))>=a&&l<this.endTime(!0)-mt)},e.eventCallback=function(s,a,l){var u=this.vars;return arguments.length>1?(a?(u[s]=a,l&&(u[s+"Params"]=l),s==="onUpdate"&&(this._onUpdate=a)):delete u[s],this):u[s]},e.then=function(s){var a=this;return new Promise(function(l){var u=Dt(s)?s:MS,h=function(){var p=a.then;a.then=null,Dt(u)&&(u=u(a))&&(u.then||u===a)&&(a.then=p),l(u),a.then=p};a._initted&&a.totalProgress()===1&&a._ts>=0||!a._tTime&&a._ts<0?h():a._prom=h})},e.kill=function(){Fu(this)},n})();ps(vd.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-mt,_prom:0,_ps:!1,_rts:1});var Ln=(function(n){NS(e,n);function e(s,a){var l;return s===void 0&&(s={}),l=n.call(this,s)||this,l.labels={},l.smoothChildTiming=!!s.smoothChildTiming,l.autoRemoveChildren=!!s.autoRemoveChildren,l._sort=Gn(s.sortChildren),St&&gr(s.parent||St,ii(l),a),s.reversed&&l.reverse(),s.paused&&l.paused(!0),s.scrollTrigger&&US(ii(l),s.scrollTrigger),l}var t=e.prototype;return t.to=function(a,l,u){return ed(0,arguments,this),this},t.from=function(a,l,u){return ed(1,arguments,this),this},t.fromTo=function(a,l,u,h){return ed(2,arguments,this),this},t.set=function(a,l,u){return l.duration=0,l.parent=this,Ju(l).repeatDelay||(l.repeat=0),l.immediateRender=!!l.immediateRender,new Ht(a,l,Rs(this,u),1),this},t.call=function(a,l,u){return gr(this,Ht.delayedCall(0,a,l),u)},t.staggerTo=function(a,l,u,h,m,p,y){return u.duration=l,u.stagger=u.stagger||h,u.onComplete=p,u.onCompleteParams=y,u.parent=this,new Ht(a,u,Rs(this,m)),this},t.staggerFrom=function(a,l,u,h,m,p,y){return u.runBackwards=1,Ju(u).immediateRender=Gn(u.immediateRender),this.staggerTo(a,l,u,h,m,p,y)},t.staggerFromTo=function(a,l,u,h,m,p,y,v){return h.startAt=u,Ju(h).immediateRender=Gn(h.immediateRender),this.staggerTo(a,l,h,m,p,y,v)},t.render=function(a,l,u){var h=this._time,m=this._dirty?this.totalDuration():this._tDur,p=this._dur,y=a<=0?0:Gt(a),v=this._zTime<0!=a<0&&(this._initted||!p),b,N,j,T,R,M,k,q,L,H,Q,O;if(this!==St&&y>m&&a>=0&&(y=m),y!==this._tTime||u||v){if(h!==this._time&&p&&(y+=this._time-h,a+=this._time-h),b=y,L=this._start,q=this._ts,M=!q,v&&(p||(h=this._zTime),(a||!l)&&(this._zTime=a)),this._repeat){if(Q=this._yoyo,R=p+this._rDelay,this._repeat<-1&&a<0)return this.totalTime(R*100+a,l,u);if(b=Gt(y%R),y===m?(T=this._repeat,b=p):(H=Gt(y/R),T=~~H,T&&T===H&&(b=p,T--),b>p&&(b=p)),H=uc(this._tTime,R),!h&&this._tTime&&H!==T&&this._tTime-H*R-this._dur<=0&&(H=T),Q&&T&1&&(b=p-b,O=1),T!==H&&!this._lock){var S=Q&&H&1,A=S===(Q&&T&1);if(T<H&&(S=!S),h=S?0:y%p?p:y,this._lock=1,this.render(h||(O?0:Gt(T*R)),l,!p)._lock=0,this._tTime=y,!l&&this.parent&&ls(this,"onRepeat"),this.vars.repeatRefresh&&!O&&(this.invalidate()._lock=1),h&&h!==this._time||M!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,m=this._tDur,A&&(this._lock=2,h=S?p:-1e-4,this.render(h,!0),this.vars.repeatRefresh&&!O&&this.invalidate()),this._lock=0,!this._ts&&!M)return this;eA(this,O)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(k=rV(this,Gt(h),Gt(b)),k&&(y-=b-(b=k._start))),this._tTime=y,this._time=b,this._act=!q,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=a,h=0),!h&&y&&!l&&!H&&(ls(this,"onStart"),this._tTime!==y))return this;if(b>=h&&a>=0)for(N=this._first;N;){if(j=N._next,(N._act||b>=N._start)&&N._ts&&k!==N){if(N.parent!==this)return this.render(a,l,u);if(N.render(N._ts>0?(b-N._start)*N._ts:(N._dirty?N.totalDuration():N._tDur)+(b-N._start)*N._ts,l,u),b!==this._time||!this._ts&&!M){k=0,j&&(y+=this._zTime=-mt);break}}N=j}else{N=this._last;for(var B=a<0?a:b;N;){if(j=N._prev,(N._act||B<=N._end)&&N._ts&&k!==N){if(N.parent!==this)return this.render(a,l,u);if(N.render(N._ts>0?(B-N._start)*N._ts:(N._dirty?N.totalDuration():N._tDur)+(B-N._start)*N._ts,l,u||xn&&Gx(N)),b!==this._time||!this._ts&&!M){k=0,j&&(y+=this._zTime=B?-mt:mt);break}}N=j}}if(k&&!l&&(this.pause(),k.render(b>=h?0:-mt)._zTime=b>=h?1:-1,this._ts))return this._start=L,Xm(this),this.render(a,l,u);this._onUpdate&&!l&&ls(this,"onUpdate",!0),(y===m&&this._tTime>=this.totalDuration()||!y&&h)&&(L===this._start||Math.abs(q)!==Math.abs(this._ts))&&(this._lock||((a||!p)&&(y===m&&this._ts>0||!y&&this._ts<0)&&ja(this,1),!l&&!(a<0&&!h)&&(y||h||!m)&&(ls(this,y===m&&a>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<m&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(a,l){var u=this;if(_i(l)||(l=Rs(this,l,a)),!(a instanceof vd)){if(jn(a))return a.forEach(function(h){return u.add(h,l)}),this;if(cn(a))return this.addLabel(a,l);if(Dt(a))a=Ht.delayedCall(0,a);else return this}return this!==a?gr(this,a,l):this},t.getChildren=function(a,l,u,h){a===void 0&&(a=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),h===void 0&&(h=-Ds);for(var m=[],p=this._first;p;)p._start>=h&&(p instanceof Ht?l&&m.push(p):(u&&m.push(p),a&&m.push.apply(m,p.getChildren(!0,l,u)))),p=p._next;return m},t.getById=function(a){for(var l=this.getChildren(1,1,1),u=l.length;u--;)if(l[u].vars.id===a)return l[u]},t.remove=function(a){return cn(a)?this.removeLabel(a):Dt(a)?this.killTweensOf(a):(a.parent===this&&Wm(this,a),a===this._recent&&(this._recent=this._last),Ao(this))},t.totalTime=function(a,l){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Gt(as.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),n.prototype.totalTime.call(this,a,l),this._forcing=0,this):this._tTime},t.addLabel=function(a,l){return this.labels[a]=Rs(this,l),this},t.removeLabel=function(a){return delete this.labels[a],this},t.addPause=function(a,l,u){var h=Ht.delayedCall(0,l||gd,u);return h.data="isPause",this._hasPause=1,gr(this,h,Rs(this,a))},t.removePause=function(a){var l=this._first;for(a=Rs(this,a);l;)l._start===a&&l.data==="isPause"&&ja(l),l=l._next},t.killTweensOf=function(a,l,u){for(var h=this.getTweensOf(a,u),m=h.length;m--;)ua!==h[m]&&h[m].kill(a,l);return this},t.getTweensOf=function(a,l){for(var u=[],h=ks(a),m=this._first,p=_i(l),y;m;)m instanceof Ht?X9(m._targets,h)&&(p?(!ua||m._initted&&m._ts)&&m.globalTime(0)<=l&&m.globalTime(m.totalDuration())>l:!l||m.isActive())&&u.push(m):(y=m.getTweensOf(h,l)).length&&u.push.apply(u,y),m=m._next;return u},t.tweenTo=function(a,l){l=l||{};var u=this,h=Rs(u,a),m=l,p=m.startAt,y=m.onStart,v=m.onStartParams,b=m.immediateRender,N,j=Ht.to(u,ps({ease:l.ease||"none",lazy:!1,immediateRender:!1,time:h,overwrite:"auto",duration:l.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale())||mt,onStart:function(){if(u.pause(),!N){var R=l.duration||Math.abs((h-(p&&"time"in p?p.time:u._time))/u.timeScale());j._dur!==R&&dc(j,R,0,1).render(j._time,!0,!0),N=1}y&&y.apply(j,v||[])}},l));return b?j.render(0):j},t.tweenFromTo=function(a,l,u){return this.tweenTo(l,ps({startAt:{time:Rs(this,a)}},u))},t.recent=function(){return this._recent},t.nextLabel=function(a){return a===void 0&&(a=this._time),I2(this,Rs(this,a))},t.previousLabel=function(a){return a===void 0&&(a=this._time),I2(this,Rs(this,a),1)},t.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.previousLabel(this._time+mt)},t.shiftChildren=function(a,l,u){u===void 0&&(u=0);for(var h=this._first,m=this.labels,p;h;)h._start>=u&&(h._start+=a,h._end+=a),h=h._next;if(l)for(p in m)m[p]>=u&&(m[p]+=a);return Ao(this)},t.invalidate=function(a){var l=this._first;for(this._lock=0;l;)l.invalidate(a),l=l._next;return n.prototype.invalidate.call(this,a)},t.clear=function(a){a===void 0&&(a=!0);for(var l=this._first,u;l;)u=l._next,this.remove(l),l=u;return this._dp&&(this._time=this._tTime=this._pTime=0),a&&(this.labels={}),Ao(this)},t.totalDuration=function(a){var l=0,u=this,h=u._last,m=Ds,p,y,v;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-a:a));if(u._dirty){for(v=u.parent;h;)p=h._prev,h._dirty&&h.totalDuration(),y=h._start,y>m&&u._sort&&h._ts&&!u._lock?(u._lock=1,gr(u,h,y-h._delay,1)._lock=0):m=y,y<0&&h._ts&&(l-=y,(!v&&!u._dp||v&&v.smoothChildTiming)&&(u._start+=y/u._ts,u._time-=y,u._tTime-=y),u.shiftChildren(-y,!1,-1/0),m=0),h._end>l&&h._ts&&(l=h._end),h=p;dc(u,u===St&&u._time>l?u._time:l,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(a){if(St._ts&&(PS(St,fm(a,St)),DS=as.frame),as.frame>=A2){A2+=ds.autoSleep||120;var l=St._first;if((!l||!l._ts)&&ds.autoSleep&&as._listeners.length<2){for(;l&&!l._ts;)l=l._next;l||as.sleep()}}},e})(vd);ps(Ln.prototype,{_lock:0,_hasPause:0,_forcing:0});var _V=function(e,t,s,a,l,u,h){var m=new Yn(this._pt,e,t,0,1,lA,null,l),p=0,y=0,v,b,N,j,T,R,M,k;for(m.b=s,m.e=a,s+="",a+="",(M=~a.indexOf("random("))&&(a=yd(a)),u&&(k=[s,a],u(k,e,t),s=k[0],a=k[1]),b=s.match(b0)||[];v=b0.exec(a);)j=v[0],T=a.substring(p,v.index),N?N=(N+1)%5:T.substr(-5)==="rgba("&&(N=1),j!==b[y++]&&(R=parseFloat(b[y-1])||0,m._pt={_next:m._pt,p:T||y===1?T:",",s:R,c:j.charAt(1)==="="?Yl(R,j)-R:parseFloat(j)-R,m:N&&N<4?Math.round:0},p=b0.lastIndex);return m.c=p<a.length?a.substring(p,a.length):"",m.fp=h,(AS.test(a)||M)&&(m.e=0),this._pt=m,m},$x=function(e,t,s,a,l,u,h,m,p,y){Dt(a)&&(a=a(l||0,e,u));var v=e[t],b=s!=="get"?s:Dt(v)?p?e[t.indexOf("set")||!Dt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():v,N=Dt(v)?p?TV:aA:Kx,j;if(cn(a)&&(~a.indexOf("random(")&&(a=yd(a)),a.charAt(1)==="="&&(j=Yl(b,a)+(An(b)||0),(j||j===0)&&(a=j))),!y||b!==a||hy)return!isNaN(b*a)&&a!==""?(j=new Yn(this._pt,e,t,+b||0,a-(b||0),typeof v=="boolean"?AV:oA,0,N),p&&(j.fp=p),h&&j.modifier(h,this,e),this._pt=j):(!v&&!(t in e)&&Bx(t,a),_V.call(this,e,t,b,a,N,m||ds.stringFilter,p))},bV=function(e,t,s,a,l){if(Dt(e)&&(e=td(e,l,t,s,a)),!Ar(e)||e.style&&e.nodeType||jn(e)||TS(e))return cn(e)?td(e,l,t,s,a):e;var u={},h;for(h in e)u[h]=td(e[h],l,t,s,a);return u},sA=function(e,t,s,a,l,u){var h,m,p,y;if(is[e]&&(h=new is[e]).init(l,h.rawVars?t[e]:bV(t[e],a,l,u,s),s,a,u)!==!1&&(s._pt=m=new Yn(s._pt,l,e,0,1,h.render,h,0,h.priority),s!==Ll))for(p=s._ptLookup[s._targets.indexOf(l)],y=h._props.length;y--;)p[h._props[y]]=m;return h},ua,hy,Yx=function n(e,t,s){var a=e.vars,l=a.ease,u=a.startAt,h=a.immediateRender,m=a.lazy,p=a.onUpdate,y=a.runBackwards,v=a.yoyoEase,b=a.keyframes,N=a.autoRevert,j=e._dur,T=e._startAt,R=e._targets,M=e.parent,k=M&&M.data==="nested"?M.vars.targets:R,q=e._overwrite==="auto"&&!Vx,L=e.timeline,H,Q,O,S,A,B,V,U,P,we,xe,K,re;if(L&&(!b||!l)&&(l="none"),e._ease=jo(l,lc.ease),e._yEase=v?JS(jo(v===!0?l:v,lc.ease)):0,v&&e._yoyo&&!e._repeat&&(v=e._yEase,e._yEase=e._ease,e._ease=v),e._from=!L&&!!a.runBackwards,!L||b&&!a.stagger){if(U=R[0]?So(R[0]).harness:0,K=U&&a[U.prop],H=hm(a,Fx),T&&(T._zTime<0&&T.progress(1),t<0&&y&&h&&!N?T.render(-1,!0):T.revert(y&&j?If:Q9),T._lazy=0),u){if(ja(e._startAt=Ht.set(R,ps({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!T&&Gn(m),startAt:null,delay:0,onUpdate:p&&function(){return ls(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(xn||!h&&!N)&&e._startAt.revert(If),h&&j&&t<=0&&s<=0){t&&(e._zTime=t);return}}else if(y&&j&&!T){if(t&&(h=!1),O=ps({overwrite:!1,data:"isFromStart",lazy:h&&!T&&Gn(m),immediateRender:h,stagger:0,parent:M},H),K&&(O[U.prop]=K),ja(e._startAt=Ht.set(R,O)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(xn?e._startAt.revert(If):e._startAt.render(-1,!0)),e._zTime=t,!h)n(e._startAt,mt,mt);else if(!t)return}for(e._pt=e._ptCache=0,m=j&&Gn(m)||m&&!j,Q=0;Q<R.length;Q++){if(A=R[Q],V=A._gsap||Hx(R)[Q]._gsap,e._ptLookup[Q]=we={},ay[V.id]&&ya.length&&dm(),xe=k===R?Q:k.indexOf(A),U&&(P=new U).init(A,K||H,e,xe,k)!==!1&&(e._pt=S=new Yn(e._pt,A,P.name,0,1,P.render,P,0,P.priority),P._props.forEach(function(he){we[he]=S}),P.priority&&(B=1)),!U||K)for(O in H)is[O]&&(P=sA(O,H,e,xe,A,k))?P.priority&&(B=1):we[O]=S=$x.call(e,A,O,"get",H[O],xe,k,0,a.stringFilter);e._op&&e._op[Q]&&e.kill(A,e._op[Q]),q&&e._pt&&(ua=e,St.killTweensOf(A,we,e.globalTime(t)),re=!e.parent,ua=0),e._pt&&m&&(ay[V.id]=1)}B&&cA(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!re,b&&t<=0&&L.render(Ds,!0,!0)},wV=function(e,t,s,a,l,u,h,m){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],y,v,b,N;if(!p)for(p=e._ptCache[t]=[],b=e._ptLookup,N=e._targets.length;N--;){if(y=b[N][t],y&&y.d&&y.d._pt)for(y=y.d._pt;y&&y.p!==t&&y.fp!==t;)y=y._next;if(!y)return hy=1,e.vars[t]="+=0",Yx(e,h),hy=0,m?pd(t+" not eligible for reset"):1;p.push(y)}for(N=p.length;N--;)v=p[N],y=v._pt||v,y.s=(a||a===0)&&!l?a:y.s+(a||0)+u*y.c,y.c=s-y.s,v.e&&(v.e=Vt(s)+An(v.e)),v.b&&(v.b=y.s+An(v.b))},NV=function(e,t){var s=e[0]?So(e[0]).harness:0,a=s&&s.aliases,l,u,h,m;if(!a)return t;l=cc({},t);for(u in a)if(u in l)for(m=a[u].split(","),h=m.length;h--;)l[m[h]]=l[u];return l},EV=function(e,t,s,a){var l=t.ease||a||"power1.inOut",u,h;if(jn(t))h=s[e]||(s[e]=[]),t.forEach(function(m,p){return h.push({t:p/(t.length-1)*100,v:m,e:l})});else for(u in t)h=s[u]||(s[u]=[]),u==="ease"||h.push({t:parseFloat(e),v:t[u],e:l})},td=function(e,t,s,a,l){return Dt(e)?e.call(t,s,a,l):cn(e)&&~e.indexOf("random(")?yd(e):e},rA=qx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",iA={};$n(rA+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return iA[n]=1});var Ht=(function(n){NS(e,n);function e(s,a,l,u){var h;typeof a=="number"&&(l.duration=a,a=l,l=null),h=n.call(this,u?a:Ju(a))||this;var m=h.vars,p=m.duration,y=m.delay,v=m.immediateRender,b=m.stagger,N=m.overwrite,j=m.keyframes,T=m.defaults,R=m.scrollTrigger,M=m.yoyoEase,k=a.parent||St,q=(jn(s)||TS(s)?_i(s[0]):"length"in a)?[s]:ks(s),L,H,Q,O,S,A,B,V;if(h._targets=q.length?Hx(q):pd("GSAP target "+s+" not found. https://gsap.com",!ds.nullTargetWarn)||[],h._ptLookup=[],h._overwrite=N,j||b||xf(p)||xf(y)){if(a=h.vars,L=h.timeline=new Ln({data:"nested",defaults:T||{},targets:k&&k.data==="nested"?k.vars.targets:q}),L.kill(),L.parent=L._dp=ii(h),L._start=0,b||xf(p)||xf(y)){if(O=q.length,B=b&&qS(b),Ar(b))for(S in b)~rA.indexOf(S)&&(V||(V={}),V[S]=b[S]);for(H=0;H<O;H++)Q=hm(a,iA),Q.stagger=0,M&&(Q.yoyoEase=M),V&&cc(Q,V),A=q[H],Q.duration=+td(p,ii(h),H,A,q),Q.delay=(+td(y,ii(h),H,A,q)||0)-h._delay,!b&&O===1&&Q.delay&&(h._delay=y=Q.delay,h._start+=y,Q.delay=0),L.to(A,Q,B?B(H,A,q):0),L._ease=$e.none;L.duration()?p=y=0:h.timeline=0}else if(j){Ju(ps(L.vars.defaults,{ease:"none"})),L._ease=jo(j.ease||a.ease||"none");var U=0,P,we,xe;if(jn(j))j.forEach(function(K){return L.to(q,K,">")}),L.duration();else{Q={};for(S in j)S==="ease"||S==="easeEach"||EV(S,j[S],Q,j.easeEach);for(S in Q)for(P=Q[S].sort(function(K,re){return K.t-re.t}),U=0,H=0;H<P.length;H++)we=P[H],xe={ease:we.e,duration:(we.t-(H?P[H-1].t:0))/100*p},xe[S]=we.v,L.to(q,xe,U),U+=xe.duration;L.duration()<p&&L.to({},{duration:p-L.duration()})}}p||h.duration(p=L.duration())}else h.timeline=0;return N===!0&&!Vx&&(ua=ii(h),St.killTweensOf(q),ua=0),gr(k,ii(h),l),a.reversed&&h.reverse(),a.paused&&h.paused(!0),(v||!p&&!j&&h._start===Gt(k._time)&&Gn(v)&&tV(ii(h))&&k.data!=="nested")&&(h._tTime=-mt,h.render(Math.max(0,-y)||0)),R&&US(ii(h),R),h}var t=e.prototype;return t.render=function(a,l,u){var h=this._time,m=this._tDur,p=this._dur,y=a<0,v=a>m-mt&&!y?m:a<mt?0:a,b,N,j,T,R,M,k,q,L;if(!p)sV(this,a,l,u);else if(v!==this._tTime||!a||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==y||this._lazy){if(b=v,q=this.timeline,this._repeat){if(T=p+this._rDelay,this._repeat<-1&&y)return this.totalTime(T*100+a,l,u);if(b=Gt(v%T),v===m?(j=this._repeat,b=p):(R=Gt(v/T),j=~~R,j&&j===R?(b=p,j--):b>p&&(b=p)),M=this._yoyo&&j&1,M&&(L=this._yEase,b=p-b),R=uc(this._tTime,T),b===h&&!u&&this._initted&&j===R)return this._tTime=v,this;j!==R&&(q&&this._yEase&&eA(q,M),this.vars.repeatRefresh&&!M&&!this._lock&&b!==T&&this._initted&&(this._lock=u=1,this.render(Gt(T*j),!0).invalidate()._lock=0))}if(!this._initted){if(zS(this,y?a:b,u,l,v))return this._tTime=0,this;if(h!==this._time&&!(u&&this.vars.repeatRefresh&&j!==R))return this;if(p!==this._dur)return this.render(a,l,u)}if(this._tTime=v,this._time=b,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=k=(L||this._ease)(b/p),this._from&&(this.ratio=k=1-k),!h&&v&&!l&&!R&&(ls(this,"onStart"),this._tTime!==v))return this;for(N=this._pt;N;)N.r(k,N.d),N=N._next;q&&q.render(a<0?a:q._dur*q._ease(b/this._dur),l,u)||this._startAt&&(this._zTime=a),this._onUpdate&&!l&&(y&&oy(this,a,l,u),ls(this,"onUpdate")),this._repeat&&j!==R&&this.vars.onRepeat&&!l&&this.parent&&ls(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(y&&!this._onUpdate&&oy(this,a,!0,!0),(a||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&ja(this,1),!l&&!(y&&!h)&&(v||h||M)&&(ls(this,v===m?"onComplete":"onReverseComplete",!0),this._prom&&!(v<m&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(a){return(!a||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(a),n.prototype.invalidate.call(this,a)},t.resetTo=function(a,l,u,h,m){xd||as.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),y;return this._initted||Yx(this,p),y=this._ease(p/this._dur),wV(this,a,l,u,h,y,p,m)?this.resetTo(a,l,u,h,1):(Zm(this,0),this.parent||VS(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(a,l){if(l===void 0&&(l="all"),!a&&(!l||l==="all"))return this._lazy=this._pt=0,this.parent?Fu(this):this.scrollTrigger&&this.scrollTrigger.kill(!!xn),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(a,l,ua&&ua.vars.overwrite!==!0)._first||Fu(this),this.parent&&u!==this.timeline.totalDuration()&&dc(this,this._dur*this.timeline._tDur/u,0,1),this}var h=this._targets,m=a?ks(a):h,p=this._ptLookup,y=this._pt,v,b,N,j,T,R,M;if((!l||l==="all")&&J9(h,m))return l==="all"&&(this._pt=0),Fu(this);for(v=this._op=this._op||[],l!=="all"&&(cn(l)&&(T={},$n(l,function(k){return T[k]=1}),l=T),l=NV(h,l)),M=h.length;M--;)if(~m.indexOf(h[M])){b=p[M],l==="all"?(v[M]=l,j=b,N={}):(N=v[M]=v[M]||{},j=l);for(T in j)R=b&&b[T],R&&((!("kill"in R.d)||R.d.kill(T)===!0)&&Wm(this,R,"_pt"),delete b[T]),N!=="all"&&(N[T]=1)}return this._initted&&!this._pt&&y&&Fu(this),this},e.to=function(a,l){return new e(a,l,arguments[2])},e.from=function(a,l){return ed(1,arguments)},e.delayedCall=function(a,l,u,h){return new e(l,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:a,onComplete:l,onReverseComplete:l,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:h})},e.fromTo=function(a,l,u){return ed(2,arguments)},e.set=function(a,l){return l.duration=0,l.repeatDelay||(l.repeat=0),new e(a,l)},e.killTweensOf=function(a,l,u){return St.killTweensOf(a,l,u)},e})(vd);ps(Ht.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$n("staggerTo,staggerFrom,staggerFromTo",function(n){Ht[n]=function(){var e=new Ln,t=cy.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Kx=function(e,t,s){return e[t]=s},aA=function(e,t,s){return e[t](s)},TV=function(e,t,s,a){return e[t](a.fp,s)},SV=function(e,t,s){return e.setAttribute(t,s)},Qx=function(e,t){return Dt(e[t])?aA:Lx(e[t])&&e.setAttribute?SV:Kx},oA=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},AV=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},lA=function(e,t){var s=t._pt,a="";if(!e&&t.b)a=t.b;else if(e===1&&t.e)a=t.e;else{for(;s;)a=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+a,s=s._next;a+=t.c}t.set(t.t,t.p,a,t)},Wx=function(e,t){for(var s=t._pt;s;)s.r(e,s.d),s=s._next},jV=function(e,t,s,a){for(var l=this._pt,u;l;)u=l._next,l.p===a&&l.modifier(e,t,s),l=u},CV=function(e){for(var t=this._pt,s,a;t;)a=t._next,t.p===e&&!t.op||t.op===e?Wm(this,t,"_pt"):t.dep||(s=1),t=a;return!s},RV=function(e,t,s,a){a.mSet(e,t,a.m.call(a.tween,s,a.mt),a)},cA=function(e){for(var t=e._pt,s,a,l,u;t;){for(s=t._next,a=l;a&&a.pr>t.pr;)a=a._next;(t._prev=a?a._prev:u)?t._prev._next=t:l=t,(t._next=a)?a._prev=t:u=t,t=s}e._pt=l},Yn=(function(){function n(t,s,a,l,u,h,m,p,y){this.t=s,this.s=l,this.c=u,this.p=a,this.r=h||oA,this.d=m||this,this.set=p||Kx,this.pr=y||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(s,a,l){this.mSet=this.mSet||this.set,this.set=RV,this.m=s,this.mt=l,this.tween=a},n})();$n(qx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Fx[n]=1});ms.TweenMax=ms.TweenLite=Ht;ms.TimelineLite=ms.TimelineMax=Ln;St=new Ln({sortChildren:!1,defaults:lc,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ds.stringFilter=ZS;var Co=[],kf={},IV=[],k2=0,DV=0,S0=function(e){return(kf[e]||IV).map(function(t){return t()})},fy=function(){var e=Date.now(),t=[];e-k2>2&&(S0("matchMediaInit"),Co.forEach(function(s){var a=s.queries,l=s.conditions,u,h,m,p;for(h in a)u=pr.matchMedia(a[h]).matches,u&&(m=1),u!==l[h]&&(l[h]=u,p=1);p&&(s.revert(),m&&t.push(s))}),S0("matchMediaRevert"),t.forEach(function(s){return s.onMatch(s,function(a){return s.add(null,a)})}),k2=e,S0("matchMedia"))},uA=(function(){function n(t,s){this.selector=s&&uy(s),this.data=[],this._r=[],this.isReverted=!1,this.id=DV++,t&&this.add(t)}var e=n.prototype;return e.add=function(s,a,l){Dt(s)&&(l=a,a=s,s=Dt);var u=this,h=function(){var p=Nt,y=u.selector,v;return p&&p!==u&&p.data.push(u),l&&(u.selector=uy(l)),Nt=u,v=a.apply(u,arguments),Dt(v)&&u._r.push(v),Nt=p,u.selector=y,u.isReverted=!1,v};return u.last=h,s===Dt?h(u,function(m){return u.add(null,m)}):s?u[s]=h:h},e.ignore=function(s){var a=Nt;Nt=null,s(this),Nt=a},e.getTweens=function(){var s=[];return this.data.forEach(function(a){return a instanceof n?s.push.apply(s,a.getTweens()):a instanceof Ht&&!(a.parent&&a.parent.data==="nested")&&s.push(a)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,a){var l=this;if(s?(function(){for(var h=l.getTweens(),m=l.data.length,p;m--;)p=l.data[m],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(y){return h.splice(h.indexOf(y),1)}));for(h.map(function(y){return{g:y._dur||y._delay||y._sat&&!y._sat.vars.immediateRender?y.globalTime(0):-1/0,t:y}}).sort(function(y,v){return v.g-y.g||-1/0}).forEach(function(y){return y.t.revert(s)}),m=l.data.length;m--;)p=l.data[m],p instanceof Ln?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof Ht)&&p.revert&&p.revert(s);l._r.forEach(function(y){return y(s,l)}),l.isReverted=!0})():this.data.forEach(function(h){return h.kill&&h.kill()}),this.clear(),a)for(var u=Co.length;u--;)Co[u].id===this.id&&Co.splice(u,1)},e.revert=function(s){this.kill(s||{})},n})(),kV=(function(){function n(t){this.contexts=[],this.scope=t,Nt&&Nt.data.push(this)}var e=n.prototype;return e.add=function(s,a,l){Ar(s)||(s={matches:s});var u=new uA(0,l||this.scope),h=u.conditions={},m,p,y;Nt&&!u.selector&&(u.selector=Nt.selector),this.contexts.push(u),a=u.add("onMatch",a),u.queries=s;for(p in s)p==="all"?y=1:(m=pr.matchMedia(s[p]),m&&(Co.indexOf(u)<0&&Co.push(u),(h[p]=m.matches)&&(y=1),m.addListener?m.addListener(fy):m.addEventListener("change",fy)));return y&&a(u,function(v){return u.add(null,v)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(a){return a.kill(s,!0)})},n})(),mm={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];t.forEach(function(a){return QS(a)})},timeline:function(e){return new Ln(e)},getTweensOf:function(e,t){return St.getTweensOf(e,t)},getProperty:function(e,t,s,a){cn(e)&&(e=ks(e)[0]);var l=So(e||{}).get,u=s?MS:OS;return s==="native"&&(s=""),e&&(t?u((is[t]&&is[t].get||l)(e,t,s,a)):function(h,m,p){return u((is[h]&&is[h].get||l)(e,h,m,p))})},quickSetter:function(e,t,s){if(e=ks(e),e.length>1){var a=e.map(function(y){return Qn.quickSetter(y,t,s)}),l=a.length;return function(y){for(var v=l;v--;)a[v](y)}}e=e[0]||{};var u=is[t],h=So(e),m=h.harness&&(h.harness.aliases||{})[t]||t,p=u?function(y){var v=new u;Ll._pt=0,v.init(e,s?y+s:y,Ll,0,[e]),v.render(1,v),Ll._pt&&Wx(1,Ll)}:h.set(e,m);return u?p:function(y){return p(e,m,s?y+s:y,h,1)}},quickTo:function(e,t,s){var a,l=Qn.to(e,ps((a={},a[t]="+=0.1",a.paused=!0,a.stagger=0,a),s||{})),u=function(m,p,y){return l.resetTo(t,m,p,y)};return u.tween=l,u},isTweening:function(e){return St.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=jo(e.ease,lc.ease)),j2(lc,e||{})},config:function(e){return j2(ds,e||{})},registerEffect:function(e){var t=e.name,s=e.effect,a=e.plugins,l=e.defaults,u=e.extendTimeline;(a||"").split(",").forEach(function(h){return h&&!is[h]&&!ms[h]&&pd(t+" effect requires "+h+" plugin.")}),w0[t]=function(h,m,p){return s(ks(h),ps(m||{},l),p)},u&&(Ln.prototype[t]=function(h,m,p){return this.add(w0[t](h,Ar(m)?m:(p=m)&&{},this),p)})},registerEase:function(e,t){$e[e]=jo(t)},parseEase:function(e,t){return arguments.length?jo(e,t):$e},getById:function(e){return St.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var s=new Ln(e),a,l;for(s.smoothChildTiming=Gn(e.smoothChildTiming),St.remove(s),s._dp=0,s._time=s._tTime=St._time,a=St._first;a;)l=a._next,(t||!(!a._dur&&a instanceof Ht&&a.vars.onComplete===a._targets[0]))&&gr(s,a,a._start-a._delay),a=l;return gr(St,s,0),s},context:function(e,t){return e?new uA(e,t):Nt},matchMedia:function(e){return new kV(e)},matchMediaRefresh:function(){return Co.forEach(function(e){var t=e.conditions,s,a;for(a in t)t[a]&&(t[a]=!1,s=1);s&&e.revert()})||fy()},addEventListener:function(e,t){var s=kf[e]||(kf[e]=[]);~s.indexOf(t)||s.push(t)},removeEventListener:function(e,t){var s=kf[e],a=s&&s.indexOf(t);a>=0&&s.splice(a,1)},utils:{wrap:dV,wrapYoyo:hV,distribute:qS,random:GS,snap:HS,normalize:uV,getUnit:An,clamp:aV,splitColor:WS,toArray:ks,selector:uy,mapRange:YS,pipe:lV,unitize:cV,interpolate:fV,shuffle:FS},install:RS,effects:w0,ticker:as,updateRoot:Ln.updateRoot,plugins:is,globalTimeline:St,core:{PropTween:Yn,globals:IS,Tween:Ht,Timeline:Ln,Animation:vd,getCache:So,_removeLinkedListItem:Wm,reverting:function(){return xn},context:function(e){return e&&Nt&&(Nt.data.push(e),e._ctx=Nt),Nt},suppressOverwrites:function(e){return Vx=e}}};$n("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return mm[n]=Ht[n]});as.add(Ln.updateRoot);Ll=mm.to({},{duration:0});var PV=function(e,t){for(var s=e._pt;s&&s.p!==t&&s.op!==t&&s.fp!==t;)s=s._next;return s},OV=function(e,t){var s=e._targets,a,l,u;for(a in t)for(l=s.length;l--;)u=e._ptLookup[l][a],u&&(u=u.d)&&(u._pt&&(u=PV(u,a)),u&&u.modifier&&u.modifier(t[a],e,s[l],a))},A0=function(e,t){return{name:e,headless:1,rawVars:1,init:function(a,l,u){u._onInit=function(h){var m,p;if(cn(l)&&(m={},$n(l,function(y){return m[y]=1}),l=m),t){m={};for(p in l)m[p]=t(l[p]);l=m}OV(h,l)}}}},Qn=mm.registerPlugin({name:"attr",init:function(e,t,s,a,l){var u,h,m;this.tween=s;for(u in t)m=e.getAttribute(u)||"",h=this.add(e,"setAttribute",(m||0)+"",t[u],a,l,0,0,u),h.op=u,h.b=m,this._props.push(u)},render:function(e,t){for(var s=t._pt;s;)xn?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",headless:1,init:function(e,t){for(var s=t.length;s--;)this.add(e,s,e[s]||0,t[s],0,0,0,0,0,1)}},A0("roundProps",dy),A0("modifiers"),A0("snap",HS))||mm;Ht.version=Ln.version=Qn.version="3.13.0";CS=1;Ux()&&hc();$e.Power0;$e.Power1;$e.Power2;$e.Power3;$e.Power4;$e.Linear;$e.Quad;$e.Cubic;$e.Quart;$e.Quint;$e.Strong;$e.Elastic;$e.Back;$e.SteppedEase;$e.Bounce;$e.Sine;$e.Expo;$e.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var P2,da,Kl,Xx,No,O2,Zx,MV=function(){return typeof window<"u"},bi={},vo=180/Math.PI,Ql=Math.PI/180,Dl=Math.atan2,M2=1e8,Jx=/([A-Z])/g,VV=/(left|right|width|margin|padding|x)/i,LV=/[\s,\(]\S/,yr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},my=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},UV=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},zV=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},BV=function(e,t){var s=t.s+t.c*e;t.set(t.t,t.p,~~(s+(s<0?-.5:.5))+t.u,t)},dA=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},hA=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},FV=function(e,t,s){return e.style[t]=s},qV=function(e,t,s){return e.style.setProperty(t,s)},HV=function(e,t,s){return e._gsap[t]=s},GV=function(e,t,s){return e._gsap.scaleX=e._gsap.scaleY=s},$V=function(e,t,s,a,l){var u=e._gsap;u.scaleX=u.scaleY=s,u.renderTransform(l,u)},YV=function(e,t,s,a,l){var u=e._gsap;u[t]=s,u.renderTransform(l,u)},At="transform",Kn=At+"Origin",KV=function n(e,t){var s=this,a=this.target,l=a.style,u=a._gsap;if(e in bi&&l){if(this.tfm=this.tfm||{},e!=="transform")e=yr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(h){return s.tfm[h]=ai(a,h)}):this.tfm[e]=u.x?u[e]:ai(a,e),e===Kn&&(this.tfm.zOrigin=u.zOrigin);else return yr.transform.split(",").forEach(function(h){return n.call(s,h,t)});if(this.props.indexOf(At)>=0)return;u.svg&&(this.svgo=a.getAttribute("data-svg-origin"),this.props.push(Kn,t,"")),e=At}(l||t)&&this.props.push(e,t,l[e])},fA=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},QV=function(){var e=this.props,t=this.target,s=t.style,a=t._gsap,l,u;for(l=0;l<e.length;l+=3)e[l+1]?e[l+1]===2?t[e[l]](e[l+2]):t[e[l]]=e[l+2]:e[l+2]?s[e[l]]=e[l+2]:s.removeProperty(e[l].substr(0,2)==="--"?e[l]:e[l].replace(Jx,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)a[u]=this.tfm[u];a.svg&&(a.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),l=Zx(),(!l||!l.isStart)&&!s[At]&&(fA(s),a.zOrigin&&s[Kn]&&(s[Kn]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}},mA=function(e,t){var s={target:e,props:[],revert:QV,save:KV};return e._gsap||Qn.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(a){return s.save(a)}),s},pA,py=function(e,t){var s=da.createElementNS?da.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):da.createElement(e);return s&&s.style?s:da.createElement(e)},Ps=function n(e,t,s){var a=getComputedStyle(e);return a[t]||a.getPropertyValue(t.replace(Jx,"-$1").toLowerCase())||a.getPropertyValue(t)||!s&&n(e,fc(t)||t,1)||""},V2="O,Moz,ms,Ms,Webkit".split(","),fc=function(e,t,s){var a=t||No,l=a.style,u=5;if(e in l&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(V2[u]+e in l););return u<0?null:(u===3?"ms":u>=0?V2[u]:"")+e},gy=function(){MV()&&window.document&&(P2=window,da=P2.document,Kl=da.documentElement,No=py("div")||{style:{}},py("div"),At=fc(At),Kn=At+"Origin",No.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",pA=!!fc("perspective"),Zx=Qn.core.reverting,Xx=1)},L2=function(e){var t=e.ownerSVGElement,s=py("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),a=e.cloneNode(!0),l;a.style.display="block",s.appendChild(a),Kl.appendChild(s);try{l=a.getBBox()}catch{}return s.removeChild(a),Kl.removeChild(s),l},U2=function(e,t){for(var s=t.length;s--;)if(e.hasAttribute(t[s]))return e.getAttribute(t[s])},gA=function(e){var t,s;try{t=e.getBBox()}catch{t=L2(e),s=1}return t&&(t.width||t.height)||s||(t=L2(e)),t&&!t.width&&!t.x&&!t.y?{x:+U2(e,["x","cx","x1"])||0,y:+U2(e,["y","cy","y1"])||0,width:0,height:0}:t},yA=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&gA(e))},Mo=function(e,t){if(t){var s=e.style,a;t in bi&&t!==Kn&&(t=At),s.removeProperty?(a=t.substr(0,2),(a==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),s.removeProperty(a==="--"?t:t.replace(Jx,"-$1").toLowerCase())):s.removeAttribute(t)}},ha=function(e,t,s,a,l,u){var h=new Yn(e._pt,t,s,0,1,u?hA:dA);return e._pt=h,h.b=a,h.e=l,e._props.push(s),h},z2={deg:1,rad:1,turn:1},WV={grid:1,flex:1},Ca=function n(e,t,s,a){var l=parseFloat(s)||0,u=(s+"").trim().substr((l+"").length)||"px",h=No.style,m=VV.test(t),p=e.tagName.toLowerCase()==="svg",y=(p?"client":"offset")+(m?"Width":"Height"),v=100,b=a==="px",N=a==="%",j,T,R,M;if(a===u||!l||z2[a]||z2[u])return l;if(u!=="px"&&!b&&(l=n(e,t,s,"px")),M=e.getCTM&&yA(e),(N||u==="%")&&(bi[t]||~t.indexOf("adius")))return j=M?e.getBBox()[m?"width":"height"]:e[y],Vt(N?l/j*v:l/100*j);if(h[m?"width":"height"]=v+(b?u:a),T=a!=="rem"&&~t.indexOf("adius")||a==="em"&&e.appendChild&&!p?e:e.parentNode,M&&(T=(e.ownerSVGElement||{}).parentNode),(!T||T===da||!T.appendChild)&&(T=da.body),R=T._gsap,R&&N&&R.width&&m&&R.time===as.time&&!R.uncache)return Vt(l/R.width*v);if(N&&(t==="height"||t==="width")){var k=e.style[t];e.style[t]=v+a,j=e[y],k?e.style[t]=k:Mo(e,t)}else(N||u==="%")&&!WV[Ps(T,"display")]&&(h.position=Ps(e,"position")),T===e&&(h.position="static"),T.appendChild(No),j=No[y],T.removeChild(No),h.position="absolute";return m&&N&&(R=So(T),R.time=as.time,R.width=T[y]),Vt(b?j*l/v:j&&l?v/j*l:0)},ai=function(e,t,s,a){var l;return Xx||gy(),t in yr&&t!=="transform"&&(t=yr[t],~t.indexOf(",")&&(t=t.split(",")[0])),bi[t]&&t!=="transform"?(l=bd(e,a),l=t!=="transformOrigin"?l[t]:l.svg?l.origin:gm(Ps(e,Kn))+" "+l.zOrigin+"px"):(l=e.style[t],(!l||l==="auto"||a||~(l+"").indexOf("calc("))&&(l=pm[t]&&pm[t](e,t,s)||Ps(e,t)||kS(e,t)||(t==="opacity"?1:0))),s&&!~(l+"").trim().indexOf(" ")?Ca(e,t,l,s)+s:l},XV=function(e,t,s,a){if(!s||s==="none"){var l=fc(t,e,1),u=l&&Ps(e,l,1);u&&u!==s?(t=l,s=u):t==="borderColor"&&(s=Ps(e,"borderTopColor"))}var h=new Yn(this._pt,e.style,t,0,1,lA),m=0,p=0,y,v,b,N,j,T,R,M,k,q,L,H;if(h.b=s,h.e=a,s+="",a+="",a.substring(0,6)==="var(--"&&(a=Ps(e,a.substring(4,a.indexOf(")")))),a==="auto"&&(T=e.style[t],e.style[t]=a,a=Ps(e,t)||a,T?e.style[t]=T:Mo(e,t)),y=[s,a],ZS(y),s=y[0],a=y[1],b=s.match(Vl)||[],H=a.match(Vl)||[],H.length){for(;v=Vl.exec(a);)R=v[0],k=a.substring(m,v.index),j?j=(j+1)%5:(k.substr(-5)==="rgba("||k.substr(-5)==="hsla(")&&(j=1),R!==(T=b[p++]||"")&&(N=parseFloat(T)||0,L=T.substr((N+"").length),R.charAt(1)==="="&&(R=Yl(N,R)+L),M=parseFloat(R),q=R.substr((M+"").length),m=Vl.lastIndex-q.length,q||(q=q||ds.units[t]||L,m===a.length&&(a+=q,h.e+=q)),L!==q&&(N=Ca(e,t,T,q)||0),h._pt={_next:h._pt,p:k||p===1?k:",",s:N,c:M-N,m:j&&j<4||t==="zIndex"?Math.round:0});h.c=m<a.length?a.substring(m,a.length):""}else h.r=t==="display"&&a==="none"?hA:dA;return AS.test(a)&&(h.e=0),this._pt=h,h},B2={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ZV=function(e){var t=e.split(" "),s=t[0],a=t[1]||"50%";return(s==="top"||s==="bottom"||a==="left"||a==="right")&&(e=s,s=a,a=e),t[0]=B2[s]||s,t[1]=B2[a]||a,t.join(" ")},JV=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var s=t.t,a=s.style,l=t.u,u=s._gsap,h,m,p;if(l==="all"||l===!0)a.cssText="",m=1;else for(l=l.split(","),p=l.length;--p>-1;)h=l[p],bi[h]&&(m=1,h=h==="transformOrigin"?Kn:At),Mo(s,h);m&&(Mo(s,At),u&&(u.svg&&s.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",bd(s,1),u.uncache=1,fA(a)))}},pm={clearProps:function(e,t,s,a,l){if(l.data!=="isFromStart"){var u=e._pt=new Yn(e._pt,t,s,0,0,JV);return u.u=a,u.pr=-10,u.tween=l,e._props.push(s),1}}},_d=[1,0,0,1,0,0],xA={},vA=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},F2=function(e){var t=Ps(e,At);return vA(t)?_d:t.substr(7).match(SS).map(Vt)},ev=function(e,t){var s=e._gsap||So(e),a=e.style,l=F2(e),u,h,m,p;return s.svg&&e.getAttribute("transform")?(m=e.transform.baseVal.consolidate().matrix,l=[m.a,m.b,m.c,m.d,m.e,m.f],l.join(",")==="1,0,0,1,0,0"?_d:l):(l===_d&&!e.offsetParent&&e!==Kl&&!s.svg&&(m=a.display,a.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,h=e.nextElementSibling,Kl.appendChild(e)),l=F2(e),m?a.display=m:Mo(e,"display"),p&&(h?u.insertBefore(e,h):u?u.appendChild(e):Kl.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},yy=function(e,t,s,a,l,u){var h=e._gsap,m=l||ev(e,!0),p=h.xOrigin||0,y=h.yOrigin||0,v=h.xOffset||0,b=h.yOffset||0,N=m[0],j=m[1],T=m[2],R=m[3],M=m[4],k=m[5],q=t.split(" "),L=parseFloat(q[0])||0,H=parseFloat(q[1])||0,Q,O,S,A;s?m!==_d&&(O=N*R-j*T)&&(S=L*(R/O)+H*(-T/O)+(T*k-R*M)/O,A=L*(-j/O)+H*(N/O)-(N*k-j*M)/O,L=S,H=A):(Q=gA(e),L=Q.x+(~q[0].indexOf("%")?L/100*Q.width:L),H=Q.y+(~(q[1]||q[0]).indexOf("%")?H/100*Q.height:H)),a||a!==!1&&h.smooth?(M=L-p,k=H-y,h.xOffset=v+(M*N+k*T)-M,h.yOffset=b+(M*j+k*R)-k):h.xOffset=h.yOffset=0,h.xOrigin=L,h.yOrigin=H,h.smooth=!!a,h.origin=t,h.originIsAbsolute=!!s,e.style[Kn]="0px 0px",u&&(ha(u,h,"xOrigin",p,L),ha(u,h,"yOrigin",y,H),ha(u,h,"xOffset",v,h.xOffset),ha(u,h,"yOffset",b,h.yOffset)),e.setAttribute("data-svg-origin",L+" "+H)},bd=function(e,t){var s=e._gsap||new nA(e);if("x"in s&&!t&&!s.uncache)return s;var a=e.style,l=s.scaleX<0,u="px",h="deg",m=getComputedStyle(e),p=Ps(e,Kn)||"0",y,v,b,N,j,T,R,M,k,q,L,H,Q,O,S,A,B,V,U,P,we,xe,K,re,he,me,z,$,ne,ae,ge,Ne;return y=v=b=T=R=M=k=q=L=0,N=j=1,s.svg=!!(e.getCTM&&yA(e)),m.translate&&((m.translate!=="none"||m.scale!=="none"||m.rotate!=="none")&&(a[At]=(m.translate!=="none"?"translate3d("+(m.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(m.rotate!=="none"?"rotate("+m.rotate+") ":"")+(m.scale!=="none"?"scale("+m.scale.split(" ").join(",")+") ":"")+(m[At]!=="none"?m[At]:"")),a.scale=a.rotate=a.translate="none"),O=ev(e,s.svg),s.svg&&(s.uncache?(he=e.getBBox(),p=s.xOrigin-he.x+"px "+(s.yOrigin-he.y)+"px",re=""):re=!t&&e.getAttribute("data-svg-origin"),yy(e,re||p,!!re||s.originIsAbsolute,s.smooth!==!1,O)),H=s.xOrigin||0,Q=s.yOrigin||0,O!==_d&&(V=O[0],U=O[1],P=O[2],we=O[3],y=xe=O[4],v=K=O[5],O.length===6?(N=Math.sqrt(V*V+U*U),j=Math.sqrt(we*we+P*P),T=V||U?Dl(U,V)*vo:0,k=P||we?Dl(P,we)*vo+T:0,k&&(j*=Math.abs(Math.cos(k*Ql))),s.svg&&(y-=H-(H*V+Q*P),v-=Q-(H*U+Q*we))):(Ne=O[6],ae=O[7],z=O[8],$=O[9],ne=O[10],ge=O[11],y=O[12],v=O[13],b=O[14],S=Dl(Ne,ne),R=S*vo,S&&(A=Math.cos(-S),B=Math.sin(-S),re=xe*A+z*B,he=K*A+$*B,me=Ne*A+ne*B,z=xe*-B+z*A,$=K*-B+$*A,ne=Ne*-B+ne*A,ge=ae*-B+ge*A,xe=re,K=he,Ne=me),S=Dl(-P,ne),M=S*vo,S&&(A=Math.cos(-S),B=Math.sin(-S),re=V*A-z*B,he=U*A-$*B,me=P*A-ne*B,ge=we*B+ge*A,V=re,U=he,P=me),S=Dl(U,V),T=S*vo,S&&(A=Math.cos(S),B=Math.sin(S),re=V*A+U*B,he=xe*A+K*B,U=U*A-V*B,K=K*A-xe*B,V=re,xe=he),R&&Math.abs(R)+Math.abs(T)>359.9&&(R=T=0,M=180-M),N=Vt(Math.sqrt(V*V+U*U+P*P)),j=Vt(Math.sqrt(K*K+Ne*Ne)),S=Dl(xe,K),k=Math.abs(S)>2e-4?S*vo:0,L=ge?1/(ge<0?-ge:ge):0),s.svg&&(re=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!vA(Ps(e,At)),re&&e.setAttribute("transform",re))),Math.abs(k)>90&&Math.abs(k)<270&&(l?(N*=-1,k+=T<=0?180:-180,T+=T<=0?180:-180):(j*=-1,k+=k<=0?180:-180)),t=t||s.uncache,s.x=y-((s.xPercent=y&&(!t&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-y)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+u,s.y=v-((s.yPercent=v&&(!t&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+u,s.z=b+u,s.scaleX=Vt(N),s.scaleY=Vt(j),s.rotation=Vt(T)+h,s.rotationX=Vt(R)+h,s.rotationY=Vt(M)+h,s.skewX=k+h,s.skewY=q+h,s.transformPerspective=L+u,(s.zOrigin=parseFloat(p.split(" ")[2])||!t&&s.zOrigin||0)&&(a[Kn]=gm(p)),s.xOffset=s.yOffset=0,s.force3D=ds.force3D,s.renderTransform=s.svg?tL:pA?_A:eL,s.uncache=0,s},gm=function(e){return(e=e.split(" "))[0]+" "+e[1]},j0=function(e,t,s){var a=An(t);return Vt(parseFloat(t)+parseFloat(Ca(e,"x",s+"px",a)))+a},eL=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,_A(e,t)},go="0deg",Pu="0px",yo=") ",_A=function(e,t){var s=t||this,a=s.xPercent,l=s.yPercent,u=s.x,h=s.y,m=s.z,p=s.rotation,y=s.rotationY,v=s.rotationX,b=s.skewX,N=s.skewY,j=s.scaleX,T=s.scaleY,R=s.transformPerspective,M=s.force3D,k=s.target,q=s.zOrigin,L="",H=M==="auto"&&e&&e!==1||M===!0;if(q&&(v!==go||y!==go)){var Q=parseFloat(y)*Ql,O=Math.sin(Q),S=Math.cos(Q),A;Q=parseFloat(v)*Ql,A=Math.cos(Q),u=j0(k,u,O*A*-q),h=j0(k,h,-Math.sin(Q)*-q),m=j0(k,m,S*A*-q+q)}R!==Pu&&(L+="perspective("+R+yo),(a||l)&&(L+="translate("+a+"%, "+l+"%) "),(H||u!==Pu||h!==Pu||m!==Pu)&&(L+=m!==Pu||H?"translate3d("+u+", "+h+", "+m+") ":"translate("+u+", "+h+yo),p!==go&&(L+="rotate("+p+yo),y!==go&&(L+="rotateY("+y+yo),v!==go&&(L+="rotateX("+v+yo),(b!==go||N!==go)&&(L+="skew("+b+", "+N+yo),(j!==1||T!==1)&&(L+="scale("+j+", "+T+yo),k.style[At]=L||"translate(0, 0)"},tL=function(e,t){var s=t||this,a=s.xPercent,l=s.yPercent,u=s.x,h=s.y,m=s.rotation,p=s.skewX,y=s.skewY,v=s.scaleX,b=s.scaleY,N=s.target,j=s.xOrigin,T=s.yOrigin,R=s.xOffset,M=s.yOffset,k=s.forceCSS,q=parseFloat(u),L=parseFloat(h),H,Q,O,S,A;m=parseFloat(m),p=parseFloat(p),y=parseFloat(y),y&&(y=parseFloat(y),p+=y,m+=y),m||p?(m*=Ql,p*=Ql,H=Math.cos(m)*v,Q=Math.sin(m)*v,O=Math.sin(m-p)*-b,S=Math.cos(m-p)*b,p&&(y*=Ql,A=Math.tan(p-y),A=Math.sqrt(1+A*A),O*=A,S*=A,y&&(A=Math.tan(y),A=Math.sqrt(1+A*A),H*=A,Q*=A)),H=Vt(H),Q=Vt(Q),O=Vt(O),S=Vt(S)):(H=v,S=b,Q=O=0),(q&&!~(u+"").indexOf("px")||L&&!~(h+"").indexOf("px"))&&(q=Ca(N,"x",u,"px"),L=Ca(N,"y",h,"px")),(j||T||R||M)&&(q=Vt(q+j-(j*H+T*O)+R),L=Vt(L+T-(j*Q+T*S)+M)),(a||l)&&(A=N.getBBox(),q=Vt(q+a/100*A.width),L=Vt(L+l/100*A.height)),A="matrix("+H+","+Q+","+O+","+S+","+q+","+L+")",N.setAttribute("transform",A),k&&(N.style[At]=A)},nL=function(e,t,s,a,l){var u=360,h=cn(l),m=parseFloat(l)*(h&&~l.indexOf("rad")?vo:1),p=m-a,y=a+p+"deg",v,b;return h&&(v=l.split("_")[1],v==="short"&&(p%=u,p!==p%(u/2)&&(p+=p<0?u:-u)),v==="cw"&&p<0?p=(p+u*M2)%u-~~(p/u)*u:v==="ccw"&&p>0&&(p=(p-u*M2)%u-~~(p/u)*u)),e._pt=b=new Yn(e._pt,t,s,a,p,UV),b.e=y,b.u="deg",e._props.push(s),b},q2=function(e,t){for(var s in t)e[s]=t[s];return e},sL=function(e,t,s){var a=q2({},s._gsap),l="perspective,force3D,transformOrigin,svgOrigin",u=s.style,h,m,p,y,v,b,N,j;a.svg?(p=s.getAttribute("transform"),s.setAttribute("transform",""),u[At]=t,h=bd(s,1),Mo(s,At),s.setAttribute("transform",p)):(p=getComputedStyle(s)[At],u[At]=t,h=bd(s,1),u[At]=p);for(m in bi)p=a[m],y=h[m],p!==y&&l.indexOf(m)<0&&(N=An(p),j=An(y),v=N!==j?Ca(s,m,p,j):parseFloat(p),b=parseFloat(y),e._pt=new Yn(e._pt,h,m,v,b-v,my),e._pt.u=j||0,e._props.push(m));q2(h,a)};$n("padding,margin,Width,Radius",function(n,e){var t="Top",s="Right",a="Bottom",l="Left",u=(e<3?[t,s,a,l]:[t+l,t+s,a+s,a+l]).map(function(h){return e<2?n+h:"border"+h+n});pm[e>1?"border"+n:n]=function(h,m,p,y,v){var b,N;if(arguments.length<4)return b=u.map(function(j){return ai(h,j,p)}),N=b.join(" "),N.split(b[0]).length===5?b[0]:N;b=(y+"").split(" "),N={},u.forEach(function(j,T){return N[j]=b[T]=b[T]||b[(T-1)/2|0]}),h.init(m,N,v)}});var bA={name:"css",register:gy,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,s,a,l){var u=this._props,h=e.style,m=s.vars.startAt,p,y,v,b,N,j,T,R,M,k,q,L,H,Q,O,S;Xx||gy(),this.styles=this.styles||mA(e),S=this.styles.props,this.tween=s;for(T in t)if(T!=="autoRound"&&(y=t[T],!(is[T]&&sA(T,t,s,a,e,l)))){if(N=typeof y,j=pm[T],N==="function"&&(y=y.call(s,a,e,l),N=typeof y),N==="string"&&~y.indexOf("random(")&&(y=yd(y)),j)j(this,e,T,y,s)&&(O=1);else if(T.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(T)+"").trim(),y+="",xa.lastIndex=0,xa.test(p)||(R=An(p),M=An(y)),M?R!==M&&(p=Ca(e,T,p,M)+M):R&&(y+=R),this.add(h,"setProperty",p,y,a,l,0,0,T),u.push(T),S.push(T,0,h[T]);else if(N!=="undefined"){if(m&&T in m?(p=typeof m[T]=="function"?m[T].call(s,a,e,l):m[T],cn(p)&&~p.indexOf("random(")&&(p=yd(p)),An(p+"")||p==="auto"||(p+=ds.units[T]||An(ai(e,T))||""),(p+"").charAt(1)==="="&&(p=ai(e,T))):p=ai(e,T),b=parseFloat(p),k=N==="string"&&y.charAt(1)==="="&&y.substr(0,2),k&&(y=y.substr(2)),v=parseFloat(y),T in yr&&(T==="autoAlpha"&&(b===1&&ai(e,"visibility")==="hidden"&&v&&(b=0),S.push("visibility",0,h.visibility),ha(this,h,"visibility",b?"inherit":"hidden",v?"inherit":"hidden",!v)),T!=="scale"&&T!=="transform"&&(T=yr[T],~T.indexOf(",")&&(T=T.split(",")[0]))),q=T in bi,q){if(this.styles.save(T),N==="string"&&y.substring(0,6)==="var(--"&&(y=Ps(e,y.substring(4,y.indexOf(")"))),v=parseFloat(y)),L||(H=e._gsap,H.renderTransform&&!t.parseTransform||bd(e,t.parseTransform),Q=t.smoothOrigin!==!1&&H.smooth,L=this._pt=new Yn(this._pt,h,At,0,1,H.renderTransform,H,0,-1),L.dep=1),T==="scale")this._pt=new Yn(this._pt,H,"scaleY",H.scaleY,(k?Yl(H.scaleY,k+v):v)-H.scaleY||0,my),this._pt.u=0,u.push("scaleY",T),T+="X";else if(T==="transformOrigin"){S.push(Kn,0,h[Kn]),y=ZV(y),H.svg?yy(e,y,0,Q,0,this):(M=parseFloat(y.split(" ")[2])||0,M!==H.zOrigin&&ha(this,H,"zOrigin",H.zOrigin,M),ha(this,h,T,gm(p),gm(y)));continue}else if(T==="svgOrigin"){yy(e,y,1,Q,0,this);continue}else if(T in xA){nL(this,H,T,b,k?Yl(b,k+y):y);continue}else if(T==="smoothOrigin"){ha(this,H,"smooth",H.smooth,y);continue}else if(T==="force3D"){H[T]=y;continue}else if(T==="transform"){sL(this,y,e);continue}}else T in h||(T=fc(T)||T);if(q||(v||v===0)&&(b||b===0)&&!LV.test(y)&&T in h)R=(p+"").substr((b+"").length),v||(v=0),M=An(y)||(T in ds.units?ds.units[T]:R),R!==M&&(b=Ca(e,T,p,M)),this._pt=new Yn(this._pt,q?H:h,T,b,(k?Yl(b,k+v):v)-b,!q&&(M==="px"||T==="zIndex")&&t.autoRound!==!1?BV:my),this._pt.u=M||0,R!==M&&M!=="%"&&(this._pt.b=p,this._pt.r=zV);else if(T in h)XV.call(this,e,T,p,k?k+y:y);else if(T in e)this.add(e,T,p||e[T],k?k+y:y,a,l);else if(T!=="parseTransform"){Bx(T,y);continue}q||(T in h?S.push(T,0,h[T]):typeof e[T]=="function"?S.push(T,2,e[T]()):S.push(T,1,p||e[T])),u.push(T)}}O&&cA(this)},render:function(e,t){if(t.tween._time||!Zx())for(var s=t._pt;s;)s.r(e,s.d),s=s._next;else t.styles.revert()},get:ai,aliases:yr,getSetter:function(e,t,s){var a=yr[t];return a&&a.indexOf(",")<0&&(t=a),t in bi&&t!==Kn&&(e._gsap.x||ai(e,"x"))?s&&O2===s?t==="scale"?GV:HV:(O2=s||{})&&(t==="scale"?$V:YV):e.style&&!Lx(e.style[t])?FV:~t.indexOf("-")?qV:Qx(e,t)},core:{_removeProperty:Mo,_getMatrix:ev}};Qn.utils.checkPrefix=fc;Qn.core.getStyleSaver=mA;(function(n,e,t,s){var a=$n(n+","+e+","+t,function(l){bi[l]=1});$n(e,function(l){ds.units[l]="deg",xA[l]=1}),yr[a[13]]=n+","+e,$n(s,function(l){var u=l.split(":");yr[u[1]]=a[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$n("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ds.units[n]="px"});Qn.registerPlugin(bA);var Eo=Qn.registerPlugin(bA)||Qn;Eo.core.Tween;const rL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAxCAYAAACoJ+s+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASCSURBVHgBzZlNSBxZEMere8aMxpV1P9SFXfawu8FdD3pwV5ZoEi/xogiBiF/gxSBREHLwKEEQk0MQYjDBRJGgwYsQc0jQMReDGUVDSEBD/CCjwojf0cHvjNMvVc/X0pmZnlHD5PkDbXq65/W/q17Vq1cD8O1QQpxLw0L/qqurE0dHRx97PJ7N5ubmc3ACIAspNTU1v29vb7sYoiF0bGhoOAuS4e5zOp2lJGgPYQaKior+ANksLCxcJTFer9cojlsQJKPW19enBBBH596ZmZnnIBvU8tHXrbr1iouLf8NbVJCE0tbWdoEFAKPXOzU19QRkMzs7+1q3lg4aE/V5lsQtVpAJ6vl04FNNo2mn7ezszMJJEJeenh4jhB3MuZGRkVsgUdwXy1VmZmYkinNh/nvZ1dVVSefiHsthxzjSRdiPNo0elJOTcy4xMfHfuLi4H61Wa8TQ0NDLjo4Ou8PhWDeMQ0L2fMZnuMz9k5GRUZqcnPyfoiin8G8XA2YSl76ndXV19unp6R39WXBIeBqoqqqKX1lZ6WdBWF5eHmttbb3sO0BhYeHPKP4ezsFNY5oJhMvlcpSUlPwkXihkERFB//Ct7ogI9AYb3Jju0LWv0LIP19fXFwyivCwEFEl0xAxwxeAJc3Grq6tvtH1CDq4jAuPY0KpDY8zPz983etHPrejSgVBWCyM8LU1OTj4IZD0FJ+41YW0Z4mi12cOcuZSbmxvja0FLUlLSKa5M0/aYBGi12djYmBF6/HPmxMTEI+FaGeLIKJ9MxRF0o/a1M/0Y6I+srKz80zR6sX77n0mCggJTWj+YwCdiWlpaCUhCVVWlsbGxHEwSNP8Qy/O38fHxKSAHDy1/Zhe5BaOion4BSaytrbmDXecCTyMgCQzgoNf1ZGgBSWBlFPS6LjD4a4QRnF62YNe5QLfbvQqSsNlsMXl5ed+BSRRzgVtbW1MgD5afn18a9I7u7u6bTBJUvmCgbAspgUusgYGBHpCESplaUWxjY2O3Yb/k93d1VlZWNJOIXhjb7fYcIclfJM7DeRnFgg7t7Ok4PDxcLCR9kfqUnp6e6xL1cagmpCM2mBypqam0/ThIkkp5efkP7ARARsK4IaEePzfjbuyDvsOSCZVgfX19N/wCCsue80w+fJ6hi08HDJbd3d2Pskp/rg73RLiRN21yqi0tLdKsqGcRbLXEgkmTUxEpx0lbQPaNIc9hd+IhhMBaVlb2PX3Bt8ccZnEUuXrzKGT5pwwODl4R3w17cqSopWNTU1MKHLI25f5fXFzsp94yCyMi71FyboAjwhtJ1FvWM3w4oE07Nqtem7k2VC+Olhqah24cJxrLc9XnO/T2YLFY6DMPWnwck/0SnWOl/GtCQsIZuoksJO45QAQs7UkmIiMj/9afBceAr4dzc3MvdJcYwV3Zm9ra2kwI8LL4O52K8yofey5O5uNWYnx8/K64NcLs4Yf9SZS/XUVFxV/Z2dmX8I2jcc68x0L3WWdn54ZhHGYyPsOOVUJBQcHF2NjYM9jie9fb2/usvb19E47Y+j1xfAZxvCkL5EkLcQAAAABJRU5ErkJggg==",iL="/Exclusive_Eccomerce/assets/Hero_Iphone-_Ai6ovDD.png",aL="/Exclusive_Eccomerce/assets/Samsung_logo-C1yQOAzK.png",oL="/Exclusive_Eccomerce/assets/SamsungA23Phone-BfAKLzLp.png",lL="/Exclusive_Eccomerce/assets/PlayStation_logo-HJrriJt0.png",cL="/Exclusive_Eccomerce/assets/pes--KnPxlYU.png",uL="/Exclusive_Eccomerce/assets/Nike_logo-egA6CUvH.png",dL="/Exclusive_Eccomerce/assets/NIkeShoe-Dy3LUG6l.png",hL=()=>{const[n,e]=D.useState(0),[t,s]=D.useState(!1),[a,l]=D.useState(null),u=D.useRef([]),h=D.useRef(null),m=D.useRef(null),p=5e3,y=[{id:1,brand:"Apple",productLine:"iPhone 14 Series",title:"Up to 10% off Voucher",ctaText:"Shop Now",bgColor:"bg-black",textColor:"text-white",logoPlaceholder:rL,imagePlaceholder:iL},{id:2,brand:"Samsung",productLine:"Galaxy S23 Ultra",title:"Save 15% this week",ctaText:"Explore Now",bgColor:"bg-blue-400",textColor:"text-white",logoPlaceholder:aL,imagePlaceholder:oL},{id:3,brand:"Sony",productLine:"PlayStation 5",title:"New games available",ctaText:"View Games",bgColor:"bg-blue-600",textColor:"text-white",logoPlaceholder:lL,imagePlaceholder:cL},{id:4,brand:"Nike",productLine:"Summer Collection",title:"20% off selected items",ctaText:"Get Yours",bgColor:"bg-orange-600",textColor:"text-white",logoPlaceholder:uL,imagePlaceholder:dL},{id:5,brand:"Dyson",productLine:"Smart Home",title:"Free delivery on all items",ctaText:"Shop Collection",bgColor:"bg-gray-800",textColor:"text-white",logoPlaceholder:"/api/placeholder/24/24",imagePlaceholder:"/api/placeholder/280/240"}],v=[{name:"Smartphones",hasSubmenu:!0,link:"/categories/smartphones",subcategories:[{name:"Android Phones",items:["Samsung Galaxy","Google Pixel","OnePlus","Xiaomi"]},{name:"iPhones",items:["iPhone 15 Pro","iPhone 15","iPhone 14","iPhone SE"]},{name:"Budget Phones",items:["Under $200","Under $400","Mid-range","Refurbished"]},{name:"Gaming Phones",items:["ROG Phone","RedMagic","Black Shark","Razer Phone"]}]},{name:"Phone Accessories",hasSubmenu:!0,link:"/categories/accessories",subcategories:[{name:"Cases & Covers",items:["Protective Cases","Designer Cases","Leather Cases","Clear Cases"]},{name:"Screen Protection",items:["Tempered Glass","Privacy Screens","Blue Light Filters","Anti-Glare"]},{name:"Chargers",items:["Wireless Chargers","Fast Chargers","Car Chargers","Power Banks"]},{name:"Audio",items:["Headphones","Earbuds","Bluetooth Speakers","Phone Stands"]}]},{name:"Tablets",hasSubmenu:!1,link:"/categories/tablets"},{name:"Smartwatches",hasSubmenu:!1,link:"/categories/smartwatches"},{name:"Wireless Earbuds",hasSubmenu:!1,link:"/categories/earbuds"},{name:"Phone Repairs",hasSubmenu:!1,link:"/categories/repairs"},{name:"Refurbished Phones",hasSubmenu:!1,link:"/categories/refurbished"},{name:"Phone Plans",hasSubmenu:!1,link:"/categories/plans"},{name:"Trade-In Program",hasSubmenu:!1,link:"/categories/trade-in"}];D.useEffect(()=>(u.current.forEach((L,H)=>{L&&(H===n?Eo.to(L,{opacity:1,x:0,duration:.8,ease:"power2.out",pointerEvents:"auto"}):Eo.to(L,{opacity:0,x:H>n?100:-100,duration:.8,ease:"power2.out",pointerEvents:"none"}))}),b(),()=>{m.current&&clearTimeout(m.current)}),[n]),D.useEffect(()=>{const L=H=>{t&&!H.target.closest(".mobile-menu-container")&&s(!1)};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[t]),D.useEffect(()=>{const L=H=>{H.target.closest(".category-item")||l(null)};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]);const b=()=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{N((n+1)%y.length)},p)},N=L=>{e(L)},j=()=>{const L=n===0?y.length-1:n-1;N(L)},T=()=>{const L=(n+1)%y.length;N(L)},R=()=>{s(!t)},M=L=>{v[L].hasSubmenu&&l(L)},k=()=>{setTimeout(()=>{l(null)},200)},q=L=>{v[L].hasSubmenu&&l(a===L?null:L)};return c.jsx("div",{className:"w-full max-w-full overflow-hidden",children:c.jsxs("div",{className:"flex flex-col lg:flex-row w-full container mx-auto max-w-6xl px-4 sm:px-6",children:[c.jsx("div",{className:"lg:hidden w-full flex justify-between items-center py-3 border-b border-gray-200",children:c.jsxs("button",{onClick:R,className:"flex items-center text-gray-700 hover:text-blue-500","aria-label":"Toggle Categories Menu",children:[c.jsx(c9,{size:20,className:"mr-2"}),c.jsx("span",{children:"Categories"})]})}),t&&c.jsx("div",{className:"lg:hidden mobile-menu-container fixed inset-0 bg-black bg-opacity-30 z-50",children:c.jsxs("div",{className:"bg-white w-64 h-full overflow-y-auto p-4 animate-slide-right",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"font-bold text-lg",children:"Categories"}),c.jsx("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),c.jsx("ul",{className:"py-2 space-y-2",children:v.map((L,H)=>c.jsxs("li",{children:[c.jsxs(Ze,{to:L.link||"#",className:"px-2 py-2 flex justify-between items-center hover:bg-gray-100 rounded cursor-pointer",onClick:()=>q(H),children:[c.jsx("span",{className:"text-gray-800 text-sm",children:L.name}),L.hasSubmenu&&(a===H?c.jsx(Ym,{size:16,className:"text-gray-400"}):c.jsx(Xu,{size:16,className:"text-gray-400"}))]}),L.hasSubmenu&&a===H&&c.jsx("div",{className:"pl-4 py-2 bg-gray-50 rounded mt-1",children:L.subcategories.map((Q,O)=>c.jsxs("div",{className:"mb-2",children:[c.jsx("div",{className:"font-medium text-sm text-gray-700 mb-1",children:Q.name}),c.jsx("ul",{className:"space-y-1 pl-2",children:Q.items.map((S,A)=>c.jsx(Ze,{to:`/products/${S.toLowerCase().replace(/\s+/g,"-")}`,className:"text-xs text-gray-600 hover:text-blue-500 py-1 cursor-pointer block",children:S},A))})]},O))})]},H))})]})}),c.jsx("div",{className:"hidden lg:block w-64 border-r border-gray-200 text-gray-800 text-sm pr-4",children:c.jsx("ul",{className:"py-4 space-y-2",children:v.map((L,H)=>c.jsxs("li",{className:"relative category-item",onMouseEnter:()=>M(H),onMouseLeave:k,children:[c.jsxs(Ze,{to:L.link||"#",className:`px-6 py-2 flex justify-between items-center hover:bg-gray-100 hover:text-red-400 rounded cursor-pointer ${a===H?"bg-gray-100":""}`,children:[c.jsx("span",{className:"text-gray-800 text-sm",children:L.name}),L.hasSubmenu&&c.jsx(Xu,{size:16,className:"text-gray-400"})]}),L.hasSubmenu&&a===H&&c.jsx("div",{className:"absolute left-full top-0 ml-1 w-72 bg-white shadow-lg rounded-lg z-40 border border-gray-200 overflow-hidden",children:c.jsx("div",{className:"grid grid-cols-1 gap-4 p-4",children:L.subcategories.map((Q,O)=>c.jsxs("div",{className:"mb-2",children:[c.jsx("div",{className:"font-medium text-sm text-gray-800 mb-2 border-b pb-1",children:Q.name}),c.jsx("ul",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Q.items.map((S,A)=>c.jsx(Ze,{to:`/products/${S.toLowerCase().replace(/\s+/g,"-")}`,className:"text-xs text-gray-600 hover:text-red-500 cursor-pointer truncate block",children:S},A))})]},O))})})]},H))})}),c.jsx("div",{className:"flex-1 pt-4 lg:p-6 w-full",children:c.jsxs("div",{ref:h,className:"relative overflow-hidden rounded-lg h-64 sm:h-72 md:h-80 lg:h-96",children:[y.map((L,H)=>c.jsx("div",{ref:Q=>u.current[H]=Q,className:`absolute top-0 left-0 w-full h-full ${L.bgColor} ${L.textColor}`,style:{opacity:H===0?1:0,transform:H===0?"translateX(0)":`translateX(${H>0?"100%":"-100%"})`,zIndex:H===n?10:1},children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between h-full px-6 sm:px-8 md:px-12 py-6 sm:py-8",children:[c.jsxs("div",{className:"z-10 w-full sm:w-1/2 text-center sm:text-left mb-4 sm:mb-0",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-center justify-center sm:justify-start space-y-2 sm:space-y-0 sm:space-x-2 mb-2",children:[c.jsx("img",{src:L.logoPlaceholder,alt:`${L.brand} logo`,className:"w-16 h-8 object-contain"}),c.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:L.productLine})]}),c.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold mb-3 sm:mb-4",children:L.title}),c.jsxs(Ze,{to:`/products/${L.brand.toLowerCase()}`,className:"flex items-center text-sm font-medium mx-auto sm:mx-0 group",children:[c.jsx("span",{children:L.ctaText}),c.jsx(xM,{size:16,className:"ml-2 group-hover:translate-x-1 transition-transform"})]})]}),c.jsx("div",{className:"w-full sm:w-1/2 flex justify-center sm:justify-end",children:c.jsx("img",{src:L.imagePlaceholder,alt:`${L.brand} ${L.productLine}`,className:"h-32 sm:h-full object-contain max-h-48 sm:max-h-64 py-2 sm:py-8"})})]})},L.id)),c.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-2 sm:px-4",children:[c.jsx("button",{onClick:j,className:"bg-white/30 hover:bg-white/50 rounded-full p-1 sm:p-2 z-20 backdrop-blur-sm transition-colors","aria-label":"Previous slide",children:c.jsx(Dx,{size:16,className:"text-white"})}),c.jsx("button",{onClick:T,className:"bg-white/30 hover:bg-white/50 rounded-full p-1 sm:p-2 z-20 backdrop-blur-sm transition-colors","aria-label":"Next slide",children:c.jsx(Xu,{size:16,className:"text-white"})})]}),c.jsx("div",{className:"absolute bottom-2 sm:bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-1 sm:space-x-2 z-20",children:y.map((L,H)=>c.jsx("button",{onClick:()=>N(H),className:`w-1.5 sm:w-2 h-1.5 sm:h-2 rounded-full transition-all duration-300 ${n===H?"bg-white w-3 sm:w-4":"bg-white/50 hover:bg-white/70"}`,"aria-label":`Go to slide ${H+1}`},L.id))})]})})]})})},tv="/Exclusive_Eccomerce/assets/Product01-Dfz5TGBY.png",nv="/Exclusive_Eccomerce/assets/Product02-B1RMm4UU.png",wA="/Exclusive_Eccomerce/assets/Product03-Bx9bhGWC.png",NA="/Exclusive_Eccomerce/assets/Product04-bER8VNhn.png",sv="/Exclusive_Eccomerce/assets/Product05-CxmviuAG.png",EA="/Exclusive_Eccomerce/assets/Product06-Dn1iKQzF.png",rv="/Exclusive_Eccomerce/assets/Product07-DDvt3vJB.png",TA="/Exclusive_Eccomerce/assets/Product08-BMyM15yP.png",SA="/Exclusive_Eccomerce/assets/Product09-CH5X39Oz.png",AA="/Exclusive_Eccomerce/assets/Product10-B1oBYX_g.png";function fL(){const[n,e]=D.useState({days:3,hours:23,minutes:19,seconds:56}),t=D.useRef(null),[s,a]=D.useState({start:0,end:4}),[l,u]=D.useState(!1),h=[{id:1,name:"HAVIT HV-G92 Gamepad",originalPrice:180,salePrice:120,discount:40,image:tv,rating:5,reviews:88},{id:2,name:"AK-900 Wired Keyboard",originalPrice:960,salePrice:650,discount:35,image:nv,rating:4,reviews:75},{id:3,name:"IPS LCD Gaming Monitor",originalPrice:400,salePrice:370,discount:30,image:wA,rating:5,reviews:99},{id:4,name:"S-Series Comfort Chair",originalPrice:400,salePrice:375,discount:25,image:NA,rating:4,reviews:99},{id:5,name:"S-Series Comfort Chair",originalPrice:400,salePrice:375,discount:25,image:sv,rating:5,reviews:99},{id:6,name:"S-Series Comfort Chair",originalPrice:400,salePrice:375,discount:25,image:EA,rating:5,reviews:99},{id:7,name:"S-Series Comfort Chair",originalPrice:400,salePrice:375,discount:25,image:rv,rating:5,reviews:99},{id:8,name:"S-Series Comfort Chair",originalPrice:400,salePrice:375,discount:25,image:TA,rating:5,reviews:99},{id:9,name:"S-Series Comfort Chair",originalPrice:400,salePrice:375,discount:25,image:SA,rating:5,reviews:99},{id:10,name:"S-Series Comfort Chair",originalPrice:400,salePrice:375,discount:25,image:AA,rating:5,reviews:99}];D.useEffect(()=>{const T=()=>{u(window.innerWidth<768)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),D.useEffect(()=>{const T=setInterval(()=>{e(R=>{const M=R.seconds-1,k=M<0?R.minutes-1:R.minutes,q=k<0?R.hours-1:R.hours,L=q<0?R.days-1:R.days;return{days:L<0?0:L,hours:q<0?23:q%24,minutes:k<0?59:k%60,seconds:M<0?59:M%60}})},1e3);return()=>clearInterval(T)},[]);const m=()=>window.innerWidth<640?1:window.innerWidth<768||window.innerWidth<1024?2:window.innerWidth<1280?4:5,p=()=>{if(l)t.current&&t.current.scrollBy({left:-280,behavior:"smooth"});else{const T=m(),R=Math.max(0,s.start-T);a({start:R,end:R+T})}},y=()=>{if(l)t.current&&t.current.scrollBy({left:280,behavior:"smooth"});else{const T=m(),R=Math.min(h.length-T,s.start+T);a({start:R,end:R+T})}},v=({rating:T})=>c.jsx("div",{className:"flex",children:[...Array(5)].map((R,M)=>c.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 ${M<T?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},M))}),b=T=>T.toString().padStart(2,"0"),N=()=>c.jsxs("div",{className:"flex gap-1 sm:gap-2 text-center",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Days"}),c.jsx("span",{className:"text-lg sm:text-2xl font-bold",children:b(n.days)})]}),c.jsx("span",{className:"text-lg sm:text-2xl font-bold",children:":"}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Hours"}),c.jsx("span",{className:"text-lg sm:text-2xl font-bold",children:b(n.hours)})]}),c.jsx("span",{className:"text-lg sm:text-2xl font-bold",children:":"}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Minutes"}),c.jsx("span",{className:"text-lg sm:text-2xl font-bold",children:b(n.minutes)})]}),c.jsx("span",{className:"text-lg sm:text-2xl font-bold",children:":"}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-xs text-gray-500",children:"Seconds"}),c.jsx("span",{className:"text-lg sm:text-2xl font-bold",children:b(n.seconds)})]})]}),j=({product:T})=>c.jsxs("div",{className:"min-w-[250px] sm:min-w-0 p-3 rounded-lg relative group bg-gray-50 hover:shadow-md transition-shadow duration-300",children:[c.jsxs("div",{className:"bg-white p-2 rounded-md",children:[c.jsxs("div",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs px-2 py-1 rounded",children:["-",T.discount,"%"]}),c.jsxs("div",{className:"flex justify-end mb-2 space-x-2",children:[c.jsx("button",{className:"p-1 bg-white rounded-full hover:bg-gray-100",children:c.jsx(Nr,{size:16,className:"text-gray-500"})}),c.jsx("button",{className:"p-1 bg-white rounded-full hover:bg-gray-100",children:c.jsx(Aa,{size:16,className:"text-gray-500"})})]}),c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("img",{src:T.image,alt:T.name,className:"h-24 sm:h-32 w-24 sm:w-32 object-contain"})})]}),c.jsxs("div",{className:"text-center mt-3",children:[c.jsx("h3",{className:"font-medium text-xs sm:text-sm mb-1 line-clamp-2 h-10",children:T.name}),c.jsxs("div",{className:"flex justify-center items-center gap-2 mb-2",children:[c.jsxs("span",{className:"text-red-500 font-medium text-sm sm:text-base",children:["$",T.salePrice]}),c.jsxs("span",{className:"text-gray-400 line-through text-xs sm:text-sm",children:["$",T.originalPrice]})]}),c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(v,{rating:T.rating}),c.jsxs("span",{className:"text-xs text-gray-500",children:["(",T.reviews,")"]})]})]}),c.jsx("div",{className:"mt-3 hidden sm:block opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("button",{className:"w-full bg-black text-white text-xs sm:text-sm py-2 rounded hover:bg-gray-800",children:"Add To Cart"})}),c.jsx("div",{className:"mt-3 sm:hidden",children:c.jsx("button",{className:"w-full bg-black text-white text-xs sm:text-sm py-2 rounded hover:bg-gray-800",children:"Add To Cart"})})]});return c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-4 sm:py-6 overflow-hidden",children:[c.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[c.jsx("div",{className:"w-3 sm:w-5 h-8 sm:h-10 bg-red-500 rounded mr-2"}),c.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Today's"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-4",children:[c.jsx("h1",{className:"text-2xl sm:text-4xl font-bold",children:"Flash Sales"}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full sm:w-auto",children:[c.jsx(N,{}),c.jsxs("div",{className:"flex gap-2 ml-auto sm:ml-0",children:[c.jsx("button",{className:"p-1 sm:p-2 border border-gray-300 rounded-full hover:bg-gray-100",onClick:p,"aria-label":"Previous products",children:c.jsx(Dx,{size:16})}),c.jsx("button",{className:"p-1 sm:p-2 border border-gray-300 rounded-full hover:bg-gray-100",onClick:y,"aria-label":"Next products",children:c.jsx(Xu,{size:16})})]})]})]}),c.jsx("div",{className:"sm:hidden overflow-x-auto pb-4 -mx-4 px-4",ref:t,children:c.jsx("div",{className:"flex gap-4 w-max",children:h.map(T=>c.jsx(j,{product:T},T.id))})}),c.jsx("div",{className:"hidden sm:grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:h.map(T=>c.jsx(j,{product:T},T.id))}),c.jsx("div",{className:"flex justify-center mt-6 sm:mt-8",children:c.jsx("button",{className:"bg-red-500 text-white px-4 sm:px-6 py-2 sm:py-3 rounded text-sm sm:text-base hover:bg-red-600",children:"View All Products"})})]})}const mL=()=>{D.useRef(null),D.useRef(null);const n=D.useRef(null),[e,t]=D.useState(0),[s,a]=D.useState(0),[l,u]=D.useState(typeof window<"u"?window.innerWidth:1200),h=[{icon:c.jsx(Px,{}),title:"Phone"},{icon:c.jsx(N2,{}),title:"Computer"},{icon:c.jsx(ty,{}),title:"Camera"},{icon:c.jsx(L9,{}),title:"Smartwatch"},{icon:c.jsx(QM,{}),title:"HeadPhones"},{icon:c.jsx(qM,{}),title:"Gaming"},{icon:c.jsx(ty,{}),title:"Accessories"},{icon:c.jsx(N2,{}),title:"Tablets"}],m=()=>l<640?2:l<768?3:l<1024?4:5,p=m(),y=Math.max(0,h.length-p);D.useEffect(()=>{const N=()=>{u(window.innerWidth);const j=m(),T=Math.max(0,h.length-j);a(R=>Math.min(R,T))};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[l]);const v=N=>{a(N==="next"?j=>Math.min(j+1,y):j=>Math.max(j-1,0))};D.useEffect(()=>{if(!n.current)return;const N=window.gsap?.timeline();N&&N.fromTo(n.current,{opacity:0,x:20},{opacity:1,x:0,duration:.5,ease:"power2.out"})},[e]);const b=()=>{switch(p){case 2:return"w-1/2";case 3:return"w-1/3";case 4:return"w-1/4";default:return"w-1/5"}};return c.jsx(c.Fragment,{children:c.jsx("div",{className:"",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 border-y-2 my-4 sm:my-8 border-gray-300 py-4 sm:py-8",children:[c.jsxs("div",{className:"flex items-center mb-4 sm:mb-6",children:[c.jsx("div",{className:"w-3 sm:w-5 h-8 sm:h-10 bg-red-500 rounded mr-2"}),c.jsx("h2",{className:"text-base sm:text-lg font-bold text-red-500",children:"Categories"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 sm:mb-8",children:[c.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 sm:mb-0",children:"Browse By Category"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>v("prev"),disabled:s===0,className:`p-2 border border-gray-300 rounded-full hover:bg-red-500 hover:text-white transition-colors ${s===0?"opacity-50 cursor-not-allowed":""}`,children:c.jsx(Dx,{size:16})}),c.jsx("button",{onClick:()=>v("next"),disabled:s>=y,className:`p-2 border border-gray-300 rounded-full hover:bg-red-500 hover:text-white transition-colors ${s>=y?"opacity-50 cursor-not-allowed":""}`,children:c.jsx(Xu,{size:16})})]})})]}),c.jsx("div",{className:"relative mb-4 sm:mb-8",children:c.jsx("div",{className:"overflow-hidden relative",children:c.jsx("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${s*(100/p)}%)`},children:h.map((N,j)=>c.jsx("div",{className:`flex-none ${b()} px-1 sm:px-2`,children:c.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4 p-3 sm:p-6 border border-gray-300 rounded shadow-sm hover:bg-red-500 group transition-colors hover:border-0",children:[c.jsx("div",{className:"group-hover:text-white transition-colors",children:N.icon}),c.jsx("div",{className:"text-xs sm:text-sm font-medium text-center group-hover:text-white transition-colors",children:N.title})]})},j))})})})]})})})};function pL(){const[n,e]=D.useState({days:3,hours:23,minutes:19,seconds:56}),t=[{id:1,name:"HAVIT HV-G92 Gamepad",originalPrice:180,salePrice:120,discount:40,image:sv,rating:5,reviews:88},{id:2,name:"AK-900 Wired Keyboard",originalPrice:960,salePrice:650,discount:35,image:EA,rating:4,reviews:75},{id:3,name:"IPS LCD Gaming Monitor",originalPrice:400,salePrice:370,discount:30,image:rv,rating:5,reviews:99},{id:4,name:"S-Series Comfort Chair",originalPrice:400,salePrice:375,discount:25,image:TA,rating:4,reviews:99}];D.useEffect(()=>{const a=setInterval(()=>{e(l=>{const u=l.seconds-1,h=u<0?l.minutes-1:l.minutes,m=h<0?l.hours-1:l.hours,p=m<0?l.days-1:l.days;return{days:p<0?0:p,hours:m<0?23:m%24,minutes:h<0?59:h%60,seconds:u<0?59:u%60}})},1e3);return()=>clearInterval(a)},[]);const s=({rating:a})=>c.jsx("div",{className:"flex",children:[...Array(5)].map((l,u)=>c.jsx("svg",{className:`w-4 h-4 ${u<a?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},u))});return c.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsx("div",{className:"w-5 h-10 bg-red-500 rounded mr-2"}),c.jsx("h2",{className:"text-lg font-bold text-red-500",children:"This Month"})]}),c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold",children:"Best Selling Products"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("div",{className:"flex justify-center mt-8",children:c.jsx("button",{className:"bg-red-500 text-white px-6 py-3 rounded hover:bg-red-600",children:"View All Products"})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 gap-4",children:t.map(a=>c.jsxs("div",{className:" p-4 rounded-lg relative group",children:[c.jsxs("div",{className:"bg-white p-2",children:[c.jsxs("div",{className:"absolute top-3 left-3 bg-red-500 text-white text-xs px-2 py-1 rounded",children:["-",a.discount,"%"]}),c.jsxs("div",{className:"flex justify-end mb-2 space-x-2",children:[c.jsx("button",{className:"p-1 bg-white rounded-full hover:bg-gray-100",children:c.jsx(Nr,{size:16,className:"text-gray-500"})}),c.jsx("button",{className:"p-1 bg-white rounded-full hover:bg-gray-100",children:c.jsx(Aa,{size:16,className:"text-gray-500"})})]}),c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("img",{src:a.image,alt:a.name,className:"h-32 w-32 object-contain "})})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"font-medium text-sm mb-1",children:a.name}),c.jsxs("div",{className:"flex justify-center items-center gap-2 mb-2",children:[c.jsxs("span",{className:"text-red-500 font-medium",children:["$",a.salePrice]}),c.jsxs("span",{className:"text-gray-400 line-through text-sm",children:["$",a.originalPrice]})]}),c.jsxs("div",{className:"flex justify-center items-center gap-2",children:[c.jsx(s,{rating:a.rating}),c.jsxs("span",{className:"text-xs text-gray-500",children:["(",a.reviews,")"]})]})]}),c.jsx("div",{className:"mt-4  opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("button",{className:"w-full bg-black text-white text-sm py-2 rounded hover:bg-gray-800",children:"Add To Cart"})})]},a.id))})]})}const gL="/Exclusive_Eccomerce/assets/BigBoomBox-DmeSmh5i.png",yL=()=>c.jsx(c.Fragment,{children:c.jsxs("div",{className:"max-w-6xl mx-auto bg-black w-full md:flex justify-center items-center p-10 my-8 ",children:[c.jsxs("div",{className:"flex-1 text-white",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-[#00ff66] mb-6",children:"Categories"}),c.jsxs("h2",{className:"font-semibold text-5xl mb-6",children:["Enhanced Your ",c.jsx("br",{})," Music Experience"]})]}),c.jsx("div",{}),c.jsx("button",{className:"font-semibold px-4 py-2 bg-[#00ff66] hover:bg-[#00ff66]/90 cursor-pointer",children:"Buy Now"})]}),c.jsx("div",{className:"flex-1",children:c.jsx("img",{src:gL,alt:""})})]})});function xL(){const[n,e]=D.useState("All"),[t,s]=D.useState("All"),[a,l]=D.useState(!1),[u,h]=D.useState([]),[m,p]=D.useState(1),[y,v]=D.useState([]),b=16,N=["All","Gaming","Electronics","Furniture","Accessories","Monitors","Keyboards"],j=[{label:"All",min:0,max:1/0},{label:"$0 - $100",min:0,max:100},{label:"$100 - $300",min:100,max:300},{label:"$300 - $500",min:300,max:500},{label:"$500+",min:500,max:1/0}],[T,R]=D.useState({days:3,hours:23,minutes:19,seconds:56}),M=D.useRef(null),[k,q]=D.useState({start:0,end:4}),[L,H]=D.useState(!1),[Q,O]=D.useState(null),[S,A]=D.useState([]),[B,V]=D.useState(!0),[U,P]=D.useState(""),we=y.filter(de=>{const se=n==="All"||n==="Gaming"&&(de.name?.includes("Gamepad")||de.name?.includes("Gaming")||de.category==="gaming")||n==="Electronics"&&(de.name?.includes("Keyboard")||de.name?.includes("Monitor")||de.category==="smartphone"||de.category==="accessory")||n==="Furniture"&&de.name?.includes("Chair")||n==="Accessories"&&(de.name?.includes("Gamepad")||de.name?.includes("Keyboard")||de.category==="accessory")||n==="Monitors"&&de.name?.includes("Monitor")||n==="Keyboards"&&de.name?.includes("Keyboard"),fe=j.find(Oe=>Oe.label===t),De=de.salePrice>=fe.min&&de.salePrice<=fe.max;return se&&De}),xe=Math.ceil(we.length/b),K=(m-1)*b,re=K+b,he=we.slice(K,re),me=()=>{m<xe&&p(m+1)},z=()=>{m>1&&p(m-1)},$=de=>{p(de)},ne=async de=>{if(!Q){alert("Please log in to add items to cart");return}try{const se={productId:de.id,name:de.name,price:de.salePrice,image:de.image||"/api/placeholder/400/400",quantity:1,selectedSize:"M",selectedColor:"white",addedAt:new Date().toISOString()},fe=Je(Ge,"users",Q.uid);await ga(fe,{cart:Bl(se)},{merge:!0}),h(De=>De.find(Fe=>Fe.id===de.id)?De.map(Fe=>Fe.id===de.id?{...Fe,quantity:Fe.quantity+1}:Fe):[...De,{...de,quantity:1}]),alert("Product added to cart successfully!")}catch(se){console.error("Error adding to cart:",se),alert("Failed to add product to cart. Please try again.")}},ae=de=>{const se=[...de];for(let fe=se.length-1;fe>0;fe--){const De=Math.floor(Math.random()*(fe+1));[se[fe],se[De]]=[se[De],se[fe]]}return se},ge=()=>c.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform ${a?"translate-x-0":"-translate-x-full"} transition-transform duration-300 lg:relative lg:translate-x-0 lg:block`,children:c.jsxs("div",{className:"p-4 h-full overflow-y-auto",children:[c.jsxs("div",{className:"lg:hidden flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Filters"}),c.jsx("button",{onClick:()=>l(!1),className:"p-1 hover:bg-gray-100 rounded",children:""})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Categories"}),c.jsx("div",{className:"space-y-2",children:N.map(de=>c.jsx("button",{onClick:()=>e(de),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${n===de?"bg-red-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:de},de))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Price Range"}),c.jsx("div",{className:"space-y-2",children:j.map(de=>c.jsx("button",{onClick:()=>s(de.label),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${t===de.label?"bg-red-500 text-white":"text-gray-600 hover:bg-gray-100"}`,children:de.label},de.label))})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Cart"}),c.jsx("div",{className:"text-sm text-gray-600",children:u.length>0?c.jsxs("div",{children:[c.jsxs("p",{children:[u.reduce((de,se)=>de+se.quantity,0)," items"]}),c.jsxs("p",{className:"font-medium",children:["$",u.reduce((de,se)=>de+se.salePrice*se.quantity,0).toFixed(2)]})]}):c.jsx("p",{children:"Cart is empty"})})]})]})});D.useEffect(()=>{const de=()=>{H(window.innerWidth<768)};return de(),window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),D.useEffect(()=>{p(1)},[n,t]),D.useEffect(()=>{v(ae(S))},[]),D.useEffect(()=>{(async()=>{try{V(!0);const se=await _x(Mm(Ge,"products")),fe=[];se.forEach(De=>{const Oe=De.data();fe.push({id:De.id,name:Oe.name,originalPrice:Oe.price?Oe.price*1.2:0,salePrice:Oe.price||0,discount:20,image:Oe.images&&Oe.images.length>0?Oe.images[0].data||Oe.images[0].url:null,rating:5,reviews:Math.floor(Math.random()*100)+10,category:Oe.category,stock:Oe.stockQuantity||Oe.stock||0,description:Oe.description})}),A(fe),v(ae(fe))}catch(se){console.error("Error fetching products:",se),P("Failed to load products")}finally{V(!1)}})()},[]),D.useEffect(()=>{const de=ka(Mn,se=>{O(se)});return()=>de()},[]);const Ne=({rating:de})=>c.jsx("div",{className:"flex",children:[...Array(5)].map((se,fe)=>c.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 ${fe<de?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},fe))}),be=({product:de})=>{const se=Vo(),[fe,De]=D.useState(!1),[Oe,Fe]=D.useState(!1),[tt,dt]=D.useState(!1),[un,Xs]=D.useState(!1);D.useEffect(()=>{(async()=>{if(!(!Q||!de))try{const _n=Je(Ge,"users",Q.uid),Dr=await vt(_n);if(Dr.exists()){const kr=Dr.data().wishlist||[];Xs(kr.some(Ai=>Ai.productId===de.id))}}catch(_n){console.error("Error checking wishlist status:",_n)}})()},[Q,de]);const Rn=()=>{se(`/product/${de.id}`)},Tc=async()=>{Fe(!0),await ne(de),Fe(!1)},Oa=async()=>{if(!Q){alert("Please log in to add items to wishlist");return}try{dt(!0);const ys={productId:de.id,name:de.name,price:de.salePrice,image:de.image||"/api/placeholder/400/400",addedAt:new Date().toISOString()},_n=Je(Ge,"users",Q.uid),Dr=await vt(_n);if(!Dr.exists())await ga(_n,{wishlist:[ys],createdAt:new Date().toISOString()}),Xs(!0),alert("Product added to wishlist!");else{const kr=Dr.data().wishlist||[];if(un){const Ai=kr.filter(_t=>_t.productId!==de.id);await Kt(_n,{wishlist:Ai}),Xs(!1),alert("Product removed from wishlist!")}else await Kt(_n,{wishlist:Bl(ys)}),Xs(!0),alert("Product added to wishlist!")}}catch(ys){console.error("Error updating wishlist:",ys),alert("Failed to update wishlist. Please try again.")}finally{dt(!1)}};return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden group border border-gray-100",onMouseEnter:()=>De(!0),onMouseLeave:()=>De(!1),children:[c.jsxs("div",{className:"relative bg-gray-50 p-3 sm:p-4",children:[c.jsxs("div",{className:"absolute top-2 left-2 sm:top-3 sm:left-3 bg-red-500 text-white text-xs font-medium px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-md z-10",children:["-",de.discount,"%"]}),c.jsxs("div",{className:`absolute top-2 right-2 sm:top-3 sm:right-3 flex flex-col gap-1 sm:gap-2 transition-opacity duration-300 ${fe?"opacity-100":"opacity-0 sm:opacity-0"} opacity-100 sm:opacity-0 group-hover:opacity-100`,children:[c.jsx("button",{onClick:Oa,disabled:tt,className:`p-1.5 sm:p-2 rounded-full shadow-md transition-colors ${un?"bg-red-50 border border-red-200 hover:bg-red-100":"bg-white hover:bg-red-50 hover:text-red-500"} ${tt?"cursor-not-allowed opacity-50":""}`,children:tt?c.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):c.jsx(Nr,{size:12,className:`sm:w-4 sm:h-4 ${un?"text-red-500 fill-red-500":"text-gray-600"}`})}),c.jsx("button",{onClick:Rn,className:"p-1.5 sm:p-2 bg-white rounded-full shadow-md hover:bg-blue-50 hover:text-blue-500 transition-colors",children:c.jsx(Aa,{size:12,className:"sm:w-4 sm:h-4 text-gray-600"})})]}),c.jsx("div",{className:"flex justify-center items-center h-20 sm:h-32 md:h-40 cursor-pointer",onClick:Rn,children:de.image?c.jsx("img",{src:de.image,alt:de.name,className:"max-h-full max-w-full object-contain transition-transform duration-300 group-hover:scale-105"}):c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-gray-400 text-xs sm:text-sm",children:"No Image"})})})]}),c.jsxs("div",{className:"p-2 sm:p-4",children:[c.jsx("h3",{className:"font-medium text-xs sm:text-sm md:text-base mb-1 sm:mb-2 line-clamp-2 h-8 sm:h-10 text-gray-800 group-hover:text-gray-900 leading-tight",children:de.name}),c.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-3",children:[c.jsxs("span",{className:"text-red-500 font-bold text-sm sm:text-base md:text-lg",children:["",de.salePrice?.toLocaleString()]}),c.jsxs("span",{className:"text-gray-400 line-through text-xs sm:text-sm",children:["",de.originalPrice?.toLocaleString()]})]}),c.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-2 sm:mb-4",children:[c.jsx(Ne,{rating:de.rating}),c.jsxs("span",{className:"text-xs text-gray-500",children:["(",de.reviews,")"]})]}),de.stock===0&&c.jsx("div",{className:"text-xs text-red-600 mb-2",children:"Out of Stock"}),c.jsx("button",{onClick:Tc,disabled:Oe||de.stock===0,className:`w-full py-1.5 sm:py-2.5 px-2 sm:px-4 rounded-lg font-medium text-xs sm:text-sm transition-all duration-300 ${de.stock===0?"bg-gray-300 text-gray-500 cursor-not-allowed":Oe?"bg-gray-400 text-white cursor-not-allowed":"bg-black text-white hover:bg-red-500 hover:shadow-md transform hover:-translate-y-0.5"}`,children:de.stock===0?"Out of Stock":Oe?c.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[c.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),c.jsx("span",{className:"hidden sm:inline",children:"Adding..."}),c.jsx("span",{className:"sm:hidden",children:"..."})]}):c.jsx("span",{children:"Add To Cart"})})]})]})};return c.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[c.jsx(ge,{}),a&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>l(!1)}),c.jsx("div",{className:"flex-1 lg:ml-0",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{className:"lg:hidden p-2 mr-2 hover:bg-gray-100 rounded",onClick:()=>l(!0),children:""}),c.jsx("div",{className:"w-3 sm:w-5 h-8 sm:h-10 bg-red-500 rounded mr-2"}),c.jsx("h2",{className:"text-md sm:text-md font-bold",children:"Products"})]}),c.jsxs("div",{className:"text-sm text-gray-600 max-sm:hidden",children:["Showing ",we.length," of ",S.length," products"]})]}),B&&c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx(Ys,{className:"w-8 h-8 animate-spin text-red-500 mr-2"}),c.jsx("span",{className:"text-gray-600",children:"Loading products..."})]}),U&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[c.jsx("p",{className:"text-red-600",children:U}),c.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-red-700 underline hover:no-underline",children:"Retry"})]}),!B&&!U&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-4",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl sm:text-4xl font-bold mb-2",children:"Explore Our Products"}),n!=="All"&&c.jsxs("p",{className:"text-gray-600",children:["Category: ",c.jsx("span",{className:"font-medium text-red-500",children:n})]})]})}),c.jsx("div",{className:"sm:hidden pb-4 -mx-4 px-4",ref:M,children:c.jsx("div",{className:"flex flex-col gap-4 ",children:he.map(de=>c.jsx(be,{product:de},de.id))})}),c.jsx("div",{className:"hidden sm:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:he.map(de=>c.jsx(be,{product:de},de.id))}),we.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),c.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"No products found"}),c.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters to see more results"})]}),we.length>b&&c.jsxs("div",{className:"flex justify-center items-center mt-6 sm:mt-8 gap-2",children:[c.jsx("button",{onClick:z,disabled:m===1,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${m===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Prev"}),c.jsx("div",{className:"flex gap-1",children:[...Array(xe)].map((de,se)=>{const fe=se+1;return c.jsx("button",{onClick:()=>$(fe),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${m===fe?"bg-red-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:fe},fe)})}),c.jsx("button",{onClick:me,disabled:m===xe,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${m===xe?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Next"})]})]})]})})]})}const vL="/Exclusive_Eccomerce/assets/Arrival01-ziVkiRB8.png",_L="/Exclusive_Eccomerce/assets/woman-CMrEzdWU.png",bL="/Exclusive_Eccomerce/assets/Speaker-401MP9ny.png",wL="/Exclusive_Eccomerce/assets/Perfume-BWwxJMZs.png",NL=()=>c.jsx(c.Fragment,{children:c.jsxs("div",{className:"max-w-6xl mx-auto mt-10 mb-10 px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx("div",{className:"w-4 h-10 bg-red-500 rounded mr-2"}),c.jsx("h2",{className:"text-md font-bold text-red-500",children:"Featured"})]}),c.jsxs("div",{className:"flex justify-between items-center mb-8 ",children:[c.jsx("h1",{className:"text-4xl font-bold",children:"New Arrival"}),c.jsx("div",{className:"flex items-center gap-4"})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 ",children:[c.jsx("div",{className:"",children:c.jsxs("div",{className:"relative group h-full w-full",children:[c.jsx("img",{src:vL,className:"bg-black rounded-sm h-full px-4 pt-8",alt:""}),c.jsxs("div",{className:"absolute bottom-0 md:opacity-40 group-hover:opacity-100 text-white p-6  z-10 animation-400 duration-300 group-hover:px-10",children:[c.jsx("h1",{className:"text-xl  font-semibold mb-4",children:"PlayStation 5 "}),c.jsxs("p",{className:"text-sm mb-2",children:["Black and white Version of the PS5 ",c.jsx("br",{})," Coming out on side"]}),c.jsx("p",{className:"border-b-2 border-gray-500 flex  w-20 hover:font-semibold hover:w-32 animation-400 duration-300",children:"Shop Now "})]})]})}),c.jsxs("div",{className:"grid md:grid-rows-2 gap-2   ",children:[c.jsxs("div",{className:"relative group ",children:[c.jsx("img",{src:_L,className:"bg-black rounded-sm  w-full",alt:""}),c.jsxs("div",{className:"absolute bottom-0 md:opacity-40 group-hover:opacity-100 text-white p-6  z-10 animation-400 duration-300 group-hover:px-10",children:[c.jsx("h1",{className:"text-xl  font-semibold mb-4",children:"Women's Collections"}),c.jsxs("p",{className:"text-sm mb-2",children:["Featured woman collections that ",c.jsx("br",{})," give you another vibe"]}),c.jsx("p",{className:"border-b-2 border-gray-500 flex  w-20 hover:font-semibold hover:w-32 animation-400 duration-300",children:"Shop Now "})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:" flex-1 relative group w-full h-full",children:[c.jsx("img",{src:bL,className:"bg-black rounded-sm w-full h-full p-8",alt:""}),c.jsxs("div",{className:"absolute bottom-0 md:opacity-40 group-hover:opacity-100 text-white p-6  z-10 animation-400 duration-300 group-hover:px-10",children:[c.jsx("h1",{className:"text-xl  font-semibold mb-4",children:"Speakers "}),c.jsx("p",{className:"text-sm mb-2",children:"Amazon wireless speaker"}),c.jsx("p",{className:"border-b-2 border-gray-500 flex  w-20 hover:font-semibold hover:w-32 animation-400 duration-300",children:"Shop Now "})]})]}),c.jsxs("div",{className:" flex-1 relative group  w-full h-full",children:[c.jsx("img",{src:wL,className:"bg-black rounded-sm w-full h-full p-8",alt:""}),c.jsxs("div",{className:"absolute bottom-0 md:opacity-40 group-hover:opacity-100 text-white p-6  z-10 animation-400 duration-300 group-hover:px-10",children:[c.jsx("h1",{className:"text-xl  font-semibold mb-4",children:"Perfume "}),c.jsx("p",{className:"text-sm mb-2 uppercase",children:"Gucci Intense Qud Edp"}),c.jsx("p",{className:"border-b-2 border-gray-500 flex  w-20 hover:font-semibold hover:w-32 animation-400 duration-300",children:"Shop Now "})]})]})]})]})]})]})}),jA=()=>{const n=[{icons:c.jsx(_M,{}),title:"Free And Fast Delivery",description:"Free delivery on all orders over $140"},{icons:c.jsx(YM,{}),title:"24/7 Customer Service",description:"Friendly 24/7 customer support"},{icons:c.jsx(Ox,{}),title:"Money Back Guarantee",description:"we return money within 30days"}];return c.jsx(c.Fragment,{children:c.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 my-8 sm:my-10",children:c.jsx("div",{className:"flex flex-col sm:flex-row flex-wrap justify-center gap-8 sm:gap-4 md:gap-6 lg:gap-10 items-center mt-6 sm:mt-10",children:n.map((e,t)=>c.jsxs("div",{className:"flex flex-col items-center w-full sm:w-[45%] md:w-auto",children:[c.jsx("div",{className:"flex justify-center items-center bg-black text-white rounded-full w-12 h-12 sm:w-14 sm:h-14 ring-8 sm:ring-16 ring-black/[0.1] shadow-lg mb-4 sm:mb-6",children:e.icons}),c.jsx("div",{className:"text-center text-base sm:text-lg font-bold mt-2 uppercase",children:e.title}),c.jsx("div",{className:"text-center text-xs sm:text-sm mt-1 sm:mt-2 max-w-[250px]",children:e.description})]},t))})})})},EL=()=>c.jsxs("div",{className:"bg-gray-50",children:[c.jsx(hL,{}),c.jsx(fL,{}),c.jsx(mL,{}),c.jsx(pL,{}),c.jsx(yL,{}),c.jsx(NL,{}),c.jsx(jA,{})]}),TL="/Exclusive_Eccomerce/assets/GooglePlay-BroOb96A.png",SL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAAoCAYAAAAfWs+KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAz0SURBVHgB7Vx7VJVVFt+ACkI8EoVpCYqWYqlhpenSsjQZHLXUcv7I1BpraZmrbOUaMV0jmdlQY5otLW3GUhRrCB+U4h++3+8RRRFUENQl+AZEEB9n9m/D+fru5QLf5eGj7l7r+H3fPvucs8/Z5+zXuehGRIpccN+BO7ngvoQGjpCDBg2i5557jgICAsgFdw+uXLlCKSkp9MMPP1SocyOTqgwLC6Pk5DV0IjOToif8nU6ezKbr10tIKZc2rW/AEnt7e/PzNrm5uZGPjw81axZEsZ9/TuHhbemF3r1ZHidt2+jCAlODBw2Wd26szHWucueLlsELffqIbMx1HvxPDKT3xhtvyMmKjY0VibtO2b0CbpTFGrB1WCvyauxFR48eNWpEgrNmzVKenp7K3d39vtiNf6SCk9ekSRORkcYZzgkckevXr5ML7j2A9isoKCB/f38D97sMB6Dqa9Oupu3rE27evGnzXaeCw4TNk2e1a7mNh4cHNWhQpgCstKsKsEM7duxIjRo1ImehS+cuNbbvmAMA8/Dy8qJHH3203jZBnQlOM9iKjSjc1gULFtDt27erbYdFGjFihOyovLw8eTYNbEoeLDzzpNn+ljFsEmrDhg3Lx644jdWrk6lly5Y2fegNYgZ86z7By+49uyvUawCd3lz29ai7desWJa9eI3No27YtJfycYGwCtLPvqzZQpyfuqaee4hjwhCzY5s2bLbdr2rQpffjheAoMDKR24e0oOyebbrHQw/m9sLCQ9u3bJ/Z3yZKl5OfnR1FRUTR27FjZGAk/J1JoaAjF/jOWrhVdo6+/niN9XrlymW6Vq5cjR45IMPvII4/I4n408SMqKSmhJYuXyDcW9PTp0xLonjlzxuDLvXzzYCNevHiRHnroIRHEvG/m0ZbNW+jQoVThATR4TvnHFOr7lyha8J8FdC7vnPCTkZFBK1euFGGibXp6Bp07d07mXGvNgsJM19r74UVQvMBKlW0zy7Hg+++/r2JjPze+i4uL5QmApzts2DC1Zs0a9cEHH6gXX3xRJf6cqA6mpKiIiAiVkJCgnn76aZWRcUzasIDUgw8+qA4ePKR4odXu3bvVwIEDVePGjQ2+RgwfIU8WiGoZFsa0BxVvBtW8eXPFArDhLT09XT3//PPi1fHiG3yxKlRz5sxRkydPNubKG0Dmz5pAtWrVSl2+fFnqTpw4oXjTqL179irOSCl2BI05OlO+//57473OTlzPnj1lB0F9tWnTRnBWbQV2rNmjhX1AX+fPnxd8YmIide3alRYtWkTDhw+nc4zfsmULvfXWWzRjxgzxiNPSjkjbs2fPlu9kRSXFxdSuXTtWm6uJF0pODSB64kRazKctsEkgFeTn80lsQ+vWrZPTpmk0sABo06ZNdOnSJYNHnFaUnTt3crbDx2aueN64cUPs64EDBwSXfjRd6ENYMwwdOpTi4hbThAkTqDbgtOC0nobK6tChA4WEhMg37NPo0aNk0by8Gosgmzcvq7OiEpAfHT1qlCwQVBlUjzvbLti/9evXE8cwsqgDBgygPWyHli9fIeoSi8enSdRsGV/+Mp6PzwPkx+7z/PnzadWq1TRu3DhRu+C7RYtQmvbJJ/SA7wPEp5OFGCfqjE+0qDAzxMfH0wqumzRpEmVzChCAjQUArT/3pwFqF7aYT6ioxmbNmgm+WVCQ8Ld06Y+yfvPnz6NevXpTbcGyqvRo0ECeGzZsUGbIyspSQ4YMUTExMYp3lk0d63RRd1AjlfXLOTlRh2PGjFEPP/yw4NAGz08//ZTTcIMMddStWzdWe96Kjb3q3bu34KHG2L7Ke89ne8pY3bt3V5z7E9xfy3nDOxIM7DkqtkcqLKyVCmC1Cvzbb7+t+nBqqUOHjoaK1zzz5lGTJ00ycJGRf5Z33rSiAvU80Hfr1q3Vq6++Kvx36dJF8ODN3z9A3ocOfU1N/Xiq0Fa1JlSNqrQsOD1I7tlcsQMojsAeD7tgbzesFrONxLv9tz2Nzvo4onPUhyMaq+2rs9+63pyJqm3+1yw4h9c6jgBqgHc/Bf8puEo6s/utPTZE/HjiuyqoisbeXpptigYdfphxlb1XBaDT86hpX7reHBLVND50BE7ZOFZlTg0OQfTr319sS3VCA4AmOjpaEqlRUX3rPdGtg38/Xz+xcXBsWKOwDd1DnTt3lvFhL83xl30cdzfBkqr09fVVNQGoWGdUBMc+0i4tLa1WasVKAV8tQlsYvLLwFCcOVPG1Mh5GjRpt0H4540s1b968eueJLKpKy4Jr0iRQOQvOxCpYxM7sNAB++eUXeSLe0UJvUO4YoSBOsm9rT2N+R6ns1iMt7aiMBUfDjM/PLxC8d+MyB4dPoypgnHlMR31qnJlHR3bYEf/OCM6yqiwtdf7mAG4z7JuVfB3U0mefTZd4B6EBYMyYdw11Cfd6+vTptG7tOomTklYmSbbj119XyW0xVBpoliyJ59BhNnk28qSNGzdRTk6OkX5zpOaCg4Po6tWr0pdWnSgREY/T8GHD6VrxNVq+bLmEEZ5ensSJAIqMjJS26JM9RDp27BgdP36C5s6dKzioVvD43Xf/ppkzZ0rOEmEOfg6C+q7dutGuXbskbsR8OPC3yfNaBUsnDgUnyBmAN7k4bnGVO5707nVzF/qFCxcJDtkGDsBt6LZt26Y4llN8xaE4uFUsGGMs7fqfOX1GsRAEx0G12rdvv7zrLIb97ubgXOpTD6WqiMcjHHqByxKXydxLS0tVUlKShA2aR61i4xbFyTvCId1HBodCHN8KHie7B4coL7/8inyzoCUkQaYHwGnCak9ejVQlCge7yhlACgyAlFZVwgPDfMqEtiPHUcChDSCMU1J6Qhs3bhQcZ0uMtkiBAZYtWybfWVkn5bt//wEGDegB74x+x2ZcHeIgLWbebIg9R44cKXVeXmXxJNJjfGqMthz8C72mQ0HqDbBw4UL5Tk1NlW/O3hg0gO3bt9vwwSde8al1SlVaFhwWb+DAQcpZYJUhz5gpMVX2n5JyUF24cKFcwB4iZMC33/7mEGjBwX6hXgsUp0mfzpMsOE7iGjyjNGrkKQLhNFmFcbUtDA0NVWPfHas4S2Pwzsltg+7UqVNyOvT31q1bJUa1jw0vX7qs8nLzDMHpOaE80ekJ6Xf69M/U66+/rt58803FmSC1f///OMdZWm1AXmPB4QlVoE+SFdC0yCQ4DH65sP2wETTaaIFjN2raTawakcS1n+Dh1MOqoLDQOBl8G2BTDyGDbyST7fH2AtTl+PHjMj4W25HgcEKusfdpPx+MX1hQaAjO3Oall16SPk+dOs1J8Qx1jBPjGOcgb1oks+15qEpwlp0TVR6UIskLR0BZjLFA+8UX/5IEraM2wIz820h5Hz9+PL322jApr7wyhJOxceJ4sAoqp1WSvMXP2NCvzoGGh4fTpfLkMIbgtJO8w0kAzwH+AZJDhKNiBvSdnZ1DU6bEiGNjvgQGLwBfP1+D3hxMc7giOVIUMy/BwcGUm5dLjgBtAPhhFu7r2rRtI1dNj7MjhLxvvTkneodChVSW8jIDVAmMM9pUpQays7NVSXFJBTyuZwDJycllqnLDRhk3MzPLoMEVD2DypLLrFW3jklYkGSfpyOEjguvRvUeFMbRz0OeFPgYuKChITpPWFMAhHNDhDTSHtmdr16412s2aOUtwfGvh8MShwLFCP+xtyzdvHvl2dHqJ6kBVkp1K0R4VAMzExy+V4DU3N9fAFxUVSTxTldDat28vtD/99JPDeuRG9QIiuY2FwB2cVqsAs2qEqtq7d6/asWOHzSZK+G+CsejmjRgY2NToB+oUc9HQq1cvg37u3G8MPBLSwH311VfyDdV+9WqRvMPDNPNijmUxXkjzEGPTny2fG8YNDgqu9hd2tRKcWXj9+vVTPXpU3MVwq6P69q32pKE89lh78czMwbYu+GaVIkYcNwIQHBYJdXw/Jxer2jXXPGGxYI/wPoA9y3HsnXbq1MmGxlw0f/BOIYjZs2crVt1yUaodDw+PsnbPPPOMeu+99+RE6kXGhSn4iJ4QrTheE5wOviP7RIq3bB5Ptxs8+GU1bdo0GdeMr1fB6UV1hr4mxX4MOCc4HWznKqWD4HKyc5zi18pcnJ1vZTcMtSk1uh2wB6vOSW3AfgxvH2/JftgbcTMdMjU3Sm9U25fVOmdoKqOvj7W6d1Ld1QC8NlZVLLiGnH4rrZQGP+jRXp6VX5ndr2CEA/gVFK7i78UfgwIgBIQURUVXK93BoEGukz2035XQdB4zPz/fwBmC46wETYieaHOJ6IK7D/oPcD6eOtX48ZEGw+AhPnr22Z51Ykhdpe7Kk08+Kb/rscP/9oGEbmZmpopf+qO4vHCf74T36Cq2BWuOtUf+dO4338rfxkE2NjRaemZASoZjH5u/DnHBnQfYNJiwFStWVKhzKDgX3Pvg+l8X7lP4Pz8b96G8OjR4AAAAAElFTkSuQmCC",AL="/Exclusive_Eccomerce/assets/Qr%20Code-Bl9wTBTM.png";function jL(){const[n,e]=D.useState(""),t=a=>{e(a.target.value)},s=()=>{console.log("Email submitted:",n),e("")};return c.jsx("footer",{className:"bg-black text-white bottom-0 ",children:c.jsxs("div",{className:"max-w-6xl mx-auto",children:[c.jsxs("div",{className:"grid md:grid=cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-8 py-8 px-6 md:px-12",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-4",children:"Exclusive"}),c.jsx("p",{className:"mb-2",children:"Subscribe"}),c.jsx("p",{className:"text-xs mb-4",children:"Get 10% off your first order"}),c.jsxs("div",{className:"flex mb-4",children:[c.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:t,className:"bg-black border border-gray-600 text-white text-xs py-2 px-3 mr-1 flex-grow"}),c.jsx("button",{onClick:s,className:"bg-black border border-gray-600 px-2",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-4",children:"Support"}),c.jsx("p",{className:"text-xs mb-1",children:"111 Bijoy sarani, Dhaka,"}),c.jsx("p",{className:"text-xs mb-1",children:"DH 1515, Bangladesh."}),c.jsx("p",{className:"text-xs mb-1",children:"exclusive@gmail.com"}),c.jsx("p",{className:"text-xs mb-3",children:"+88015-88888-9999"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-4",children:"Account"}),c.jsxs("div",{className:"text-xs space-y-2",children:[c.jsx("div",{children:c.jsx("a",{href:"#",className:"hover:underline",children:"My Account"})}),c.jsx("div",{children:c.jsx("a",{href:"#",className:"hover:underline",children:"Login / Register"})}),c.jsx("div",{children:c.jsx("a",{href:"#",className:"hover:underline",children:"Cart"})}),c.jsx("div",{children:c.jsx("a",{href:"#",className:"hover:underline",children:"Wishlist"})}),c.jsx("div",{children:c.jsx("a",{href:"#",className:"hover:underline",children:"Shop"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold mb-4",children:"Quick Link"}),c.jsxs("div",{className:"text-xs space-y-2",children:[c.jsx("div",{children:c.jsx("a",{href:"#",className:"hover:underline",children:"Privacy Policy"})}),c.jsx("div",{children:c.jsx("a",{href:"#",className:"hover:underline",children:"Terms Of Use"})}),c.jsx("div",{children:c.jsx("a",{href:"#",className:"hover:underline",children:"FAQ"})}),c.jsx("div",{children:c.jsx("a",{href:"#",className:"hover:underline",children:"Contact"})})]})]}),c.jsxs("div",{className:"px-6   pb-8",children:[c.jsx("h3",{className:"font-bold mb-4",children:"Download App"}),c.jsxs("div",{className:"flex flex-col justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400 ",children:"Save $3 with App New User Only"}),c.jsxs("div",{className:"flex  mt-4",children:[c.jsx("div",{className:"",children:c.jsx("img",{src:AL,alt:"QR Code",className:""})}),c.jsxs("div",{className:"flex flex-col justify-center space-y-2",children:[c.jsx("a",{href:"#",className:"  flex items-center",children:c.jsx("img",{src:TL,alt:"Google Play",className:"mr-2 "})}),c.jsx("a",{href:"#",className:" flex items-center",children:c.jsx("img",{src:SL,alt:"App Store",className:"mr-2 "})})]})]})]}),c.jsxs("div",{className:"flex space-x-4 mt-4",children:[c.jsx("a",{href:"#",className:"text-white hover:text-gray-300",children:c.jsx(zM,{size:18})}),c.jsx("a",{href:"#",className:"text-white hover:text-gray-300",children:c.jsx(k9,{size:18})}),c.jsx("a",{href:"#",className:"text-white hover:text-gray-300",children:c.jsx(ZM,{size:18})}),c.jsx("a",{href:"#",className:"text-white hover:text-gray-300",children:c.jsx(e9,{size:18})})]})]})]})]}),c.jsx("div",{className:"text-center py-4 text-xs text-gray-400 border-t border-gray-800",children:" Copyright Code X2023  . All rights reserved."})]})})}const CA="/Exclusive_Eccomerce/assets/Login-B3UDHpxv.png",CL=()=>{const[n,e]=D.useState(""),[t,s]=D.useState(""),[a,l]=D.useState(""),[u,h]=D.useState(""),[m,p]=D.useState(null),[y,v]=D.useState(!1),b=Vo(),N=async T=>{if(T.preventDefault(),t!==a){p("Passwords do not match");return}if(t.length<6){p("Password must be at least 6 characters");return}v(!0),p(null);try{const{user:R,error:M}=await On.createUser(n,t);M?p(om(M.code)):(await On.updateUserProfile(R,{displayName:u}),await On.sendVerificationEmail(R),console.log("User registered:",R),b("/"))}catch(R){p("Failed to create account. Please try again."),console.error(R)}finally{v(!1)}},j=async()=>{v(!0),p(null);try{const{user:T,error:R}=await On.signInWithGoogle();R?p(om(R.code)):(console.log("User signed up with Google:",T),b("/"))}catch(T){p("Failed to signup with Google. Please try again."),console.error(T)}finally{v(!1)}};return c.jsx(c.Fragment,{children:c.jsxs("div",{className:"md:flex items-center gap-8",children:[c.jsx("div",{className:"flex-1 hidden md:block",children:c.jsx("img",{src:CA,alt:"Sign Up"})}),c.jsxs("div",{className:"flex-1 flex flex-col gap-4 md:pl-20 p-4",children:[c.jsx("h4",{className:"text-3xl text-[#333] mt-4",children:"Create an Account"}),c.jsx("p",{className:"text-[#333] text-sm font-semibold",children:"Enter your details below"}),m&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded max-w-sm",children:m}),c.jsxs("div",{children:[c.jsxs("form",{onSubmit:N,className:"flex flex-col gap-8",children:[c.jsx("input",{type:"text",placeholder:"Name",className:"border-b-2 border-gray-300 max-w-sm w-full py-3 px-1 outline-none focus:border-red-500 animation-1000 duration-800 ease-in-out",value:u,onChange:T=>h(T.target.value),required:!0}),c.jsx("input",{type:"email",placeholder:"Email Address",className:"border-b-2 border-gray-300 max-w-sm w-full py-3 px-1 outline-none focus:border-red-500 animation-1000 duration-800 ease-in-out",value:n,onChange:T=>e(T.target.value),required:!0}),c.jsx("input",{type:"password",placeholder:"Password",className:"border-b-2 border-gray-300 max-w-sm w-full py-3 px-1 outline-none focus:border-red-500 animation-1000 duration-800 ease-in-out",value:t,onChange:T=>s(T.target.value),required:!0}),c.jsx("input",{type:"password",placeholder:"Confirm Password",className:"border-b-2 border-gray-300 max-w-sm w-full py-3 px-1 outline-none focus:border-red-500 animation-1000 duration-800 ease-in-out",value:a,onChange:T=>l(T.target.value),required:!0}),c.jsx("div",{children:c.jsx("button",{type:"submit",className:"text-white font-semibold rounded-md bg-red-500 hover:bg-red-400 cursor-pointer flex py-2 px-6",disabled:y,children:y?"Creating Account...":"Create Account"})})]}),c.jsxs("div",{className:"my-4 flex items-center max-w-sm",children:[c.jsx("div",{className:"flex-grow border-t border-gray-300"}),c.jsx("span",{className:"mx-4 text-gray-500 text-sm",children:"OR"}),c.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),c.jsxs("button",{onClick:j,className:"flex items-center justify-center gap-2 border border-gray-300 rounded-md py-2 px-4 w-full max-w-sm hover:bg-gray-50",disabled:y,children:[c.jsx("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:c.jsx("path",{fill:"#4285F4",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Continue with Google"]}),c.jsxs("p",{className:"text-gray-500 mt-4",children:["Already have an account? ",c.jsx("span",{className:"text-red-500 cursor-pointer hover:underline pb-1 animation-400 duration-100 ease-in-out hover:font-semibold",children:c.jsx(Ze,{to:"/login",children:"Log in"})})]})]})]})]})})},RL=()=>{const[n,e]=D.useState(""),[t,s]=D.useState(""),[a,l]=D.useState(null),[u,h]=D.useState(!1),m=Vo(),p=async b=>{b.preventDefault(),h(!0),l(null);try{const{user:N,error:j}=await On.signInUser(n,t);j?l(om(j.code)):(console.log("User logged in:",N),m("/"))}catch(N){l("Failed to log in. Please try again."),console.error(N)}finally{h(!1)}},y=async()=>{h(!0),l(null);try{const{user:b,error:N}=await On.signInWithGoogle();N?l(om(N.code)):(console.log("User logged in with Google:",b),m("/"))}catch(b){l("Failed to log in with Google. Please try again."),console.error(b)}finally{h(!1)}},v=async()=>{if(!n){l("Please enter your email address to reset your password");return}h(!0);try{await On.resetPassword(n),alert("Password reset email sent. Please check your inbox.")}catch(b){l("Failed to send password reset email. Please try again."),console.error(b)}finally{h(!1)}};return c.jsx(c.Fragment,{children:c.jsxs("div",{className:"md:flex items-center gap-8",children:[c.jsx("div",{className:"flex-1 hidden md:block",children:c.jsx("img",{src:CA,alt:"Login"})}),c.jsxs("div",{className:"flex-1 flex flex-col gap-4 md:pl-20 p-4",children:[c.jsx("h4",{className:"text-3xl text-[#333] mt-4",children:"Login to Exclusive"}),c.jsx("p",{className:"text-[#333] text-sm font-semibold",children:"Enter your details below"}),a&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded max-w-sm",children:a}),c.jsxs("div",{children:[c.jsxs("form",{onSubmit:p,className:"flex flex-col gap-8",children:[c.jsx("input",{type:"email",placeholder:"Email Address",className:"border-b-2 border-gray-300 max-w-sm w-full py-3 px-1 outline-none focus:border-red-500 animation-1000 duration-800 ease-in-out",value:n,onChange:b=>e(b.target.value),required:!0}),c.jsx("input",{type:"password",placeholder:"Password",className:"border-b-2 border-gray-300 max-w-sm w-full py-3 px-1 outline-none focus:border-red-500 animation-1000 duration-800 ease-in-out",value:t,onChange:b=>s(b.target.value),required:!0}),c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsx("button",{type:"submit",className:"text-white font-semibold rounded-md bg-red-500 hover:bg-red-400 cursor-pointer flex py-2 px-6",disabled:u,children:u?"Logging in...":"Log In"}),c.jsx("p",{className:"text-red-500 hover:underline cursor-pointer hover:underline pb-1 animation-600 duration-800 ease-in-out",onClick:v,children:"Forgot Password?"})]})]}),c.jsxs("div",{className:"my-4 flex items-center max-w-sm",children:[c.jsx("div",{className:"flex-grow border-t border-gray-300"}),c.jsx("span",{className:"mx-4 text-gray-500 text-sm",children:"OR"}),c.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),c.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 border border-gray-300 rounded-md py-2 px-4 w-full max-w-sm hover:bg-gray-50",disabled:u,children:[c.jsx("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:c.jsx("path",{fill:"#4285F4",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Continue with Google"]}),c.jsxs("p",{className:"text-gray-500 mt-4",children:["Don't have an account? ",c.jsx("span",{className:"text-red-500 cursor-pointer hover:underline pb-1 animation-400 duration-100 ease-in-out hover:font-semibold",children:c.jsx(Ze,{to:"/signup",children:"Sign up"})})]})]})]})]})})};function IL(){const[n,e]=D.useState([{id:1,name:"LCD Monitor",price:550,quantity:1,image:tv},{id:2,name:"HI Gamepad",price:550,quantity:2,image:nv},{}]),[t,s]=D.useState(""),a=(p,y)=>{e(n.map(v=>v.id===p?{...v,quantity:y}:v))},u=n.reduce((p,y)=>p+y.price*y.quantity,0),h="Free",m=u;return c.jsx("div",{className:"max-w-6xl mx-auto p-4 my-8",children:c.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[c.jsxs("div",{className:"flex-grow",children:[c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200",children:[c.jsx("th",{className:"text-left py-4 font-normal text-gray-600",children:"Product"}),c.jsx("th",{className:"text-left py-4 font-normal text-gray-600",children:"Price"}),c.jsx("th",{className:"text-left py-4 font-normal text-gray-600",children:"Quantity"}),c.jsx("th",{className:"text-right py-4 font-normal text-gray-600",children:"Subtotal"})]})}),c.jsx("tbody",{children:n.map(p=>c.jsxs("tr",{className:" border-b border-gray-200",children:[c.jsx("td",{className:"py-4 px-2",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:p.image,alt:p.name,className:"w-12 h-12 object-contain"}),c.jsx("span",{children:p.name})]})}),c.jsxs("td",{className:"py-4",children:["$",p.price]}),c.jsx("td",{className:"py-4",children:c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:p.quantity,onChange:y=>a(p.id,parseInt(y.target.value)),className:"border rounded appearance-none px-3 py-1 pr-8 bg-white",children:[...Array(10)].map((y,v)=>c.jsx("option",{value:v+1,children:String(v+1).padStart(2,"0")},v))}),c.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:c.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),c.jsxs("td",{className:"py-4 text-right",children:["$",p.price*p.quantity]})]},p.id))})]}),c.jsxs("div",{className:"flex justify-between mt-8",children:[c.jsx("button",{className:"border border-gray-300 px-6 py-2 hover:bg-gray-50",children:"Return To Shop"}),c.jsx("button",{className:"border border-gray-300 px-6 py-2 hover:bg-gray-50",children:"Update Cart"})]}),c.jsxs("div",{className:"flex gap-4 mt-8",children:[c.jsx("input",{type:"text",placeholder:"Coupon Code",value:t,onChange:p=>s(p.target.value),className:"border px-4 py-2 flex-grow max-w-xs"}),c.jsx("button",{className:"bg-red-500 text-white px-6 py-2 hover:bg-red-600",children:"Apply Coupon"})]})]}),c.jsx("div",{className:"w-full lg:w-96",children:c.jsxs("div",{className:"shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-medium mb-6",children:"Cart Total"}),c.jsxs("div",{className:"flex justify-between py-3 border-b",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal"}),c.jsxs("span",{className:"font-medium",children:["$",u]})]}),c.jsxs("div",{className:"flex justify-between py-3 border-b",children:[c.jsx("span",{className:"text-gray-600",children:"Shipping"}),c.jsx("span",{className:"font-medium",children:h})]}),c.jsxs("div",{className:"flex justify-between py-3",children:[c.jsx("span",{className:"text-gray-600",children:"Total"}),c.jsxs("span",{className:"font-bold",children:["$",m]})]}),c.jsx("button",{className:"w-full bg-red-500 text-white py-3 mt-6 hover:bg-red-600",children:"Proceed to checkout"})]})})]})})}const DL=({handleSaveChanges:n,firstName:e,lastName:t,email:s,address:a,setFirstName:l,setLastName:u,setEmail:h,setAddress:m,currentPassword:p,newPassword:y,confirmPassword:v,setCurrentPassword:b,setNewPassword:N,setConfirmPassword:j})=>{const[T,R]=D.useState("(555) 123-4567"),[M,k]=D.useState(""),[q,L]=D.useState(!0),[H,Q]=D.useState(!1),[O,S]=D.useState("personal"),A=Vd();console.log(A);const[B,V]=D.useState(A.currentUser.photoURL),U=P=>{P.target.files&&P.target.files[0]&&V(URL.createObjectURL(P.target.files[0]))};return c.jsxs("div",{className:"w-full",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"My Profile"}),c.jsx("span",{className:"text-sm text-gray-500",children:"Account created on May 15, 2023"})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border border-gray-200",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden border-2 border-gray-300",children:B?c.jsx("img",{src:B,alt:"Profile",className:"w-full h-full object-cover"}):c.jsx(Zu,{size:40,className:"text-gray-400"})}),c.jsxs("label",{htmlFor:"profile-image",className:"absolute bottom-0 right-0 bg-white rounded-full p-1 border border-gray-300 cursor-pointer shadow-sm hover:bg-gray-50",children:[c.jsx(ty,{size:16,className:"text-gray-600"}),c.jsx("input",{type:"file",id:"profile-image",className:"hidden",accept:"image/*",onChange:U})]})]}),c.jsxs("div",{className:"text-center md:text-left",children:[c.jsx("h3",{className:"text-lg font-medium",children:A.currentUser.displayName}),c.jsxs("div",{className:"flex items-center justify-center md:justify-start text-gray-600 text-sm mt-1",children:[c.jsx(ny,{size:14,className:"mr-1"}),c.jsx("span",{children:A.currentUser.email})]}),c.jsxs("div",{className:"flex items-center justify-center md:justify-start text-gray-600 text-sm mt-1",children:[c.jsx(O9,{size:14,className:"mr-1"}),c.jsx("span",{children:A.currentUser.metadata.creationTime})]}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 justify-center md:justify-start",children:[c.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:"Loyal Member"}),c.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"5 Orders"})]})]})]})}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsxs("nav",{className:"flex space-x-8",children:[c.jsx("button",{onClick:()=>S("personal"),className:`py-3 px-1 border-b-2 text-sm font-medium ${O==="personal"?"border-red-500 text-red-500":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Personal Information"}),c.jsx("button",{onClick:()=>S("security"),className:`py-3 px-1 border-b-2 text-sm font-medium ${O==="security"?"border-red-500 text-red-500":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Password & Security"}),c.jsx("button",{onClick:()=>S("preferences"),className:`py-3 px-1 border-b-2 text-sm font-medium ${O==="preferences"?"border-red-500 text-red-500":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Preferences"})]})}),c.jsxs("form",{onSubmit:n,children:[O==="personal"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Personal Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Zu,{size:16,className:"text-gray-400"})}),c.jsx("input",{type:"text",value:e,onChange:P=>l(P.target.value),className:"pl-10 w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Zu,{size:16,className:"text-gray-400"})}),c.jsx("input",{type:"text",value:t,onChange:P=>u(P.target.value),className:"pl-10 w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(ny,{size:16,className:"text-gray-400"})}),c.jsx("input",{type:"email",value:s,onChange:P=>h(P.target.value),className:"pl-10 w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Px,{size:16,className:"text-gray-400"})}),c.jsx("input",{type:"tel",value:T,onChange:P=>R(P.target.value),className:"pl-10 w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Ld,{size:16,className:"text-gray-400"})}),c.jsx("input",{type:"date",value:M,onChange:P=>k(P.target.value),className:"pl-10 w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(cm,{size:16,className:"text-gray-400"})}),c.jsx("input",{type:"text",value:a,onChange:P=>m(P.target.value),className:"pl-10 w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 focus:border-red-500 bg-white"})]})]})]})]})}),O==="security"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(Ox,{size:20,className:"text-gray-600 mr-2"}),c.jsx("h3",{className:"text-lg font-medium",children:"Password & Security"})]}),c.jsx("div",{className:"bg-yellow-50 border border-yellow-100 rounded p-4 mb-6",children:c.jsx("p",{className:"text-yellow-800 text-sm",children:"For security reasons, we recommend changing your password every 3 months."})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),c.jsx("input",{type:"password",placeholder:"Enter your current password",value:p,onChange:P=>b(P.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),c.jsx("input",{type:"password",placeholder:"Enter new password",value:y,onChange:P=>N(P.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 focus:border-red-500"}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Password must be at least 8 characters and include uppercase, lowercase, number, and special character."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),c.jsx("input",{type:"password",placeholder:"Confirm new password",value:v,onChange:P=>j(P.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]}),c.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-6",children:[c.jsx("h4",{className:"text-md font-medium mb-3",children:"Two-Factor Authentication"}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex items-center h-5",children:c.jsx("input",{id:"two-factor",name:"two-factor",type:"checkbox",className:"h-4 w-4 text-red-600 border-gray-300 rounded"})}),c.jsxs("div",{className:"ml-3 text-sm",children:[c.jsx("label",{htmlFor:"two-factor",className:"font-medium text-gray-700",children:"Enable Two-Factor Authentication"}),c.jsx("p",{className:"text-gray-500",children:"Receive a security code via SMS when signing in from a new device."})]})]})]})]})}),O==="preferences"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Communication Preferences"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex items-center h-5",children:c.jsx("input",{id:"newsletter",name:"newsletter",type:"checkbox",checked:q,onChange:P=>L(P.target.checked),className:"h-4 w-4 text-red-600 border-gray-300 rounded"})}),c.jsxs("div",{className:"ml-3 text-sm",children:[c.jsx("label",{htmlFor:"newsletter",className:"font-medium text-gray-700",children:"Newsletter"}),c.jsx("p",{className:"text-gray-500",children:"Receive updates about new products, sales, and promotions."})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex items-center h-5",children:c.jsx("input",{id:"sms",name:"sms",type:"checkbox",checked:H,onChange:P=>Q(P.target.checked),className:"h-4 w-4 text-red-600 border-gray-300 rounded"})}),c.jsxs("div",{className:"ml-3 text-sm",children:[c.jsx("label",{htmlFor:"sms",className:"font-medium text-gray-700",children:"SMS Notifications"}),c.jsx("p",{className:"text-gray-500",children:"Receive text messages about order updates and special offers."})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Account Preferences"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex items-center h-5",children:c.jsx("input",{id:"order-history",name:"order-history",type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-red-600 border-gray-300 rounded"})}),c.jsxs("div",{className:"ml-3 text-sm",children:[c.jsx("label",{htmlFor:"order-history",className:"font-medium text-gray-700",children:"Save Order History"}),c.jsx("p",{className:"text-gray-500",children:"Allow us to store your order history for easier reordering."})]})]}),c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex items-center h-5",children:c.jsx("input",{id:"browsing-history",name:"browsing-history",type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-red-600 border-gray-300 rounded"})}),c.jsxs("div",{className:"ml-3 text-sm",children:[c.jsx("label",{htmlFor:"browsing-history",className:"font-medium text-gray-700",children:"Product Recommendations"}),c.jsx("p",{className:"text-gray-500",children:"Allow personalized product recommendations based on your browsing history."})]})]})]})]})]}),c.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[c.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50 font-medium transition duration-150",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 font-medium transition duration-150",children:"Save Changes"})]})]})]})},kL=()=>{const{currentUser:n}=Vd(),[e,t]=D.useState(!1),[s,a]=D.useState(null),[l,u]=D.useState([]),[h,m]=D.useState(!0),[p,y]=D.useState(null),[v,b]=D.useState({firstName:"",lastName:"",address:"",city:"",state:"",zip:"",country:"US",type:"shipping",isDefault:!1}),N=n?.uid,j=()=>Date.now().toString()+Math.random().toString(36).substr(2,9),T=async()=>{try{if(m(!0),y(null),!N){console.warn("No userId provided to fetchAddresses"),u([]);return}const V=Je(Ge,"users",N),U=await vt(V);if(U.exists()){const xe=(U.data().addresses||[]).sort((K,re)=>{const he=K.createdAt?.toDate?.()||new Date(K.createdAt)||new Date(0);return(re.createdAt?.toDate?.()||new Date(re.createdAt)||new Date(0))-he});u(xe)}else u([])}catch(V){console.error("Error fetching addresses:",V),y("Failed to load addresses. Please try again.")}finally{m(!1)}};D.useEffect(()=>{N?T():(m(!1),console.warn("AddressBook: No authenticated user found"))},[N]);const R=async V=>{try{if(!N)throw new Error("User authentication required");const U={...V,id:j(),createdAt:new Date,updatedAt:new Date},P=Je(Ge,"users",N),we=await vt(P);let xe={};we.exists()&&(xe=we.data());let K=xe.addresses||[];V.isDefault&&(K=K.map(he=>({...he,isDefault:!1,updatedAt:new Date})));const re=[...K,U];return await ga(P,{...xe,addresses:re,updatedAt:new Date},{merge:!0}),await T(),U.id}catch(U){throw console.error("Error creating address:",U),y("Failed to create address. Please try again."),U}},M=async(V,U)=>{try{if(!V||!N)throw new Error("Address ID and user authentication required");const P=Je(Ge,"users",N),we=await vt(P);if(!we.exists())throw new Error("User document not found");let K=we.data().addresses||[];U.isDefault&&(K=K.map(re=>({...re,isDefault:re.id===V,updatedAt:new Date}))),K=K.map(re=>re.id===V?{...re,...U,id:V,updatedAt:new Date}:re),await Kt(P,{addresses:K,updatedAt:new Date}),await T()}catch(P){throw console.error("Error updating address:",P),y("Failed to update address. Please try again."),P}},k=async V=>{try{if(!V||!N)throw new Error("Address ID and user authentication required");const U=Je(Ge,"users",N),P=await vt(U);if(!P.exists())throw new Error("User document not found");const K=(P.data().addresses||[]).filter(re=>re.id!==V);await Kt(U,{addresses:K,updatedAt:new Date}),await T()}catch(U){throw console.error("Error deleting address:",U),y("Failed to delete address. Please try again."),U}},q=async V=>{try{if(!V||!N)throw new Error("Address ID and user authentication required");const U=Je(Ge,"users",N),P=await vt(U);if(!P.exists())throw new Error("User document not found");const K=(P.data().addresses||[]).map(re=>({...re,isDefault:re.id===V,updatedAt:new Date}));await Kt(U,{addresses:K,updatedAt:new Date}),await T()}catch(U){console.error("Error setting default address:",U),y("Failed to set default address. Please try again.")}},L=V=>{const{name:U,value:P,type:we,checked:xe}=V.target;b(K=>({...K,[U]:we==="checkbox"?xe:P}))},H=V=>{const U=l.find(P=>P.id===V);U&&(b({firstName:U.firstName||"",lastName:U.lastName||"",address:U.address||"",city:U.city||"",state:U.state||"",zip:U.zip||"",country:U.country||"US",type:U.type||"shipping",isDefault:U.isDefault||!1}),a(V),t(!0),y(null))},Q=async V=>{if(window.confirm("Are you sure you want to delete this address?"))try{await k(V)}catch{}},O=async V=>{try{await q(V)}catch{}},S=()=>{b({firstName:"",lastName:"",address:"",city:"",state:"",zip:"",country:"US",type:"shipping",isDefault:!1}),a(null),t(!0),y(null)},A=async V=>{V.preventDefault();try{y(null),s?await M(s,v):await R(v),t(!1),a(null)}catch(U){console.error("Error saving address:",U)}},B=()=>{t(!1),a(null),b({firstName:"",lastName:"",address:"",city:"",state:"",zip:"",country:"US",type:"shipping",isDefault:!1}),y(null)};return n?h?c.jsx("div",{className:"w-full max-w-4xl mx-auto flex justify-center items-center py-8",children:c.jsx("div",{className:"text-gray-600",children:"Loading addresses..."})}):c.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"My Addresses"}),!e&&c.jsxs("button",{onClick:S,className:"flex items-center text-sm bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition duration-150",children:[c.jsx(lm,{className:"h-4 w-4 mr-2"}),"Add New Address"]})]}),p&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[c.jsx("p",{className:"text-red-800",children:p}),c.jsx("button",{onClick:()=>y(null),className:"text-red-600 text-sm underline mt-1",children:"Dismiss"})]}),e?c.jsxs("form",{onSubmit:A,className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:s?"Edit Address":"Add New Address"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"First Name"}),c.jsx("input",{type:"text",name:"firstName",value:v.firstName,onChange:L,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Last Name"}),c.jsx("input",{type:"text",name:"lastName",value:v.lastName,onChange:L,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Street Address"}),c.jsx("input",{type:"text",name:"address",value:v.address,onChange:L,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"City"}),c.jsx("input",{type:"text",name:"city",value:v.city,onChange:L,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"State/Province"}),c.jsx("input",{type:"text",name:"state",value:v.state,onChange:L,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"ZIP/Postal Code"}),c.jsx("input",{type:"text",name:"zip",value:v.zip,onChange:L,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Country"}),c.jsxs("select",{name:"country",value:v.country,onChange:L,className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[c.jsx("option",{value:"US",children:"United States"}),c.jsx("option",{value:"CA",children:"Canada"}),c.jsx("option",{value:"UK",children:"United Kingdom"}),c.jsx("option",{value:"AU",children:"Australia"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Address Type"}),c.jsxs("div",{className:"flex space-x-4 mt-1",children:[c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",name:"type",value:"shipping",checked:v.type==="shipping",onChange:L,className:"form-radio h-4 w-4 text-indigo-600"}),c.jsx("span",{className:"ml-2 text-gray-700",children:"Shipping"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",name:"type",value:"billing",checked:v.type==="billing",onChange:L,className:"form-radio h-4 w-4 text-indigo-600"}),c.jsx("span",{className:"ml-2 text-gray-700",children:"Billing"})]}),c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"radio",name:"type",value:"both",checked:v.type==="both",onChange:L,className:"form-radio h-4 w-4 text-indigo-600"}),c.jsx("span",{className:"ml-2 text-gray-700",children:"Both"})]})]})]}),c.jsx("div",{className:"md:col-span-2 mt-2",children:c.jsxs("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",name:"isDefault",checked:v.isDefault,onChange:L,className:"form-checkbox h-4 w-4 text-indigo-600"}),c.jsx("span",{className:"ml-2 text-gray-700",children:"Set as default address"})]})})]}),c.jsxs("div",{className:"flex space-x-3 mt-8",children:[c.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-5 py-2 rounded-md hover:bg-indigo-700 transition duration-150",children:"Save Address"}),c.jsx("button",{type:"button",onClick:B,className:"border border-gray-300 text-gray-700 px-5 py-2 rounded-md hover:bg-gray-50 transition duration-150",children:"Cancel"})]})]}):c.jsx(c.Fragment,{children:l.length>0?c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.map(V=>c.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:c.jsx("div",{className:"p-5",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center mb-2",children:[c.jsxs("span",{className:"font-semibold text-gray-800 text-lg",children:[V.firstName," ",V.lastName]}),V.isDefault&&c.jsxs("span",{className:"ml-2 bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium inline-flex items-center",children:[c.jsx(_S,{className:"h-3 w-3 mr-1"}),"Default"]}),c.jsx("span",{className:"ml-2 bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full font-medium",children:V.type.charAt(0).toUpperCase()+V.type.slice(1)})]}),c.jsx("p",{className:"text-gray-600",children:V.address}),c.jsxs("p",{className:"text-gray-600",children:[V.city,", ",V.state," ",V.zip]}),c.jsx("p",{className:"text-gray-600",children:V.country})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>H(V.id),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition duration-150",title:"Edit",children:c.jsx(bS,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>Q(V.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-gray-100 rounded-full transition duration-150",title:"Delete",children:c.jsx(Ud,{className:"h-5 w-5"})}),!V.isDefault&&c.jsx("button",{onClick:()=>O(V.id),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-gray-100 rounded-full transition duration-150",title:"Set as default",children:c.jsx(cm,{className:"h-5 w-5"})})]})]})})},V.id))}):c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[c.jsx(cm,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),c.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-1",children:"No addresses saved yet"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first shipping or billing address"}),c.jsxs("button",{onClick:S,className:"inline-flex items-center text-sm bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition duration-150",children:[c.jsx(lm,{className:"h-4 w-4 mr-2"}),"Add New Address"]})]})})]}):c.jsx("div",{className:"w-full max-w-4xl mx-auto",children:c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsx("p",{className:"text-yellow-800",children:"Please log in to manage your addresses."})})})},PL=()=>{const{currentUser:n}=Vd(),[e,t]=D.useState([]),[s,a]=D.useState(!0),[l,u]=D.useState(null),[h,m]=D.useState(!1),[p,y]=D.useState(null),[v,b]=D.useState(""),[N,j]=D.useState({}),[T,R]=D.useState(""),[M,k]=D.useState(""),[q,L]=D.useState(""),[H,Q]=D.useState(""),[O,S]=D.useState(!1),A=n?.uid,B=()=>Date.now().toString()+Math.random().toString(36).substr(2,9),V=async()=>{try{if(a(!0),u(null),!A){console.warn("No userId provided to fetchPaymentMethods"),t([]);return}const se=Je(Ge,"users",A),fe=await vt(se);if(fe.exists()){const Fe=(fe.data().paymentMethods||[]).sort((tt,dt)=>{const un=tt.createdAt?.toDate?.()||new Date(tt.createdAt)||new Date(0);return(dt.createdAt?.toDate?.()||new Date(dt.createdAt)||new Date(0))-un});t(Fe)}else t([])}catch(se){console.error("Error fetching payment methods:",se),u("Failed to load payment methods. Please try again.")}finally{a(!1)}};D.useEffect(()=>{A?V():(a(!1),console.warn("Payment: No authenticated user found"))},[A]);const U=async se=>{try{if(!A)throw new Error("User authentication required");const fe={...se,id:B(),createdAt:new Date,updatedAt:new Date},De=Je(Ge,"users",A),Oe=await vt(De);let Fe={};Oe.exists()&&(Fe=Oe.data());let tt=Fe.paymentMethods||[];(se.isDefault||tt.length===0)&&(fe.isDefault=!0,tt=tt.map(un=>({...un,isDefault:!1,updatedAt:new Date})));const dt=[...tt,fe];return await ga(De,{...Fe,paymentMethods:dt,updatedAt:new Date},{merge:!0}),await V(),fe.id}catch(fe){throw console.error("Error creating payment method:",fe),u("Failed to create payment method. Please try again."),fe}},P=async(se,fe)=>{try{if(!se||!A)throw new Error("Payment ID and user authentication required");const De=Je(Ge,"users",A),Oe=await vt(De);if(!Oe.exists())throw new Error("User document not found");let tt=Oe.data().paymentMethods||[];fe.isDefault&&(tt=tt.map(dt=>({...dt,isDefault:dt.id===se,updatedAt:new Date}))),tt=tt.map(dt=>dt.id===se?{...dt,...fe,id:se,updatedAt:new Date}:dt),await Kt(De,{paymentMethods:tt,updatedAt:new Date}),await V()}catch(De){throw console.error("Error updating payment method:",De),u("Failed to update payment method. Please try again."),De}},we=async se=>{try{if(!se||!A)throw new Error("Payment ID and user authentication required");const fe=Je(Ge,"users",A),De=await vt(fe);if(!De.exists())throw new Error("User document not found");const Fe=De.data().paymentMethods||[],tt=Fe.find(un=>un.id===se),dt=Fe.filter(un=>un.id!==se);tt?.isDefault&&dt.length>0&&(dt[0].isDefault=!0,dt[0].updatedAt=new Date),await Kt(fe,{paymentMethods:dt,updatedAt:new Date}),await V()}catch(fe){throw console.error("Error deleting payment method:",fe),u("Failed to delete payment method. Please try again."),fe}},xe=async se=>{try{if(!se||!A)throw new Error("Payment ID and user authentication required");const fe=Je(Ge,"payment_methods",A),De=await vt(fe);if(!De.exists())throw new Error("User document not found");const Fe=(De.data().paymentMethods||[]).map(tt=>({...tt,isDefault:tt.id===se,updatedAt:new Date}));await Kt(fe,{paymentMethods:Fe,updatedAt:new Date}),await V()}catch(fe){console.error("Error setting default payment method:",fe),u("Failed to set default payment method. Please try again.")}},K=se=>{const fe=se.charAt(0);return fe==="4"?"visa":fe==="5"?"mastercard":fe==="3"?"amex":fe==="6"?"discover":""},re=se=>{const fe=se.target.value.replace(/\D/g,""),De=K(fe);if(b(De),se.target.value){let Oe="";for(let Fe=0;Fe<fe.length;Fe++)Fe>0&&Fe%4===0&&(Oe+=" "),Oe+=fe[Fe];R(Oe.slice(0,19))}},he=se=>{const fe=se.target.value.replace(/\D/g,"");fe&&(fe.length<=2?L(fe):L(fe.slice(0,2)+"/"+fe.slice(2,4)))},me=se=>{const fe=se.target.value.replace(/\D/g,"");Q(fe.slice(0,4))},z=()=>{const se={};if((!T||T.replace(/\s/g,"").length<16)&&(se.cardNumber="Please enter a valid card number"),M||(se.nameOnCard="Please enter the name on card"),!q||!/^\d{2}\/\d{2}$/.test(q))se.expiryDate="Please enter a valid expiry date (MM/YY)";else{const[fe,De]=q.split("/");new Date(2e3+parseInt(De),parseInt(fe)-1)<new Date&&(se.expiryDate="This card has expired")}return(!H||H.length<3)&&(se.cvv="Please enter a valid CVV"),j(se),Object.keys(se).length===0},$=()=>{y(null),m(!0),j({}),u(null),b(""),R(""),k(""),L(""),Q(""),S(!1)},ne=se=>{y(se),m(!0),j({}),u(null);const fe=e.find(De=>De.id===se);b(fe.type),R(""),k(fe.nameOnCard),L(fe.expiryDate),Q(""),S(fe.isDefault)},ae=async se=>{if(window.confirm("Are you sure you want to delete this payment method?"))try{await we(se)}catch{}},ge=async se=>{try{await xe(se)}catch{}},Ne=async()=>{if(z())try{u(null);const se={type:v||"credit-card",cardNumber:"   "+T.replace(/\s/g,"").slice(-4),nameOnCard:M,expiryDate:q,isDefault:O};p?await P(p,se):await U(se),m(!1),y(null)}catch(se){console.error("Error saving payment method:",se)}},be=()=>{m(!1),y(null),j({}),u(null),b(""),R(""),k(""),L(""),Q(""),S(!1)},de=se=>{switch(se){case"visa":return c.jsx(ra,{className:"text-blue-600"});case"mastercard":return c.jsx(ra,{className:"text-red-600"});case"amex":return c.jsx(ra,{className:"text-green-600"});case"discover":return c.jsx(ra,{className:"text-yellow-600"});default:return c.jsx(ra,{})}};return n?s?c.jsx("div",{className:"max-w-xl mx-auto p-4 flex justify-center items-center py-8",children:c.jsx("div",{className:"text-gray-600",children:"Loading payment methods..."})}):c.jsxs("div",{className:"max-w-xl mx-auto p-4",children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Payment Methods"}),l&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[c.jsx("p",{className:"text-red-800",children:l}),c.jsx("button",{onClick:()=>u(null),className:"text-red-600 text-sm underline mt-1",children:"Dismiss"})]}),c.jsx("div",{className:"space-y-4",children:e.length>0?e.map(se=>c.jsxs("div",{className:`flex items-center justify-between p-4 border rounded ${se.isDefault?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[de(se.type),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:se.cardNumber}),c.jsxs("div",{className:"text-xs text-gray-500",children:[se.nameOnCard,"  Expires ",se.expiryDate]}),se.isDefault&&c.jsxs("span",{className:"inline-flex items-center text-xs text-blue-600 font-semibold",children:[c.jsx(_S,{className:"w-4 h-4 mr-1"})," Default"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[!se.isDefault&&c.jsx("button",{className:"text-blue-600 hover:underline text-xs",onClick:()=>ge(se.id),title:"Set as default",children:"Set Default"}),c.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",onClick:()=>ne(se.id),title:"Edit",children:c.jsx(bS,{className:"w-4 h-4"})}),c.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",onClick:()=>ae(se.id),title:"Delete",children:c.jsx(Ud,{className:"w-4 h-4 text-red-500"})})]})]},se.id)):c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[c.jsx(ra,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),c.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-1",children:"No payment methods saved yet"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first payment method to make checkout easier"}),c.jsxs("button",{onClick:$,className:"inline-flex items-center text-sm bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-150",children:[c.jsx(lm,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})]})}),e.length>0&&c.jsxs("button",{className:"mt-6 flex items-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:$,children:[c.jsx(lm,{className:"w-5 h-5 mr-2"})," Add New Payment Method"]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black/[0.5] bg-opacity-30 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative",children:[c.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:be,title:"Close",children:c.jsx(z9,{className:"w-5 h-5"})}),c.jsx("h3",{className:"text-lg font-semibold mb-4",children:p?"Edit Payment Method":"Add Payment Method"}),c.jsxs("form",{onSubmit:se=>{se.preventDefault(),Ne()},className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Card Number"}),c.jsxs("div",{className:"flex items-center border rounded px-2",children:[de(v),c.jsx("input",{type:"text",className:"flex-1 p-2 outline-none",placeholder:"1234 5678 9012 3456",value:T,onChange:re,maxLength:19})]}),N.cardNumber&&c.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[c.jsx(ca,{className:"w-4 h-4 mr-1"})," ",N.cardNumber]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name on Card"}),c.jsx("input",{type:"text",className:"w-full border rounded p-2",placeholder:"Full Name",value:M,onChange:se=>k(se.target.value)}),N.nameOnCard&&c.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[c.jsx(ca,{className:"w-4 h-4 mr-1"})," ",N.nameOnCard]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Expiry Date"}),c.jsx("input",{type:"text",className:"w-full border rounded p-2",placeholder:"MM/YY",value:q,onChange:he,maxLength:5}),N.expiryDate&&c.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[c.jsx(ca,{className:"w-4 h-4 mr-1"})," ",N.expiryDate]})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"CVV"}),c.jsx("input",{type:"password",className:"w-full border rounded p-2",placeholder:"CVV",value:H,onChange:me,maxLength:4}),N.cvv&&c.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[c.jsx(ca,{className:"w-4 h-4 mr-1"})," ",N.cvv]})]})]}),c.jsxs("div",{className:"flex items-center mt-2",children:[c.jsx("input",{type:"checkbox",id:"setAsDefault",checked:O,onChange:se=>S(se.target.checked),className:"mr-2"}),c.jsx("label",{htmlFor:"setAsDefault",className:"text-sm",children:"Set as default payment method"})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[c.jsx("button",{type:"button",className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-100",onClick:be,children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:p?"Save Changes":"Add Card"})]})]}),c.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-4",children:[c.jsx(s9,{className:"w-4 h-4 mr-1"})," Your payment information is securely encrypted."]})]})})]}):c.jsx("div",{className:"max-w-xl mx-auto p-4",children:c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:c.jsx("p",{className:"text-yellow-800",children:"Please log in to manage your payment methods."})})})},OL=()=>{const[n,e]=D.useState(null),[t,s]=D.useState("all"),[a,l]=D.useState(""),u=[{id:"12345",date:"May 5, 2025",status:"Delivered",total:"$129.99",items:[{id:1,name:"Wireless Headphones",price:"$89.99",quantity:1,image:"/api/placeholder/60/60"},{id:2,name:"USB-C Cable",price:"$19.99",quantity:2,image:"/api/placeholder/60/60"}],deliveryAddress:"123 Main St, Anytown, ST 12345",trackingNumber:"TRK123456789",estimatedDelivery:"Delivered on May 10, 2025"},{id:"12344",date:"April 28, 2025",status:"Shipped",total:"$45.50",items:[{id:3,name:"Graphic T-Shirt",price:"$24.99",quantity:1,image:"/api/placeholder/60/60"},{id:4,name:"Phone Case",price:"$19.99",quantity:1,image:"/api/placeholder/60/60"}],deliveryAddress:"123 Main St, Anytown, ST 12345",trackingNumber:"TRK987654321",estimatedDelivery:"Expected by May 22, 2025"},{id:"12343",date:"April 15, 2025",status:"Processing",total:"$199.99",items:[{id:5,name:"Smart Watch",price:"$199.99",quantity:1,image:"/api/placeholder/60/60"}],deliveryAddress:"123 Main St, Anytown, ST 12345",trackingNumber:"Pending",estimatedDelivery:"Processing - Not shipped yet"}],h=v=>{switch(v){case"Delivered":return c.jsx(fd,{className:"w-4 h-4 text-green-500"});case"Shipped":return c.jsx(Mx,{className:"w-4 h-4 text-blue-500"});case"Processing":return c.jsx(Gl,{className:"w-4 h-4 text-yellow-500"});default:return c.jsx($l,{className:"w-4 h-4 text-gray-500"})}},m=v=>{switch(v){case"Delivered":return"bg-green-100 text-green-800";case"Shipped":return"bg-blue-100 text-blue-800";case"Processing":return"bg-yellow-100 text-yellow-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=v=>{e(n===v?null:v)},y=u.filter(v=>!(t!=="all"&&v.status.toLowerCase()!==t||a&&!v.id.includes(a)&&!v.items.some(b=>b.name.toLowerCase().includes(a.toLowerCase()))));return c.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Orders"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{className:"bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center",children:[c.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Last 30 days"]}),c.jsxs("button",{className:"bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center",children:[c.jsx(Km,{className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),c.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[c.jsx("div",{className:"px-4 py-5 border-b border-gray-200",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(md,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search orders by number or product name",value:a,onChange:v=>l(v.target.value)})]})}),c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"flex",children:[c.jsx("button",{onClick:()=>s("all"),className:`px-4 py-4 text-sm font-medium ${t==="all"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"All Orders"}),c.jsx("button",{onClick:()=>s("processing"),className:`px-4 py-4 text-sm font-medium ${t==="processing"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Processing"}),c.jsx("button",{onClick:()=>s("shipped"),className:`px-4 py-4 text-sm font-medium ${t==="shipped"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Shipped"}),c.jsx("button",{onClick:()=>s("delivered"),className:`px-4 py-4 text-sm font-medium ${t==="delivered"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Delivered"})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:y.length>0?y.map(v=>c.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[c.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>p(v.id),children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 bg-gray-100 rounded-full p-2",children:h(v.status)}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Order #",v.id]}),c.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(v.status)}`,children:v.status})]}),c.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Placed on ",v.date,"  ",v.items.length," item(s)"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Total: ",v.total]})}),c.jsx("div",{children:n===v.id?c.jsx(kx,{className:"h-5 w-5 text-gray-400"}):c.jsx(Ym,{className:"h-5 w-5 text-gray-400"})})]})]}),n===v.id&&c.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Shipping Address"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.deliveryAddress})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Delivery Information"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:v.status==="Processing"?"Your order is being prepared for shipping":c.jsxs(c.Fragment,{children:["Tracking: ",v.trackingNumber,c.jsx("br",{}),v.estimatedDelivery]})})]})]}),c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Items"}),c.jsx("div",{className:"space-y-3",children:v.items.map(b=>c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("img",{src:b.image,alt:b.name,className:"h-16 w-16 rounded object-cover"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h5",{className:"text-sm font-medium text-gray-900",children:b.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",b.quantity]})]}),c.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.price})]},b.id))}),c.jsxs("div",{className:"mt-4 flex justify-between",children:[c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Track Order"}),c.jsxs("div",{className:"space-x-2",children:[c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Request Return"}),c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Get Help"})]})]})]})]},v.id)):c.jsxs("div",{className:"px-4 py-12 text-center",children:[c.jsx($l,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No orders found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"We couldn't find any orders matching your criteria."}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:()=>{s("all"),l("")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View all orders"})})]})})]})]})},ML=()=>{const[n,e]=D.useState(null),[t,s]=D.useState("all"),[a,l]=D.useState(""),u=[{id:"RTN12345",orderId:"12345",originalOrderDate:"May 5, 2025",returnDate:"May 15, 2025",status:"Completed",refundAmount:"$89.99",refundMethod:"Original Payment Method (Credit Card)",refundDate:"May 20, 2025",items:[{id:1,name:"Wireless Headphones",price:"$89.99",reason:"Defective/Doesn't work",image:"/api/placeholder/60/60",returnType:"Refund"}],returnLabel:"Label #RTL987654321",trackingNumber:"TRK876543210",returnMethod:"Drop-off at Carrier Location",notes:"Package received in good condition. Refund processed."},{id:"RTN12346",orderId:"12344",originalOrderDate:"April 28, 2025",returnDate:"May 10, 2025",status:"In Transit",refundAmount:"$24.99",refundMethod:"Original Payment Method (Credit Card)",refundDate:"Pending",items:[{id:3,name:"Graphic T-Shirt",price:"$24.99",reason:"Ordered wrong size",image:"/api/placeholder/60/60",returnType:"Exchange"}],returnLabel:"Label #RTL123456789",trackingNumber:"TRK123987456",returnMethod:"Mail-in Return",notes:"Return package in transit. Expected arrival: May 22, 2025."},{id:"RTN12347",orderId:"12343",originalOrderDate:"April 15, 2025",returnDate:"May 8, 2025",status:"Processing",refundAmount:"$199.99",refundMethod:"Store Credit",refundDate:"Pending Review",items:[{id:5,name:"Smart Watch",price:"$199.99",reason:"Changed mind",image:"/api/placeholder/60/60",returnType:"Refund"}],returnLabel:"Label #RTL456789123",trackingNumber:"TRK456123789",returnMethod:"Mail-in Return",notes:"Return received. Item under inspection."}],h=v=>{switch(v){case"Completed":return c.jsx(fd,{className:"w-4 h-4 text-green-500"});case"In Transit":return c.jsx(T2,{className:"w-4 h-4 text-blue-500"});case"Processing":return c.jsx(Gl,{className:"w-4 h-4 text-yellow-500"});case"Rejected":return c.jsx(ca,{className:"w-4 h-4 text-red-500"});default:return c.jsx($l,{className:"w-4 h-4 text-gray-500"})}},m=v=>{switch(v){case"Completed":return"bg-green-100 text-green-800";case"In Transit":return"bg-blue-100 text-blue-800";case"Processing":return"bg-yellow-100 text-yellow-800";case"Rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=v=>{e(n===v?null:v)},y=u.filter(v=>!(t!=="all"&&v.status.toLowerCase()!==t.toLowerCase()||a&&!v.id.includes(a.toUpperCase())&&!v.orderId.includes(a)&&!v.items.some(b=>b.name.toLowerCase().includes(a.toLowerCase()))));return c.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Returns"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{className:"bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center",children:[c.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Last 30 days"]}),c.jsxs("button",{className:"bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center",children:[c.jsx(Km,{className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),c.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[c.jsx("div",{className:"px-4 py-5 border-b border-gray-200",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(md,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search returns by ID, order number or product name",value:a,onChange:v=>l(v.target.value)})]})}),c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"flex",children:[c.jsx("button",{onClick:()=>s("all"),className:`px-4 py-4 text-sm font-medium ${t==="all"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"All Returns"}),c.jsx("button",{onClick:()=>s("processing"),className:`px-4 py-4 text-sm font-medium ${t==="processing"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Processing"}),c.jsx("button",{onClick:()=>s("in transit"),className:`px-4 py-4 text-sm font-medium ${t==="in transit"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"In Transit"}),c.jsx("button",{onClick:()=>s("completed"),className:`px-4 py-4 text-sm font-medium ${t==="completed"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Completed"})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:y.length>0?y.map(v=>c.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[c.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>p(v.id),children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 bg-gray-100 rounded-full p-2",children:h(v.status)}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Return ",v.id]}),c.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(v.status)}`,children:v.status})]}),c.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["For Order #",v.orderId,"  Initiated on ",v.returnDate]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Refund: ",v.refundAmount]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[v.items.length," item(s)"]})]}),c.jsx("div",{children:n===v.id?c.jsx(kx,{className:"h-5 w-5 text-gray-400"}):c.jsx(Ym,{className:"h-5 w-5 text-gray-400"})})]})]}),n===v.id&&c.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Return Information"}),c.jsxs("div",{className:"mt-1 text-sm text-gray-900",children:[c.jsxs("p",{children:["Return Label: ",v.returnLabel]}),c.jsxs("p",{children:["Tracking: ",v.trackingNumber]}),c.jsxs("p",{children:["Return Method: ",v.returnMethod]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Refund Information"}),c.jsxs("div",{className:"mt-1 text-sm text-gray-900",children:[c.jsxs("p",{children:["Amount: ",v.refundAmount]}),c.jsxs("p",{children:["Method: ",v.refundMethod]}),c.jsxs("p",{children:["Status: ",v.refundDate]})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status Notes"}),c.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded",children:v.notes})]}),c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Items Returned"}),c.jsx("div",{className:"space-y-3",children:v.items.map(b=>c.jsxs("div",{className:"flex items-center space-x-4 bg-gray-50 p-3 rounded",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("img",{src:b.image,alt:b.name,className:"h-16 w-16 rounded object-cover"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h5",{className:"text-sm font-medium text-gray-900",children:b.name}),c.jsx("p",{className:"text-sm text-gray-500",children:b.price}),c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:b.returnType})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Reason:"}),c.jsx("div",{className:"text-sm font-medium text-gray-700",children:b.reason})]})]},b.id))}),c.jsxs("div",{className:"mt-4 flex justify-between",children:[v.status==="In Transit"&&c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Track Package"}),v.status==="Processing"&&c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Check Status"}),v.status==="Completed"&&c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View Receipt"}),c.jsxs("div",{className:"space-x-2",children:[c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Contact Support"}),c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View Original Order"})]})]})]})]},v.id)):c.jsxs("div",{className:"px-4 py-12 text-center",children:[c.jsx(T2,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No returns found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"We couldn't find any returns matching your criteria."}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:()=>{s("all"),l("")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View all returns"})})]})})]}),c.jsx("div",{className:"mt-8 bg-white shadow rounded-lg p-6",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(vi,{className:"h-6 w-6 text-indigo-500"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Need to start a new return?"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"To initiate a new return, please go to your orders page and select the order you want to return items from."}),c.jsx("div",{className:"mt-3",children:c.jsxs(Ze,{to:"/account/orders",children:["    ",c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go to My Orders"})]})})]})]})})]})},VL=()=>{const[n,e]=D.useState(null),[t,s]=D.useState("all"),[a,l]=D.useState(""),[u,h]=D.useState(!0),m=[{id:"CNL12345",orderId:"12345",orderDate:"May 5, 2025",cancellationDate:"May 6, 2025",status:"Refunded",refundAmount:"$129.99",refundMethod:"Original Payment Method (Credit Card)",refundDate:"May 8, 2025",cancellationReason:"Found better price elsewhere",items:[{id:1,name:"Wireless Headphones",price:"$89.99",quantity:1,image:"/api/placeholder/60/60"},{id:2,name:"USB-C Cable",price:"$19.99",quantity:2,image:"/api/placeholder/60/60"}],notes:"Cancellation processed and refund completed."},{id:"CNL12346",orderId:"12344",orderDate:"April 28, 2025",cancellationDate:"April 28, 2025",status:"Partial Refund",refundAmount:"$89.99",refundMethod:"Store Credit",refundDate:"April 30, 2025",cancellationReason:"Ordered wrong item",items:[{id:3,name:"Graphic T-Shirt",price:"$24.99",quantity:1,image:"/api/placeholder/60/60",status:"Canceled"},{id:4,name:"Phone Case",price:"$19.99",quantity:1,image:"/api/placeholder/60/60",status:"Shipped"}],notes:"One item was already shipped and cannot be canceled. Partial refund issued for canceled item."},{id:"CNL12347",orderId:"12343",orderDate:"April 15, 2025",cancellationDate:"April 15, 2025",status:"Processing",refundAmount:"$199.99",refundMethod:"Original Payment Method (Credit Card)",refundDate:"Pending",cancellationReason:"Changed mind",items:[{id:5,name:"Smart Watch",price:"$199.99",quantity:1,image:"/api/placeholder/60/60"}],notes:"Cancellation request received. Refund processing."}],p=N=>{switch(N){case"Refunded":return c.jsx(ac,{className:"w-4 h-4 text-green-500"});case"Partial Refund":return c.jsx(ca,{className:"w-4 h-4 text-yellow-500"});case"Processing":return c.jsx(Gl,{className:"w-4 h-4 text-blue-500"});case"Denied":return c.jsx(Bu,{className:"w-4 h-4 text-red-500"});default:return c.jsx(Bu,{className:"w-4 h-4 text-gray-500"})}},y=N=>{switch(N){case"Refunded":return"bg-green-100 text-green-800";case"Partial Refund":return"bg-yellow-100 text-yellow-800";case"Processing":return"bg-blue-100 text-blue-800";case"Denied":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=N=>{e(n===N?null:N)},b=m.filter(N=>!(t!=="all"&&N.status.toLowerCase()!==t.toLowerCase()||a&&!N.id.includes(a.toUpperCase())&&!N.orderId.includes(a)&&!N.items.some(j=>j.name.toLowerCase().includes(a.toLowerCase()))));return c.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Cancellations"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs("button",{className:"bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center",children:[c.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Last 30 days"]}),c.jsxs("button",{className:"bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center",children:[c.jsx(Km,{className:"w-4 h-4 mr-2"}),"Filter"]})]})]}),u?c.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[c.jsx("div",{className:"px-4 py-5 border-b border-gray-200",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(md,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search cancellations by ID, order number or product name",value:a,onChange:N=>l(N.target.value)})]})}),c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"flex",children:[c.jsx("button",{onClick:()=>s("all"),className:`px-4 py-4 text-sm font-medium ${t==="all"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"All Cancellations"}),c.jsx("button",{onClick:()=>s("processing"),className:`px-4 py-4 text-sm font-medium ${t==="processing"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Processing"}),c.jsx("button",{onClick:()=>s("refunded"),className:`px-4 py-4 text-sm font-medium ${t==="refunded"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Refunded"}),c.jsx("button",{onClick:()=>s("partial refund"),className:`px-4 py-4 text-sm font-medium ${t==="partial refund"?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700"}`,children:"Partial Refunds"})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:b.length>0?b.map(N=>c.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[c.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>v(N.id),children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-shrink-0 bg-gray-100 rounded-full p-2",children:p(N.status)}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Cancellation ",N.id]}),c.jsx("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(N.status)}`,children:N.status})]}),c.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Order #",N.orderId,"  Canceled on ",N.cancellationDate]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Refund: ",N.refundAmount]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[N.items.length," item(s)"]})]}),c.jsx("div",{children:n===N.id?c.jsx(kx,{className:"h-5 w-5 text-gray-400"}):c.jsx(Ym,{className:"h-5 w-5 text-gray-400"})})]})]}),n===N.id&&c.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Order Information"}),c.jsxs("div",{className:"mt-1 text-sm text-gray-900",children:[c.jsxs("p",{children:["Order Number: #",N.orderId]}),c.jsxs("p",{children:["Order Date: ",N.orderDate]}),c.jsxs("p",{children:["Cancellation Date: ",N.cancellationDate]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Refund Information"}),c.jsxs("div",{className:"mt-1 text-sm text-gray-900",children:[c.jsxs("p",{children:["Amount: ",N.refundAmount]}),c.jsxs("p",{children:["Method: ",N.refundMethod]}),c.jsxs("p",{children:["Refund Status: ",N.refundDate]})]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Cancellation Reason"}),c.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded",children:N.cancellationReason})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:"Status Notes"}),c.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded",children:N.notes})]}),c.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Canceled Items"}),c.jsx("div",{className:"space-y-3",children:N.items.map(j=>c.jsxs("div",{className:"flex items-center space-x-4 bg-gray-50 p-3 rounded",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("img",{src:j.image,alt:j.name,className:"h-16 w-16 rounded object-cover"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h5",{className:"text-sm font-medium text-gray-900",children:j.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[j.price,"  ",j.quantity]}),j.status&&c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.status==="Canceled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:j.status})})]}),c.jsx("div",{children:c.jsx("div",{className:"text-sm font-medium text-gray-700",children:j.quantity>1?`Subtotal: $${(parseFloat(j.price.replace("$",""))*j.quantity).toFixed(2)}`:""})})]},j.id))}),c.jsxs("div",{className:"mt-4 flex justify-between",children:[N.status==="Processing"&&c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Check Status"}),(N.status==="Refunded"||N.status==="Partial Refund")&&c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View Receipt"}),c.jsxs("div",{className:"space-x-2",children:[c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Contact Support"}),c.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View Original Order"})]})]})]})]},N.id)):c.jsxs("div",{className:"px-4 py-12 text-center",children:[c.jsx(Bu,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"No cancellations found"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"We couldn't find any cancellations matching your criteria."}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:()=>{s("all"),l("")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"View all cancellations"})})]})})]}):c.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:c.jsxs("div",{className:"px-4 py-16 text-center",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"rounded-full bg-gray-100 p-6",children:c.jsx(Bu,{className:"h-16 w-16 text-gray-400"})})}),c.jsx("h3",{className:"mt-4 text-xl font-medium text-gray-900",children:"No Canceled Orders"}),c.jsx("p",{className:"mt-2 text-base text-gray-500 max-w-md mx-auto",children:"You haven't canceled any orders yet. If you need to cancel an order, please visit your orders page."}),c.jsx("div",{className:"mt-8",children:c.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[c.jsx(oc,{className:"mr-2 h-5 w-5"}),"View My Orders"]})}),c.jsx("div",{className:"mt-4",children:c.jsx("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"Need help? Contact customer support"})})]})}),c.jsxs("div",{className:"mt-8 bg-gray-50 border border-gray-200 rounded-lg p-6",children:[c.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"About Order Cancellations"}),c.jsxs("div",{className:"space-y-4 text-sm text-gray-600",children:[c.jsx("p",{children:"You can request to cancel an order within 1 hour of placing it. After that time, cancellation may not be possible if your order has entered the processing or shipping stage."}),c.jsxs("p",{children:["If your order has already shipped, you may need to initiate a return once you receive the items. Please check our ",c.jsx("a",{href:"#",className:"text-indigo-600 hover:text-indigo-800",children:"return policy"})," for more information."]})]})]})]})};function LL(){const[n,e]=D.useState([{id:1,name:"Gucci duffle bag",price:1560,oldPrice:1850,image:tv,sale:!0},{id:2,name:"RGB liquid CPU Cooler",price:1650,image:nv},{id:3,name:"GP11 Shooter USB Gamepad",price:1550,image:wA},{id:4,name:"Quilted Satin Jacket",price:750,image:NA}]),t=[{id:5,name:"ASUS FHD Gaming Laptop",price:1560,oldPrice:1860,image:AA,rating:5,reviews:49,sale:!0},{id:6,name:"IPS LCD Gaming Monitor",price:1850,image:SA,rating:4,reviews:35},{id:7,name:"HAVIT HV-G92 Gamepad",price:1550,image:rv,rating:4,reviews:61,hot:!0},{id:8,name:"AK-900 Wired Keyboard",price:200,image:sv,rating:5,reviews:46}],s=u=>{e(n.filter(h=>h.id!==u))},a=(u,h)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex",children:[...Array(5)].map((m,p)=>c.jsx(Qm,{size:14,className:p<u?"text-yellow-400 fill-yellow-400":"text-gray-300"},p))}),c.jsxs("span",{className:"text-gray-500 text-xs ml-1",children:["(",h,")"]})]}),l=(u,h)=>c.jsxs("div",{className:"relative bg-white rounded shadow group",children:[u.sale&&c.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded",children:"SALE"}),u.hot&&c.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"HOT"}),c.jsx("button",{className:"absolute top-2 right-2 bg-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Aa,{size:16})}),h==="wishlist"?c.jsx("button",{onClick:()=>s(u.id),className:"absolute top-2 right-2 bg-white p-1 rounded-full",children:c.jsx(Ud,{size:16})}):c.jsx("button",{className:"absolute top-2 right-2 bg-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Aa,{size:16})}),c.jsx("div",{className:"p-4 flex justify-center",children:c.jsx("img",{src:u.image,alt:u.name,className:"h-24 w-auto object-contain"})}),c.jsxs("div",{className:"bg-black text-white p-2 flex justify-center items-center gap-2 cursor-pointer",children:[c.jsx(oc,{size:16}),c.jsx("span",{className:"text-sm",children:"Add To Cart"})]}),c.jsxs("div",{className:"p-3",children:[c.jsx("h3",{className:"text-sm font-medium mb-1",children:u.name}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-red-500 font-semibold",children:["$",u.price]}),u.oldPrice&&c.jsxs("span",{className:"text-gray-500 line-through text-xs",children:["$",u.oldPrice]})]}),u.rating&&a(u.rating,u.reviews)]})]},u.id);return c.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h2",{className:"text-xl font-semibold",children:["Wishlist (",n.length,")"]}),c.jsx("button",{className:"border border-gray-300 px-4 py-1 text-sm hover:bg-gray-50",children:"Move All To Bag"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:n.map(u=>l(u,"wishlist"))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-6 h-6 bg-red-500 mr-2"}),c.jsx("h2",{className:"text-xl font-semibold",children:"Just For You"})]}),c.jsx("button",{className:"text-sm hover:underline",children:"See All"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:t.map(u=>l(u,"recommended"))})]})]})}const UL=({isLoading:n})=>{const[e,t]=D.useState(0);return D.useEffect(()=>{if(n){t(0);const s=setTimeout(()=>t(30),50),a=setTimeout(()=>t(70),150),l=setTimeout(()=>t(100),300);return()=>{clearTimeout(s),clearTimeout(a),clearTimeout(l)}}else{t(100);const s=setTimeout(()=>t(0),500);return()=>clearTimeout(s)}},[n]),e===0?null:c.jsx("div",{className:"fixed top-0 left-0 w-full h-1 bg-gray-200 z-50",children:c.jsx("div",{className:"h-full bg-red-500 transition-all duration-300 ease-out",style:{width:`${e}%`}})})},zL=()=>{const[n,e]=D.useState(!1),t=jr();return D.useEffect(()=>{e(!0);const s=setTimeout(()=>e(!1),400);return()=>clearTimeout(s)},[t.pathname]),c.jsxs(c.Fragment,{children:[c.jsx(UL,{isLoading:n}),c.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[c.jsx(BL,{setIsNavigating:e}),c.jsxs("div",{className:"flex-1 bg-white p-4 md:p-6 border border-gray-200 rounded-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("div",{}),c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{children:"Welcome! "}),c.jsx("span",{className:"font-medium text-red-500",children:"Code X"})]})]}),c.jsx("div",{className:`transition-opacity duration-200 ${n?"opacity-50":"opacity-100"}`,children:c.jsx(FL,{})})]})]})})]})},BL=({setIsNavigating:n})=>{jr();const e=()=>{n(!0)};return c.jsxs("nav",{className:"text-sm md:w-64 mb-6 md:mb-0",children:[c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ze,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"Home"}),c.jsx("span",{className:"mx-2 text-gray-400",children:"/"}),c.jsx("span",{className:"text-gray-700",children:"My Account"})]})}),c.jsxs("div",{className:"mb-6 md:mb-8",children:[c.jsx("h2",{className:"font-bold text-gray-800 mb-2",children:"Manage My Account"}),c.jsxs("ul",{className:"space-y-1",children:[c.jsx("li",{children:c.jsx(sa,{to:"/account/profile",onClick:e,className:({isActive:t})=>`block w-full text-left px-2 py-1 rounded-md transition-colors duration-150 ${t?"font-medium text-red-500":"text-gray-600 hover:bg-gray-100"}`,children:"My Profile"})}),c.jsx("li",{children:c.jsx(sa,{to:"/account/address",onClick:e,className:({isActive:t})=>`block w-full text-left px-2 py-1 rounded-md transition-colors duration-150 ${t?"font-medium text-red-500":"text-gray-600 hover:bg-gray-100"}`,children:"Address Book"})}),c.jsx("li",{children:c.jsx(sa,{to:"/account/payment",onClick:e,className:({isActive:t})=>`block w-full text-left px-2 py-1 rounded-md transition-colors duration-150 ${t?"font-medium text-red-500":"text-gray-600 hover:bg-gray-100"}`,children:"My Payment Options"})})]})]}),c.jsxs("div",{className:"mb-6 md:mb-8",children:[c.jsx("h2",{className:"font-bold text-gray-800 mb-2",children:"My Orders"}),c.jsxs("ul",{className:"space-y-1",children:[c.jsx("li",{children:c.jsx(sa,{to:"/account/orders",onClick:e,className:({isActive:t})=>`block w-full text-left px-2 py-1 rounded-md transition-colors duration-150 ${t?"font-medium text-red-500":"text-gray-600 hover:bg-gray-100"}`,children:"My Orders"})}),c.jsx("li",{children:c.jsx(sa,{to:"/account/returns",onClick:e,className:({isActive:t})=>`block w-full text-left px-2 py-1 rounded-md transition-colors duration-150 ${t?"font-medium text-red-500":"text-gray-600 hover:bg-gray-100"}`,children:"My Returns"})}),c.jsx("li",{children:c.jsx(sa,{to:"/account/cancellations",onClick:e,className:({isActive:t})=>`block w-full text-left px-2 py-1 rounded-md transition-colors duration-150 ${t?"font-medium text-red-500":"text-gray-600 hover:bg-gray-100"}`,children:"My Cancellations"})})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-gray-800 mb-2",children:"My Wishlist"}),c.jsx("ul",{className:"space-y-1",children:c.jsx("li",{children:c.jsx(sa,{to:"/account/wishlist",onClick:e,className:({isActive:t})=>`block w-full text-left px-2 py-1 rounded-md transition-colors duration-150 ${t?"font-medium text-red-500":"text-gray-600 hover:bg-gray-100"}`,children:"My Wishlist"})})})]})]})},FL=()=>{const[n,e]=D.useState("Mel"),[t,s]=D.useState("Rimel"),[a,l]=D.useState("melrimel@gmail.com"),[u,h]=D.useState("Kingston, 6258, United State"),[m,p]=D.useState(""),[y,v]=D.useState(""),[b,N]=D.useState(""),j=T=>{T.preventDefault(),console.log("Saving profile changes...")};return c.jsxs(J2,{children:[c.jsx(gt,{path:"/",element:c.jsx(Of,{to:"/account/profile",replace:!0})}),c.jsx(gt,{path:"profile",element:c.jsx(DL,{handleSaveChanges:j,firstName:n,lastName:t,email:a,address:u,setFirstName:e,setLastName:s,setEmail:l,setAddress:h,currentPassword:m,newPassword:y,confirmPassword:b,setCurrentPassword:p,setNewPassword:v,setConfirmPassword:N})}),c.jsx(gt,{path:"address",element:c.jsx(kL,{firstName:n,lastName:t,email:a,address:u})}),c.jsx(gt,{path:"payment",element:c.jsx(PL,{})}),c.jsx(gt,{path:"orders",element:c.jsx(OL,{})}),c.jsx(gt,{path:"returns",element:c.jsx(ML,{})}),c.jsx(gt,{path:"cancellations",element:c.jsx(VL,{})}),c.jsx(gt,{path:"wishlist",element:c.jsx(LL,{})}),c.jsx(gt,{path:"*",element:c.jsx(Of,{to:"/account/profile",replace:!0})})]})},qL="/Exclusive_Eccomerce/assets/BlogImage-C9xf18ZS.png",HL=()=>{const n=[{icon:c.jsx(A9,{}),title:"Sallers active our site",price:"10.5"},{icon:c.jsx(E2,{}),title:"Mopnthly Produduct Sale",price:"33"},{icon:c.jsx(GM,{}),title:"Customer active in our site",price:"45.5"},{icon:c.jsx(E2,{}),title:"Anual gross sale in our site",price:"25"}];return c.jsx(c.Fragment,{children:c.jsxs("div",{children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-10 py-10 px-10 items-center max-w-6xl mx-auto",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl mb-8 font-semibold mx-2",children:"Our Story"}),c.jsx("p",{className:"text-sm text-gray-900 mb-6",children:" Launced in 2015, Exclusive is South Asias premier online shopping makterplace with an active presense in Bangladesh. Supported by wide range of tailored marketing, data and service solutions, Exclusive has 10,500 sallers and 300 brands and serves 3 millioons customers across the region. "}),c.jsx("p",{className:"text-sm text-gray-900 mt-6",children:"Exclusive has more than 1 Million products to offer, growing at a very fast. Exclusive offers a diverse assotment in categories ranging  from consumer."})]}),c.jsx("div",{children:c.jsx("img",{src:qL,alt:""})})]}),c.jsx("div",{className:"flex flex-wrap md:flex-row md:justify-between md: gap-10  py-10 px-10 items-center justify-center max-w-6xl mx-auto",children:n.map((e,t)=>c.jsx("div",{className:" px-2  ",children:c.jsxs("div",{className:"flex flex-col items-center gap-2 p-6 border border-gray-300 rounded shadow-sm hover:bg-red-500 group transition-colors hover:border-0",children:[c.jsx("div",{className:"group-hover:text-black text-white transition-colors bg-black p-3 rounded-full group-hover:bg-white ring-9 ring-black/[0.5] group-hover:ring-white/[0.5] mb-2",children:e.icon}),c.jsxs("div",{className:"text-2xl font-semibold group-hover:text-white transition-colors",children:[e.price,"K"]}),c.jsx("div",{className:"text-sm font-medium group-hover:text-white transition-colors",children:e.title})]})},t))})]})})},GL="/Exclusive_Eccomerce/assets/TomCruis-LpfQjLYO.png",$L="/Exclusive_Eccomerce/assets/WillSmith-46L-_3yL.png",YL="/Exclusive_Eccomerce/assets/EmmaWatson-DXZWVlAK.png",KL=()=>{const[n,e]=D.useState(0),[t,s]=D.useState(3),[a,l]=D.useState(0),u=D.useRef(null),h=D.useRef(null),m=D.useRef(null),p=D.useRef(null),y=[{name:"Tom Cruise",title:"Founder & Chairman",socialLinks:["twitter","instagram","linkedin"],image:GL},{name:"Emma Watson",title:"Managing Director",socialLinks:["twitter","instagram","linkedin"],image:$L},{name:"Will Smith",title:"Product Designer",socialLinks:["twitter","instagram","linkedin"],image:YL},{name:"Jane Doe",title:"Marketing Director",socialLinks:["twitter","instagram","linkedin"],image:"https://img.freepik.com/premium-photo/happy-woman-blazer-transparent-png_53876-996198.jpg?uid=R193842198&ga=GA1.1.1758055807.1746272145&semt=ais_hybrid&w=740"},{name:"John Smith",title:"Lead Developer",socialLinks:["twitter","instagram","linkedin"],image:"https://img.freepik.com/premium-photo/smiling-professional-business-woman-her-business-office-isolated-background-ai-generated_1145931-13628.jpg?uid=R193842198&ga=GA1.1.1758055807.1746272145&semt=ais_hybrid&w=740"}];D.useEffect(()=>{const T=()=>{window.innerWidth>=1024?s(3):window.innerWidth>=640?s(2):s(1)};return T(),l(Math.max(1,y.length-t+1)),window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}},[y.length,t]),D.useEffect(()=>{l(Math.max(1,y.length-t+1)),n>=y.length-t+1&&e(Math.max(0,y.length-t))},[t,y.length,n]),D.useEffect(()=>{m.current=Eo.timeline();const T=()=>{if(u.current){const M=u.current.children;Eo.to(M,{scale:1,opacity:.5,duration:.3,ease:"power2.out"}),M[n]&&Eo.to(M[n],{scale:1.5,opacity:1,duration:.3,ease:"back.out"})}},R=()=>{if(h.current&&p.current){const M=p.current.offsetWidth/t;Eo.to(h.current,{x:-n*M,duration:.5,ease:"power2.inOut"})}};T(),R()},[n,t]);const v=T=>{e(T)},b=()=>{e(T=>Math.min(T+1,a-1))},N=()=>{e(T=>Math.max(T-1,0))},j=({type:T})=>T==="twitter"?c.jsx("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}):T==="instagram"?c.jsx("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})}):T==="linkedin"?c.jsx("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h-.003z"})}):null;return c.jsx("div",{className:"w-full max-w-6xl mx-auto px-4 py-8",children:c.jsxs("div",{className:"relative overflow-hidden",ref:p,children:[c.jsx("div",{ref:h,className:"flex flex-nowrap",style:{width:`${100*y.length/t}%`},children:y.map((T,R)=>c.jsx("div",{className:"px-2",style:{width:`${100/y.length}%`},children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"bg-gray-100 w-full flex items-center justify-center",children:c.jsx("img",{src:T.image,alt:T.name,className:"w-full h-full md:h-72 lg:h-80 object-cover object-center pt-2 "})}),c.jsxs("div",{className:"text-center p-4",children:[c.jsx("h3",{className:"text-lg md:text-xl font-bold",children:T.name}),c.jsx("p",{className:"text-gray-600 text-sm md:text-base",children:T.title}),c.jsx("div",{className:"flex space-x-4 mt-3 justify-center",children:T.socialLinks.map((M,k)=>c.jsx("a",{href:"#",className:"text-gray-500 hover:text-red-500",children:c.jsx(j,{type:M})},k))})]})]})},R))}),c.jsxs("div",{className:"flex justify-between absolute top-1/2 left-0 right-0 transform -translate-y-1/2 px-2",children:[c.jsx("button",{onClick:N,disabled:n===0,className:`z-10 rounded-full bg-white shadow-md p-2 focus:outline-none ${n===0?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,"aria-label":"Previous slide",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),c.jsx("button",{onClick:b,disabled:n>=a-1,className:`z-10 rounded-full bg-white shadow-md p-2 focus:outline-none ${n>=a-1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"}`,"aria-label":"Next slide",children:c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),c.jsx("div",{ref:u,className:"flex justify-center space-x-2 mt-8",children:Array.from({length:a}).map((T,R)=>c.jsx("button",{className:`w-3 h-3 rounded-full ${R===n?"bg-red-500":"bg-gray-300"}`,onClick:()=>v(R),"aria-label":`Go to slide ${R+1}`},R))})]})})},QL=()=>c.jsx(c.Fragment,{children:c.jsx("div",{children:c.jsxs("div",{children:[c.jsx(HL,{}),c.jsx(KL,{}),c.jsx(jA,{})]})})}),WL=()=>c.jsx(c.Fragment,{children:c.jsx("div",{className:"max-w-6xl mx-auto py-6 md:py-8 lg:py-10 px-4",children:c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 md:gap-8 lg:gap-10 items-center justify-center",children:[c.jsxs("div",{className:"py-6 md:py-8 px-4 md:px-6 shadow-md font-[400] w-full max-w-[350px] lg:max-w-[270px] rounded-md bg-white",children:[c.jsxs("div",{className:"flex flex-col gap-2 md:gap-3 text-xs pb-4 border-b border-gray-300",children:[c.jsxs("h1",{className:"font-semibold flex items-center gap-2 text-sm md:text-base",children:[c.jsx(Px,{size:24,className:"text-white bg-red-600 p-1 rounded-full"}),"Call To US"]}),c.jsx("p",{className:"text-xs md:text-sm",children:"We are available 24/7, days a week"}),c.jsx("p",{className:"text-xs md:text-sm",children:"Phone: +234 8061936756"})]}),c.jsxs("div",{className:"flex flex-col gap-2 md:gap-3 mt-4 text-xs md:text-sm",children:[c.jsxs("h1",{className:"flex gap-2 items-center font-semibold text-sm md:text-base",children:[c.jsx(ny,{size:24,className:"text-white bg-red-600 p-1 rounded-full"}),"Write To US"]}),c.jsx("p",{children:"Fill out our form and we will contact you within 24 hours"}),c.jsx("p",{className:"hover:underline cursor-pointer",children:"Email: customer@exclusive.com"}),c.jsx("p",{className:"hover:underline cursor-pointer",children:"Email: support@exclusive.com"})]})]}),c.jsx("div",{className:"w-full max-w-[650px]",children:c.jsxs("form",{action:"",className:"shadow-md rounded-md px-3 md:px-4 py-4 md:py-5",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:gap-4",children:[c.jsx("input",{type:"text",placeholder:"Your Name",className:"bg-gray-50 rounded-sm p-2 w-full mb-3 md:mb-0",required:!0}),c.jsx("input",{type:"email",placeholder:"Your Email",className:"bg-gray-50 rounded-sm p-2 w-full mb-3 md:mb-0",required:!0}),c.jsx("input",{type:"number",placeholder:"Your Phone",className:"bg-gray-50 rounded-sm p-2 w-full",required:!0})]}),c.jsx("textarea",{placeholder:"Your Message",name:"message",id:"message",className:"bg-gray-50 rounded-sm p-2 w-full mt-3 md:mt-4 min-h-[120px] md:min-h-[180px]",required:!0}),c.jsx("div",{className:"flex justify-end mt-3 md:mt-4",children:c.jsx("input",{type:"submit",value:"Send Message",className:"px-4 py-2 bg-red-500 text-white text-xs md:text-sm font-semibold rounded-md cursor-pointer hover:bg-red-600 active:bg-red-700 transition-colors duration-200 shadow-sm"})})]})})]})})});function XL(){const{id:n}=BC(),e=Vo(),[t,s]=D.useState(null),[a,l]=D.useState(!1),[u,h]=D.useState(!1),[m,p]=D.useState(!1),[y,v]=D.useState(null),[b,N]=D.useState(!0),[j,T]=D.useState(""),[R,M]=D.useState([]),[k,q]=D.useState("white"),[L,H]=D.useState("M"),[Q,O]=D.useState(1),[S,A]=D.useState(0),[B,V]=D.useState(null),U=[{name:"white",class:"bg-gray-100 border border-gray-300"},{name:"red",class:"bg-red-500"}],P=["XS","S","M","L","XL"],we=async()=>{if(!t){alert("Please log in to add items to cart");return}if(y.stockQuantity!==0)try{l(!0);const me={productId:y.id,name:y.name,price:y.price,image:he[0]||"/api/placeholder/400/400",quantity:Q,selectedSize:L,selectedColor:k,addedAt:new Date().toISOString()},z=Je(Ge,"users",t.uid);await ga(z,{cart:Bl(me)},{merge:!0}),alert("Product added to cart successfully!")}catch(me){console.error("Error adding to cart:",me),alert("Failed to add product to cart. Please try again.")}finally{l(!1)}},xe=async me=>{const z=Mn.currentUser;if(!z){alert("Please log in to add items to cart");return}try{const $={productId:me.id,name:me.name,price:me.price,image:me.images?.[0]?.data||me.images?.[0]?.url||"/api/placeholder/400/400",quantity:1,selectedSize:"M",selectedColor:"white",addedAt:new Date().toISOString()},ne=Je(Ge,"users",z.uid);await ga(ne,{cart:Bl($)},{merge:!0}),alert("Product added to cart successfully!")}catch($){console.error("Error adding to cart:",$),alert("Failed to add product to cart. Please try again.")}},K=async()=>{if(!t){alert("Please log in to add items to wishlist");return}try{h(!0);const me={productId:y.id,name:y.name,price:y.price,image:he[0]||"/api/placeholder/400/400",addedAt:new Date().toISOString()},z=Je(Ge,"users",t.uid),$=await vt(z);if(!$.exists())await ga(z,{wishlist:[me],createdAt:new Date().toISOString()}),p(!0),alert("Product added to wishlist!");else{const ae=$.data().wishlist||[];if(m){const ge=ae.filter(Ne=>Ne.productId!==y.id);await Kt(z,{wishlist:ge}),p(!1),alert("Product removed from wishlist!")}else await Kt(z,{wishlist:Bl(me)}),p(!0),alert("Product added to wishlist!")}}catch(me){console.error("Error updating wishlist:",me),alert("Failed to update wishlist. Please try again.")}finally{h(!1)}};D.useEffect(()=>{(async()=>{if(n)try{N(!0);const z=await vt(Je(Ge,"products",n));if(!z.exists()){T("Product not found");return}const $={id:z.id,...z.data()};v($);const ne=CT(Mm(Ge,"products"),X3(4)),ae=await _x(ne),ge=[];ae.forEach(Ne=>{Ne.id!==n&&ge.push({id:Ne.id,...Ne.data()})}),M(ge.slice(0,4))}catch(z){console.error("Error fetching product:",z),T("Failed to load product details")}finally{N(!1)}})()},[n]),D.useEffect(()=>{const me=ka(Mn,z=>{s(z)});return()=>me()},[]),D.useEffect(()=>{(async()=>{if(!(!t||!y))try{const z=Je(Ge,"users",t.uid),$=await vt(z);if($.exists()){const ae=$.data().wishlist||[];p(ae.some(ge=>ge.productId===y.id))}}catch(z){console.error("Error checking wishlist status:",z)}})()},[t,y]);const re=me=>{const z=Q+me;z>=1&&z<=(y?.stockQuantity||999)&&O(z)};if(b)return c.jsx("div",{className:"max-w-6xl mx-auto p-4 flex items-center justify-center min-h-screen",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ys,{className:"w-8 h-8 animate-spin text-blue-600"}),c.jsx("span",{className:"text-gray-600",children:"Loading product details..."})]})});if(j||!y)return c.jsx("div",{className:"max-w-6xl mx-auto p-4 flex flex-col items-center justify-center min-h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Product Not Found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:j||"The product you are looking for does not exist."}),c.jsxs("button",{onClick:()=>e("/products"),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(vi,{size:16}),"Back to Products"]})]})});const he=y.images&&y.images.length>0?y.images.map(me=>me.data||me.url):["/api/placeholder/400/400"];return c.jsxs("div",{className:"max-w-6xl mx-auto p-4 font-sans",children:[c.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-6 transition-colors",children:[c.jsx(vi,{size:16}),"Back"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-gray-50 p-8 rounded-lg flex justify-center items-center h-80",children:he[S]?c.jsx("img",{src:he[S],alt:y.name,className:"max-h-full object-contain"}):c.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-gray-400",children:"No Image"})})}),he.length>1&&c.jsx("div",{className:"flex space-x-4 justify-center",children:he.map((me,z)=>c.jsx("div",{className:`p-2 border rounded-lg cursor-pointer transition-all duration-300 ${S===z?"border-blue-500":"border-gray-200"} ${B===z?"scale-110 shadow-md":""}`,onClick:()=>A(z),onMouseEnter:()=>V(z),onMouseLeave:()=>V(null),children:c.jsx("img",{src:me,alt:`Thumbnail ${z+1}`,className:"w-20 h-20 object-contain"})},z))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h1",{className:"text-2xl font-semibold",children:y.name}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((me,z)=>c.jsx(Qm,{size:16,fill:z<4?"currentColor":"none",className:z<4?"text-yellow-400":"text-gray-200"},z))}),c.jsx("span",{className:"text-gray-500 text-sm",children:"(Reviews: 42)"}),c.jsx("span",{className:`text-sm ${y.stockQuantity>0?"text-green-500":"text-red-500"}`,children:y.stockQuantity>0?"In Stock":"Out of Stock"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"text-2xl font-bold",children:["",y.price?.toLocaleString()]}),c.jsxs("div",{className:"text-gray-400 line-through text-xs sm:text-sm",children:["",y.originalPrice?.toLocaleString()]})]}),c.jsx("p",{className:"text-gray-600 text-sm",children:y.description||"No description available for this product."}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Colours:"}),c.jsx("div",{className:"flex space-x-2",children:U.map(me=>c.jsx("button",{onClick:()=>q(me.name),className:`w-6 h-6 rounded-full ${me.class} ${k===me.name?"ring-2 ring-offset-1 ring-blue-500":""}`,"aria-label":`Select ${me.name} color`},me.name))})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size:"}),c.jsx("div",{className:"flex space-x-2",children:P.map(me=>c.jsx("button",{onClick:()=>H(me),className:`w-8 h-8 flex items-center justify-center text-sm border rounded-md ${L===me?"bg-black text-white border-black":"bg-white text-black border-gray-300"}`,children:me},me))})]}),c.jsx("div",{className:"text-sm text-gray-600",children:y.stockQuantity>0&&c.jsxs("span",{children:["Available: ",y.stockQuantity," units"]})}),c.jsxs("div",{className:"flex space-x-4 pt-4",children:[c.jsxs("div",{className:"flex border border-gray-300 rounded-md w-32",children:[c.jsx("button",{onClick:()=>re(-1),className:"w-8 flex items-center justify-center text-gray-600 hover:bg-gray-100",disabled:Q<=1,children:"-"}),c.jsx("div",{className:"flex-1 text-center py-2",children:Q}),c.jsx("button",{onClick:()=>re(1),className:"w-8 flex items-center justify-center text-gray-600 hover:bg-gray-100",disabled:Q>=(y.stockQuantity||999),children:"+"})]}),c.jsx("button",{onClick:we,disabled:y.stockQuantity===0||a,className:`px-6 py-2 rounded-md transition flex items-center gap-2 ${y.stockQuantity>0&&!a?"bg-red-500 text-white hover:bg-red-600":"bg-gray-400 text-gray-200 cursor-not-allowed"}`,children:a?c.jsxs(c.Fragment,{children:[c.jsx(Ys,{size:16,className:"animate-spin"}),"Adding..."]}):c.jsxs(c.Fragment,{children:[c.jsx(oc,{size:16}),y.stockQuantity>0?"Add to Cart":"Out of Stock"]})}),c.jsx("button",{onClick:K,disabled:u,className:`p-2 rounded-md border transition ${m?"border-red-500 bg-red-50 hover:bg-red-100":"border-gray-300 hover:bg-gray-50"} ${u?"cursor-not-allowed opacity-50":""}`,children:u?c.jsx(Ys,{size:20,className:"text-gray-600 animate-spin"}):c.jsx(Nr,{size:20,className:m?"text-red-500 fill-red-500":"text-gray-600"})})]}),c.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-4 mt-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-50 rounded-full",children:c.jsx(Mx,{size:20,className:"text-gray-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-sm",children:"Free Delivery"}),c.jsx("p",{className:"text-gray-500 text-xs",children:"Enter your postal code for delivery availability"})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-50 rounded-full",children:c.jsx(v9,{size:20,className:"text-gray-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-sm",children:"Return Delivery"}),c.jsx("p",{className:"text-gray-500 text-xs",children:"Free 30 days delivery returns. Details"})]})]})]})]})]}),R.length>0&&c.jsxs("div",{className:"mt-16",children:[c.jsx("div",{className:"flex justify-between items-center mb-6",children:c.jsx("h2",{className:"text-xl font-semibold",children:"Related Items"})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:R.map(me=>c.jsx(ZL,{product:me,handleAddToCartRelated:xe},me.id))})]})]})}function ZL({product:n,handleAddToCartRelated:e,handleAddToWishlistRelated:t}){const s=Vo(),[a,l]=D.useState(!1),[u,h]=D.useState(!1),[m,p]=D.useState(!1),[y,v]=D.useState(null);D.useEffect(()=>{const j=ka(Mn,T=>{v(T)});return()=>j()},[]),D.useEffect(()=>{(async()=>{if(!(!y||!n))try{const T=Je(Ge,"users",y.uid),R=await vt(T);if(R.exists()){const k=R.data().wishlist||[];h(k.some(q=>q.productId===n.id))}}catch(T){console.error("Error checking wishlist status:",T)}})()},[y,n]);const b=async j=>{if(j.stopPropagation(),!y){alert("Please log in to add items to wishlist");return}try{p(!0);const T={productId:n.id,name:n.name,price:n.price,image:n.images?.[0]?.data||n.images?.[0]?.url||"/api/placeholder/400/400",addedAt:new Date().toISOString()},R=Je(Ge,"users",y.uid),M=await vt(R);if(!M.exists())await ga(R,{wishlist:[T],createdAt:new Date().toISOString()}),h(!0),alert("Product added to wishlist!");else{const q=M.data().wishlist||[];if(u){const L=q.filter(H=>H.productId!==n.id);await Kt(R,{wishlist:L}),h(!1),alert("Product removed from wishlist!")}else await Kt(R,{wishlist:Bl(T)}),h(!0),alert("Product added to wishlist!")}}catch(T){console.error("Error updating wishlist:",T),alert("Failed to update wishlist. Please try again.")}finally{p(!1)}},N=()=>{s(`/product/${n.id}`)};return c.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden transition-all duration-300 hover:shadow-lg cursor-pointer",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:N,children:[c.jsxs("div",{className:"relative",children:[n.images&&n.images.length>0?c.jsx("img",{src:n.images[0].data||n.images[0].url,alt:n.name,className:`w-full h-48 object-contain bg-gray-50 p-4 transition-transform duration-300 ${a?"scale-105":""}`}):c.jsx("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center",children:c.jsx("span",{className:"text-gray-400",children:"No Image"})}),c.jsxs("div",{className:`absolute top-2 right-2 flex flex-col space-y-2 opacity-0 transition-opacity duration-300 ${a?"opacity-100":""}`,children:[c.jsx("button",{className:`p-2 rounded-full shadow-md transition ${u?"bg-red-50 border border-red-200 hover:bg-red-100":"bg-white hover:bg-gray-100"} ${m?"cursor-not-allowed opacity-50":""}`,onClick:b,disabled:m,children:m?c.jsx(Ys,{size:16,className:"text-gray-600 animate-spin"}):c.jsx(Nr,{size:16,className:u?"text-red-500 fill-red-500":"text-gray-600"})}),c.jsx("button",{className:"p-2 bg-white rounded-full shadow-md hover:bg-gray-100",onClick:j=>{j.stopPropagation(),N()},children:c.jsx(Aa,{size:16,className:"text-gray-600"})})]}),n.price&&c.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded",children:"New"})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"font-medium line-clamp-2",children:n.name}),c.jsx("div",{className:"flex items-center space-x-2 mt-1",children:c.jsxs("span",{className:"font-semibold text-red-500",children:["",n.price?.toLocaleString()]})}),c.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[c.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((j,T)=>c.jsx(Qm,{size:12,fill:T<4?"currentColor":"none",className:T<4?"text-yellow-400":"text-gray-200"},T))}),c.jsx("span",{className:"text-gray-500 text-xs",children:"(42)"})]}),c.jsx("div",{className:`mt-3 transition-all duration-300 ${a?"opacity-100":"opacity-0 h-0"}`,children:c.jsxs("button",{className:"w-full py-2 bg-blue-500 text-white text-sm rounded flex items-center justify-center space-x-1 hover:bg-blue-600 transition",onClick:j=>{j.stopPropagation(),e(n)},children:[c.jsx(oc,{size:14}),c.jsx("span",{children:"Add To Cart"})]})})]})]})}const JL=()=>c.jsx(c.Fragment,{children:c.jsx("div",{children:c.jsxs("div",{className:"flex flex-col justify-center items-center h-screen",children:[c.jsx("h1",{className:"text-7xl font-bold mb-4",children:"404  Not Found"}),c.jsx("p",{className:"mb-4",children:"your visited page not found,You may go to the HomePage"}),c.jsx("button",{className:"px-6 py-2 text-white bg-red-500 rounded-md hover:bg-red-600 mt-8",children:"Back to home page"})]})})}),e8=()=>c.jsx(c.Fragment,{children:c.jsx("div",{children:c.jsx(xL,{})})}),t8=()=>{const[n,e]=D.useState(null),[t,s]=D.useState([]),[a,l]=D.useState(!0),[u,h]=D.useState(!1),[m,p]=D.useState("");D.useEffect(()=>{const M=ka(Mn,k=>{e(k),k||(s([]),l(!1))});return()=>M()},[]),D.useEffect(()=>{(async()=>{if(!n){s([]),l(!1);return}l(!0);try{const k=Je(Ge,"users",n.uid),q=await vt(k);if(q.exists()){const L=q.data();s(L.cart||[])}else s([])}catch(k){console.error("Error fetching cart:",k),p("Failed to load cart. Please try again."),s([])}finally{l(!1)}})()},[n]);const y=async(M,k)=>{if(!(!n||k<1))try{h(!0),p("");const q=Je(Ge,"users",n.uid),L=await vt(q);if(L.exists()){const O=(L.data().cart||[]).map(S=>S.productId===M?{...S,quantity:k}:S);await Kt(q,{cart:O}),s(O)}}catch(q){console.error("Error updating quantity:",q),p("Failed to update quantity. Please try again.")}finally{h(!1)}},v=async M=>{if(n)try{h(!0),p("");const k=Je(Ge,"users",n.uid),q=await vt(k);if(q.exists()){const Q=(q.data().cart||[]).filter(O=>O.productId!==M);await Kt(k,{cart:Q}),s(Q)}}catch(k){console.error("Error removing item:",k),p("Failed to remove item. Please try again.")}finally{h(!1)}},b=async()=>{if(n&&window.confirm("Are you sure you want to clear your cart?"))try{h(!0),p("");const M=Je(Ge,"users",n.uid);await Kt(M,{cart:[]}),s([])}catch(M){console.error("Error clearing cart:",M),p("Failed to clear cart. Please try again.")}finally{h(!1)}},N=t.reduce((M,k)=>M+k.price*k.quantity,0),j=N*.08,T=t.length>0?N>100?0:10:0,R=N+j+T;return a?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Ys,{className:"w-8 h-8 animate-spin text-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading your cart..."})]})}):n?t.length===0&&!a?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-lg mr-4",children:c.jsx(vi,{size:20})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Shopping Cart"})]}),m&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[c.jsx("p",{className:"text-red-600",children:m}),c.jsx("button",{onClick:()=>p(""),className:"mt-2 text-red-700 underline hover:no-underline text-sm",children:"Dismiss"})]}),c.jsxs("div",{className:"text-center py-16",children:[c.jsx(ac,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Your cart is empty"}),c.jsx("p",{className:"text-gray-600 mb-8",children:"Add some products to get started!"}),c.jsx("button",{onClick:()=>window.location.href="/products",className:"bg-red-500 text-white px-8 py-3 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Continue Shopping"})]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-lg mr-4",children:c.jsx(vi,{size:20})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Shopping Cart"})]}),t.length>0&&c.jsx("button",{onClick:b,disabled:u,className:"text-red-500 hover:text-red-700 font-medium text-sm disabled:opacity-50",children:"Clear Cart"})]}),m&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:"text-red-600",children:m}),c.jsx("button",{onClick:()=>p(""),className:"text-red-700 hover:text-red-900 ml-4",children:""})]})}),c.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[c.jsx("div",{className:"p-6 border-b border-gray-100",children:c.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Cart Items (",t.length,")"]})}),c.jsx("div",{className:"divide-y divide-gray-100",children:t.map((M,k)=>c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("img",{src:M.image||"/api/placeholder/120/120",alt:M.name,className:"w-20 h-20 object-cover rounded-lg bg-gray-100"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-medium text-gray-800 mb-1 line-clamp-2",children:M.name}),c.jsxs("div",{className:"text-sm text-gray-500 mb-3",children:[M.selectedSize&&c.jsxs("span",{className:"mr-4",children:["Size: ",M.selectedSize]}),M.selectedColor&&c.jsxs("span",{children:["Color: ",M.selectedColor]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-lg font-semibold text-gray-800",children:["",M.price?.toLocaleString()]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[c.jsx("button",{onClick:()=>y(M.productId,M.quantity-1),disabled:u||M.quantity<=1,className:"p-2 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(d9,{size:16})}),c.jsx("span",{className:"px-4 py-2 min-w-[60px] text-center",children:M.quantity}),c.jsx("button",{onClick:()=>y(M.productId,M.quantity+1),disabled:u,className:"p-2 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(g9,{size:16})})]}),c.jsx("button",{onClick:()=>v(M.productId),disabled:u,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove item",children:c.jsx(Ud,{size:16})})]})]}),c.jsxs("div",{className:"mt-2 text-right",children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Subtotal: "}),c.jsxs("span",{className:"font-medium text-gray-800",children:["",(M.price*M.quantity).toLocaleString()]})]})]})]})},`${M.productId}-${k}`))})]})}),c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-sm sticky top-8",children:[c.jsx("div",{className:"p-6 border-b border-gray-100",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Order Summary"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex justify-between text-gray-600",children:[c.jsxs("span",{children:["Subtotal (",t.length," items)"]}),c.jsxs("span",{children:["",N.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between text-gray-600",children:[c.jsx("span",{children:"Shipping"}),c.jsx("span",{children:T===0?c.jsx("span",{className:"text-green-600 font-medium",children:"Free"}):`${T.toLocaleString()}`})]}),c.jsxs("div",{className:"flex justify-between text-gray-600",children:[c.jsx("span",{children:"Tax"}),c.jsxs("span",{children:["",j.toLocaleString()]})]}),T>0&&N<100&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:["Add ",(100-N).toLocaleString()," more for free shipping!"]})}),c.jsx("hr",{className:"border-gray-200"}),c.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["",R.toLocaleString()]})]}),c.jsx(Ze,{to:"/checkout",children:c.jsx("button",{disabled:u||t.length===0,className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors mt-6",children:u?c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ys,{size:16,className:"animate-spin"}),"Processing..."]}):"Proceed to Checkout"})}),c.jsx("button",{onClick:()=>window.location.href="/products",className:"w-full bg-gray-100 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Continue Shopping"}),c.jsx("div",{className:"text-xs text-gray-500 text-center mt-4",children:" Secure checkout with SSL encryption"})]})]})})]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[c.jsx(ac,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Please Sign In"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to view your cart."}),c.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-red-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Sign In"})]})})},n8=()=>{const[n,e]=D.useState(null),[t,s]=D.useState([]),[a,l]=D.useState([]),[u,h]=D.useState(!0),[m,p]=D.useState(!1),[y,v]=D.useState("");D.useEffect(()=>{const M=ka(Mn,k=>{e(k),k||(s([]),l([]),h(!1))});return()=>M()},[]),D.useEffect(()=>{(async()=>{if(!n){s([]),l([]),h(!1);return}h(!0);try{const k=Je(Ge,"users",n.uid),q=await vt(k);if(q.exists()){const L=q.data();s(L.wishlist||[]),l(L.cart||[])}else s([]),l([])}catch(k){console.error("Error fetching wishlist:",k),v("Failed to load wishlist. Please try again."),s([]),l([])}finally{h(!1)}})()},[n]);const b=async M=>{if(n)try{p(!0),v("");const k=Je(Ge,"users",n.uid),q=await vt(k);if(q.exists()){const Q=(q.data().wishlist||[]).filter(O=>O.productId!==M);await Kt(k,{wishlist:Q}),s(Q)}}catch(k){console.error("Error removing from wishlist:",k),v("Failed to remove item from wishlist. Please try again.")}finally{p(!1)}},N=async M=>{if(n)try{p(!0),v("");const k={productId:M.productId,name:M.name,price:M.price,image:M.image,quantity:1,selectedSize:"M",selectedColor:"default",addedAt:new Date().toISOString()},q=Je(Ge,"users",n.uid),L=await vt(q);if(L.exists()){const Q=L.data().cart||[],O=Q.findIndex(A=>A.productId===M.productId);let S;O>=0?S=Q.map((A,B)=>B===O?{...A,quantity:A.quantity+1}:A):S=[...Q,k],await Kt(q,{cart:S}),l(S),alert("Item added to cart successfully!")}}catch(k){console.error("Error adding to cart:",k),v("Failed to add item to cart. Please try again.")}finally{p(!1)}},j=async()=>{if(n&&window.confirm("Are you sure you want to clear your entire wishlist?"))try{p(!0),v("");const M=Je(Ge,"users",n.uid);await Kt(M,{wishlist:[]}),s([])}catch(M){console.error("Error clearing wishlist:",M),v("Failed to clear wishlist. Please try again.")}finally{p(!1)}},T=async()=>{if(!(!n||t.length===0)&&window.confirm("Move all wishlist items to cart?"))try{p(!0),v("");const M=Je(Ge,"users",n.uid),k=await vt(M);if(k.exists()){const L=k.data().cart||[],H=t.map(O=>({productId:O.productId,name:O.name,price:O.price,image:O.image,quantity:1,selectedSize:"M",selectedColor:"default",addedAt:new Date().toISOString()}));let Q=[...L];H.forEach(O=>{const S=Q.findIndex(A=>A.productId===O.productId);S>=0?Q[S].quantity+=1:Q.push(O)}),await Kt(M,{cart:Q,wishlist:[]}),l(Q),s([]),alert("All items moved to cart successfully!")}}catch(M){console.error("Error moving items to cart:",M),v("Failed to move items to cart. Please try again.")}finally{p(!1)}},R=M=>a.some(k=>k.productId===M);return u?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Ys,{className:"w-8 h-8 animate-spin text-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading your wishlist..."})]})}):n?t.length===0&&!u?c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-lg mr-4",children:c.jsx(vi,{size:20})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Wishlist"})]}),y&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:"text-red-600",children:y}),c.jsx("button",{onClick:()=>v(""),className:"text-red-700 hover:text-red-900 ml-4",children:""})]})}),c.jsxs("div",{className:"text-center py-16",children:[c.jsx(Nr,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Your wishlist is empty"}),c.jsx("p",{className:"text-gray-600 mb-8",children:"Save your favorite items for later!"}),c.jsx("button",{onClick:()=>window.location.href="/products",className:"bg-red-500 text-white px-8 py-3 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Explore Products"})]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-lg mr-4",children:c.jsx(vi,{size:20})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Wishlist"}),c.jsxs("span",{className:"ml-3 bg-red-100 text-red-600 px-3 py-1 rounded-full text-sm font-medium",children:[t.length," items"]})]}),t.length>0&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:T,disabled:m,className:"bg-red-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-600 disabled:opacity-50 transition-colors text-sm",children:"Move All to Cart"}),c.jsx("button",{onClick:j,disabled:m,className:"text-red-500 hover:text-red-700 font-medium text-sm disabled:opacity-50",children:"Clear All"})]})]}),y&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:"text-red-600",children:y}),c.jsx("button",{onClick:()=>v(""),className:"text-red-700 hover:text-red-900 ml-4",children:""})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((M,k)=>c.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden group",children:[c.jsxs("div",{className:"relative bg-gray-50 p-4",children:[c.jsx("div",{className:"aspect-square flex items-center justify-center",children:M.image?c.jsx("img",{src:M.image,alt:M.name,className:"max-w-full max-h-full object-contain"}):c.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-gray-400 text-sm",children:"No Image"})})}),c.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>window.location.href=`/product/${M.productId}`,className:"p-2 bg-white rounded-full shadow-md hover:bg-blue-50 hover:text-blue-600 transition-colors",title:"View Details",children:c.jsx(Aa,{size:16})}),c.jsx("button",{onClick:()=>b(M.productId),disabled:m,className:"p-2 bg-white rounded-full shadow-md hover:bg-red-50 hover:text-red-600 transition-colors disabled:opacity-50",title:"Remove from Wishlist",children:c.jsx(Ud,{size:16})})]})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"font-medium text-gray-800 mb-2 line-clamp-2 h-12",children:M.name}),c.jsxs("div",{className:"text-lg font-semibold text-red-500 mb-3",children:["",M.price?.toLocaleString()]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>N(M),disabled:m,className:`flex-1 py-2 px-3 rounded-lg font-medium text-sm transition-all ${R(M.productId)?"bg-green-100 text-green-700 border border-green-200":"bg-red-500 text-white hover:bg-red-600"} disabled:opacity-50 disabled:cursor-not-allowed`,children:m?c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx(Ys,{size:14,className:"animate-spin"}),c.jsx("span",{className:"hidden sm:inline",children:"Adding..."})]}):R(M.productId)?c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx(oc,{size:14}),c.jsx("span",{children:"In Cart"})]}):c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx(oc,{size:14}),c.jsx("span",{children:"Add to Cart"})]})}),c.jsx("button",{onClick:()=>b(M.productId),disabled:m,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove from Wishlist",children:c.jsx(Nr,{size:16,className:"fill-current"})})]}),c.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Added ",new Date(M.addedAt).toLocaleDateString()]})]})]},`${M.productId}-${k}`))}),c.jsx("div",{className:"text-center mt-12",children:c.jsx("button",{onClick:()=>window.location.href="/products",className:"bg-gray-100 text-gray-800 px-8 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Continue Shopping"})})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[c.jsx(Nr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Please Sign In"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to view your wishlist."}),c.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-red-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Sign In"})]})})},s8=()=>{const[n,e]=D.useState(null),[t,s]=D.useState([]),[a,l]=D.useState(!0),[u,h]=D.useState(!1),[m,p]=D.useState(""),[y,v]=D.useState(!1),[b,N]=D.useState(1),[j,T]=D.useState([]),[R,M]=D.useState(""),[k,q]=D.useState(!1),[L,H]=D.useState({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"Nigeria"}),[Q,O]=D.useState("card"),[S,A]=D.useState(!1),B=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"];D.useEffect(()=>{const $=ka(Mn,ne=>{e(ne),ne&&H(ae=>({...ae,email:ne.email||""})),ne||(s([]),l(!1))});return()=>$()},[]),D.useEffect(()=>{(async()=>{if(!n){s([]),T([]),l(!1);return}l(!0);try{const ne=Je(Ge,"users",n.uid),ae=await vt(ne);if(ae.exists()){const ge=ae.data();s(ge.cart||[]);const Ne=ge.addresses||[];T(Ne);const be=Ne.find(de=>de.isDefault);be&&(M(be.id),H({firstName:be.firstName||"",lastName:be.lastName||"",email:n.email||"",phone:"",address:be.address||"",city:be.city||"",state:be.state||"",zipCode:be.zip||"",country:be.country==="US"?"Nigeria":be.country||"Nigeria"}))}else s([]),T([])}catch(ne){console.error("Error fetching user data:",ne),p("Failed to load data. Please try again."),s([]),T([])}finally{l(!1)}})()},[n]);const V=t.reduce(($,ne)=>$+ne.price*ne.quantity,0),U=V*.08,P=t.length>0?V>1e5?0:2500:0,we=V+U+P,xe=($,ne)=>{H(ae=>({...ae,[$]:ne}))},K=$=>{if($==="new")q(!0),M(""),H({firstName:"",lastName:"",email:n?.email||"",phone:"",address:"",city:"",state:"",zipCode:"",country:"Nigeria"});else{q(!1),M($);const ne=j.find(ae=>ae.id===$);ne&&H({firstName:ne.firstName||"",lastName:ne.lastName||"",email:n?.email||"",phone:"",address:ne.address||"",city:ne.city||"",state:ne.state||"",zipCode:ne.zip||"",country:ne.country==="US"?"Nigeria":ne.country||"Nigeria"})}},re=()=>{if(!k&&R)return!0;const ne=["firstName","lastName","email","phone","address","city","state"].filter(ge=>!L[ge].trim());return ne.length>0?(p(`Please fill in: ${ne.join(", ")}`),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L.email)?L.phone.length<10?(p("Please enter a valid phone number"),!1):!0:(p("Please enter a valid email address"),!1)},he=()=>{if(!S){p("Payment system is not loaded yet. Please wait a moment and try again."),h(!1);return}if(!window.PaystackPop){p("Payment system failed to load. Please refresh the page."),h(!1);return}const $=n?.uid||"guest";window.PaystackPop.setup({key:"pk_test_193ff585726726ec44aac5aeda26996b1fb5753b",email:L.email,amount:Math.round(we*100),currency:"NGN",ref:`order_${Date.now()}_${$}`,metadata:{custom_fields:[{display_name:"Customer Name",variable_name:"customer_name",value:`${L.firstName} ${L.lastName}`},{display_name:"Phone Number",variable_name:"phone_number",value:L.phone}]},callback:function(ae){me(ae)},onClose:function(){h(!1),p("Payment was cancelled")}}).openIframe()};D.useEffect(()=>{const $="paystack-inline-js";if(document.getElementById($)){A(!!window.PaystackPop);return}const ne=document.createElement("script");return ne.id=$,ne.src="https://js.paystack.co/v1/inline.js",ne.async=!0,ne.onload=()=>A(!0),ne.onerror=()=>A(!1),document.body.appendChild(ne),()=>{}},[]);const me=async $=>{try{h(!0),p("");const ne={userId:n.uid,items:t,shippingInfo:L,paymentInfo:{method:Q,reference:$.reference,status:"completed"},orderSummary:{subtotal:V,tax:U,shipping:P,total:we},status:"processing",createdAt:Qw(),updatedAt:Qw()},ae=await ek(Mm(Ge,"orders"),ne),ge=Je(Ge,"users",n.uid);await Kt(ge,{cart:[]}),s([]),v(!0),N(3)}catch(ne){console.error("Error processing order:",ne),p("Failed to process order. Please contact support.")}finally{h(!1)}},z=async()=>{if(b===1){if(!re())return;N(2),p("")}else b===2&&(h(!0),p(""),Q==="card"?he():(p("Bank transfer payment is not yet implemented"),h(!1)))};return a?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Ys,{className:"w-8 h-8 animate-spin text-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading checkout..."})]})}):n?t.length===0&&!y?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[c.jsx(ac,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Your cart is empty"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Add some products before checking out."}),c.jsx("button",{onClick:()=>window.location.href="/products",className:"bg-red-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Continue Shopping"})]})}):y?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[c.jsx(fd,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Order Placed Successfully!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for your purchase. You'll receive a confirmation email shortly."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>window.location.href="/orders",className:"w-full bg-red-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"View My Orders"}),c.jsx("button",{onClick:()=>window.location.href="/products",className:"w-full bg-gray-100 text-gray-800 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Continue Shopping"})]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx("button",{onClick:()=>b>1?N(b-1):window.history.back(),className:"p-2 hover:bg-gray-100 rounded-lg mr-4",children:c.jsx(vi,{size:20})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Checkout"})]}),c.jsx("div",{className:"mb-8",children:c.jsx("div",{className:"flex items-center justify-center space-x-8",children:[{step:1,label:"Shipping Info",icon:Zu},{step:2,label:"Payment",icon:ra},{step:3,label:"Confirmation",icon:fd}].map(({step:$,label:ne,icon:ae})=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${$<=b?"bg-red-500 border-red-500 text-white":"border-gray-300 text-gray-300"}`,children:c.jsx(ae,{size:20})}),c.jsx("span",{className:`ml-2 text-sm font-medium ${$<=b?"text-red-500":"text-gray-400"}`,children:ne}),$<3&&c.jsx("div",{className:`w-16 h-0.5 ml-4 ${$<b?"bg-red-500":"bg-gray-300"}`})]},$))})}),m&&c.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(R9,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-red-600",children:m}),c.jsx("button",{onClick:()=>p(""),className:"mt-2 text-red-700 underline hover:no-underline text-sm",children:"Dismiss"})]})]})}),c.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2",children:[b===1&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx(cm,{className:"w-5 h-5 text-red-500 mr-2"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Shipping Information"})]}),j.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-md font-medium text-gray-700 mb-3",children:"Choose Shipping Address"}),c.jsxs("div",{className:"space-y-3",children:[j.map($=>c.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${R===$.id?"border-red-500 bg-red-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>K($.id),children:c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"selectedAddress",value:$.id,checked:R===$.id,onChange:()=>K($.id),className:"w-4 h-4 text-red-500 focus:ring-red-500 mr-3"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"font-medium text-gray-800",children:[$.firstName," ",$.lastName]}),$.isDefault&&c.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Default"})]}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:$.address}),c.jsxs("p",{className:"text-sm text-gray-600",children:[$.city,", ",$.state," ",$.zip]})]})]})})},$.id)),c.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${k?"border-red-500 bg-red-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>K("new"),children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"selectedAddress",value:"new",checked:k,onChange:()=>K("new"),className:"w-4 h-4 text-red-500 focus:ring-red-500 mr-3"}),c.jsx("span",{className:"font-medium text-gray-800",children:"+ Use a new address"})]})})]})]}),(j.length===0||k)&&c.jsxs("div",{children:[j.length>0&&c.jsx("h3",{className:"text-md font-medium text-gray-700 mb-4",children:"New Address Details"}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),c.jsx("input",{type:"text",value:L.firstName,onChange:$=>xe("firstName",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter your first name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),c.jsx("input",{type:"text",value:L.lastName,onChange:$=>xe("lastName",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter your last name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),c.jsx("input",{type:"email",value:L.email,onChange:$=>xe("email",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter your email"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),c.jsx("input",{type:"tel",value:L.phone,onChange:$=>xe("phone",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"080xxxxxxxx"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),c.jsx("input",{type:"text",value:L.address,onChange:$=>xe("address",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter your full address"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),c.jsx("input",{type:"text",value:L.city,onChange:$=>xe("city",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Enter your city"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),c.jsxs("select",{value:L.state,onChange:$=>xe("state",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[c.jsx("option",{value:"",children:"Select a state"}),B.map($=>c.jsx("option",{value:$,children:$},$))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),c.jsx("input",{type:"text",value:L.zipCode,onChange:$=>xe("zipCode",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Optional"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),c.jsx("input",{type:"text",value:L.country,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"})]})]}),k&&c.jsx("div",{className:"mt-4",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"w-4 h-4 text-red-500 focus:ring-red-500 rounded"}),c.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Save this address for future orders"})]})})]})]}),b===2&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[c.jsxs("div",{className:"flex items-center mb-6",children:[c.jsx(ra,{className:"w-5 h-5 text-red-500 mr-2"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Payment Method"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"border border-gray-300 rounded-lg p-4",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"paymentMethod",value:"card",checked:Q==="card",onChange:$=>O($.target.value),className:"w-4 h-4 text-red-500 focus:ring-red-500"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("div",{className:"font-medium text-gray-800",children:"Card Payment"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Pay securely with your debit/credit card via Paystack"})]})]})}),c.jsx("div",{className:"border border-gray-300 rounded-lg p-4 opacity-50",children:c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"radio",name:"paymentMethod",value:"bank_transfer",disabled:!0,className:"w-4 h-4 text-red-500 focus:ring-red-500"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("div",{className:"font-medium text-gray-800",children:"Bank Transfer"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Transfer directly to our bank account (Coming Soon)"})]})]})})]}),c.jsxs("div",{className:"mt-6 flex items-center p-3 bg-green-50 rounded-lg",children:[c.jsx(Ox,{className:"w-5 h-5 text-green-500 mr-3"}),c.jsx("div",{className:"text-sm text-green-800",children:"Your payment information is secure and encrypted. We use Paystack for safe transactions."})]})]})]}),c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-sm sticky top-8",children:[c.jsx("div",{className:"p-6 border-b border-gray-100",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Order Summary"})}),c.jsx("div",{className:"p-6 max-h-64 overflow-y-auto",children:t.map(($,ne)=>c.jsxs("div",{className:"flex items-center gap-3 mb-4 last:mb-0",children:[c.jsx("img",{src:$.image||"/api/placeholder/50/50",alt:$.name,className:"w-12 h-12 object-cover rounded-lg bg-gray-100"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-800 truncate",children:$.name}),c.jsxs("div",{className:"text-xs text-gray-500",children:[$.selectedSize&&`${$.selectedSize}  `,$.selectedColor]}),c.jsxs("div",{className:"text-sm font-semibold text-gray-800",children:["",$.price?.toLocaleString(),"  ",$.quantity]})]})]},`${$.productId}-${ne}`))}),c.jsxs("div",{className:"p-6 border-t border-gray-100 space-y-3",children:[c.jsxs("div",{className:"flex justify-between text-gray-600",children:[c.jsxs("span",{children:["Subtotal (",t.length," items)"]}),c.jsxs("span",{children:["",V.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between text-gray-600",children:[c.jsx("span",{children:"Shipping"}),c.jsx("span",{children:P===0?c.jsx("span",{className:"text-green-600 font-medium",children:"Free"}):`${P.toLocaleString()}`})]}),c.jsxs("div",{className:"flex justify-between text-gray-600",children:[c.jsx("span",{children:"Tax"}),c.jsxs("span",{children:["",U.toLocaleString()]})]}),c.jsx("hr",{className:"border-gray-200"}),c.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800",children:[c.jsx("span",{children:"Total"}),c.jsxs("span",{children:["",we.toLocaleString()]})]}),c.jsx("button",{onClick:z,disabled:u,className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-red-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors mt-6",children:u?c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ys,{size:16,className:"animate-spin"}),"Processing..."]}):b===1?"Continue to Payment":"Place Order"}),c.jsx("div",{className:"text-xs text-gray-500 text-center mt-4",children:" Secure checkout with SSL encryption"})]})]})})]})]})}):c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[c.jsx(ac,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Please Sign In"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to checkout."}),c.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-red-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Sign In"})]})})},r8=()=>{const[n,e]=D.useState(null),[t,s]=D.useState([]),[a,l]=D.useState(!0),[u,h]=D.useState(""),[m,p]=D.useState(null),[y,v]=D.useState("all"),[b,N]=D.useState("newest");D.useEffect(()=>{const k=ka(Mn,q=>{e(q),q||(s([]),l(!1))});return()=>k()},[]),D.useEffect(()=>{(async()=>{if(!n){s([]),l(!1);return}l(!0);try{const q=CT(Mm(Ge,"orders"),Q3("userId","==",n.uid),W3("createdAt","desc")),H=(await _x(q)).docs.map(Q=>({id:Q.id,...Q.data(),createdAt:Q.data().createdAt?.toDate()||new Date,updatedAt:Q.data().updatedAt?.toDate()||new Date}));s(H)}catch(q){console.error("Error fetching orders:",q),h("Failed to load orders. Please try again.")}finally{l(!1)}})()},[n]);const j={processing:{label:"Processing",color:"bg-yellow-100 text-yellow-800",icon:Gl},shipped:{label:"Shipped",color:"bg-blue-100 text-blue-800",icon:Mx},delivered:{label:"Delivered",color:"bg-green-100 text-green-800",icon:fd},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-800",icon:ca}},T=t.filter(k=>y==="all"||k.status===y).sort((k,q)=>{switch(b){case"newest":return new Date(q.createdAt)-new Date(k.createdAt);case"oldest":return new Date(k.createdAt)-new Date(q.createdAt);case"amount_high":return(q.orderSummary?.total||0)-(k.orderSummary?.total||0);case"amount_low":return(k.orderSummary?.total||0)-(q.orderSummary?.total||0);default:return 0}}),R=k=>new Date(k).toLocaleDateString("en-NG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(a)return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx($l,{className:"w-8 h-8 animate-pulse text-red-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading your orders..."})]})});if(!n)return c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[c.jsx($l,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Please Sign In"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to view your orders."}),c.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-red-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Sign In"})]})});const M=({order:k,onClose:q})=>{if(!k)return null;const L=j[k.status]?.icon||Gl;return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b border-gray-100 sticky top-0 bg-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Order Details"}),c.jsx("button",{onClick:q,className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Order Information"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Order ID:"})," ",k.id]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Date:"})," ",R(k.createdAt)]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-600",children:"Total:"})," ",(k.orderSummary?.total||0).toLocaleString()]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-gray-600",children:"Status:"}),c.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${j[k.status]?.color}`,children:[c.jsx(L,{size:12}),j[k.status]?.label]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Shipping Address"}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsxs("p",{children:[k.shippingInfo?.firstName||""," ",k.shippingInfo?.lastName||""]}),c.jsx("p",{children:k.shippingInfo?.address||"No address provided"}),c.jsxs("p",{children:[k.shippingInfo?.city||"",", ",k.shippingInfo?.state||""]}),c.jsx("p",{children:k.shippingInfo?.zipCode||""}),c.jsx("p",{children:k.shippingInfo?.phone||""})]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Order Items"}),c.jsx("div",{className:"space-y-3",children:(k.items||[]).map((H,Q)=>c.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[c.jsx("img",{src:H.image||"/api/placeholder/60/60",alt:H.name||"Product",className:"w-15 h-15 object-cover rounded-lg bg-white"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-gray-800",children:H.name||"Unknown Product"}),c.jsxs("div",{className:"text-sm text-gray-600",children:[H.selectedSize&&`Size: ${H.selectedSize}  `,H.selectedColor&&`Color: ${H.selectedColor}`]}),c.jsxs("div",{className:"text-sm font-semibold text-gray-800",children:["",(H.price||0).toLocaleString(),"  ",H.quantity||1]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("div",{className:"font-semibold text-gray-800",children:["",((H.price||0)*(H.quantity||1)).toLocaleString()]})})]},`${H.productId||Q}-${Q}`))})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Order Summary"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),c.jsxs("span",{children:["",(k.orderSummary?.subtotal||0).toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Shipping:"}),c.jsxs("span",{children:["",(k.orderSummary?.shipping||0).toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Tax:"}),c.jsxs("span",{children:["",(k.orderSummary?.tax||0).toLocaleString()]})]}),c.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold",children:[c.jsx("span",{children:"Total:"}),c.jsxs("span",{children:["",(k.orderSummary?.total||0).toLocaleString()]})]})]})]}),c.jsx("div",{className:"flex gap-3 mt-6",children:c.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 transition-colors",children:"Download Invoice"})})]})]})})};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-lg mr-4",children:c.jsx(vi,{size:20})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Orders"}),c.jsx("p",{className:"text-gray-600",children:"Track and manage your orders"})]})]})}),u&&c.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(ca,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-red-600",children:u}),c.jsx("button",{onClick:()=>h(""),className:"mt-2 text-red-700 underline hover:no-underline text-sm",children:"Dismiss"})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:c.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Km,{size:16,className:"text-gray-500"}),c.jsxs("select",{value:y,onChange:k=>v(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[c.jsx("option",{value:"all",children:"All Orders"}),c.jsx("option",{value:"processing",children:"Processing"}),c.jsx("option",{value:"shipped",children:"Shipped"}),c.jsx("option",{value:"delivered",children:"Delivered"}),c.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ld,{size:16,className:"text-gray-500"}),c.jsxs("select",{value:b,onChange:k=>N(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[c.jsx("option",{value:"newest",children:"Newest First"}),c.jsx("option",{value:"oldest",children:"Oldest First"}),c.jsx("option",{value:"amount_high",children:"Highest Amount"}),c.jsx("option",{value:"amount_low",children:"Lowest Amount"})]})]}),c.jsxs("div",{className:"text-sm text-gray-500 ml-auto",children:[T.length," of ",t.length," orders"]})]})}),T.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx($l,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No orders found"}),c.jsx("p",{className:"text-gray-600 mb-6",children:y==="all"?"You haven't placed any orders yet.":`No orders with status "${j[y]?.label||y}".`}),c.jsx("button",{onClick:()=>window.location.href="/products",className:"bg-red-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Start Shopping"})]}):c.jsx("div",{className:"space-y-4",children:T.map(k=>{const q=j[k.status]?.icon||Gl;return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsxs("h3",{className:"font-semibold text-gray-800",children:["Order #",k.id.slice(-8)]}),c.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${j[k.status]?.color}`,children:[c.jsx(q,{size:12}),j[k.status]?.label]})]}),c.jsx("p",{className:"text-sm text-gray-600",children:R(k.createdAt)})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-lg font-bold text-gray-800",children:["",(k.orderSummary?.total||0).toLocaleString()]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[(k.items||[]).length," item",(k.items||[]).length!==1?"s":""]})]})]}),c.jsxs("div",{className:"flex gap-3 mb-4 overflow-x-auto",children:[(k.items||[]).slice(0,3).map((L,H)=>c.jsx("img",{src:L.image||"/api/placeholder/50/50",alt:L.name||"Product",className:"w-12 h-12 object-cover rounded-lg bg-gray-100 flex-shrink-0"},`${L.productId||H}-${H}`)),(k.items||[]).length>3&&c.jsxs("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center text-xs text-gray-500 flex-shrink-0",children:["+",(k.items||[]).length-3]})]}),c.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[c.jsxs("button",{onClick:()=>p(k),className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[c.jsx(Aa,{size:16}),"View Details"]}),c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 transition-colors",children:[c.jsx(VM,{size:16}),"Invoice"]})]})]},k.id)})}),m&&c.jsx(M,{order:m,onClose:()=>p(null)})]})})},i8=()=>{const[n,e]=D.useState(!1);return c.jsx(c.Fragment,{children:c.jsxs(F9,{children:[n&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}),c.jsx(T4,{children:c.jsxs(cM,{setIsLoading:e,children:[c.jsx(q9,{}),c.jsxs(J2,{children:[c.jsx(gt,{path:"/",element:c.jsx(EL,{})}),c.jsx(gt,{path:"/Signup",element:c.jsx(CL,{})}),c.jsx(gt,{path:"/Login",element:c.jsx(RL,{})}),c.jsx(gt,{path:"/about",element:c.jsx(QL,{})}),c.jsx(gt,{path:"/contact",element:c.jsx(WL,{})}),c.jsx(gt,{path:"/products",element:c.jsx(e8,{})}),c.jsx(gt,{path:"*",element:c.jsx(JL,{})}),c.jsx(gt,{path:"/product/:id",element:c.jsx(XL,{})}),c.jsxs(gt,{element:c.jsx(uM,{}),children:[c.jsx(gt,{path:"/shoppingcart",element:c.jsx(IL,{})}),c.jsx(gt,{path:"/checkout",element:c.jsx(s8,{})}),c.jsx(gt,{path:"/account/*",element:c.jsx(zL,{})}),c.jsx(gt,{path:"/cart",element:c.jsx(t8,{})}),c.jsx(gt,{path:"/wishlist",element:c.jsx(n8,{})}),c.jsx(gt,{path:"/orders",element:c.jsx(r8,{})})]}),c.jsx(gt,{path:"*",element:c.jsx(Of,{to:"/",replace:!0})})]}),c.jsx(jL,{})]})})]})})};cC.createRoot(document.getElementById("root")).render(c.jsx(D.StrictMode,{children:c.jsx(i8,{})}));
